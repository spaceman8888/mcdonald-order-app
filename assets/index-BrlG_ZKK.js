var HB=Object.defineProperty;var qB=(t,e,n)=>e in t?HB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ra=(t,e,n)=>qB(t,typeof e!="symbol"?e+"":e,n);function GB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function hi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function WB(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),n}var Tv={exports:{}},nd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fR;function ZB(){if(fR)return nd;fR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var u in a)u!=="key"&&(i[u]=a[u])}else i=a;return a=i.ref,{$$typeof:t,type:r,key:o,ref:a!==void 0?a:null,props:i}}return nd.Fragment=e,nd.jsx=n,nd.jsxs=n,nd}var hR;function KB(){return hR||(hR=1,Tv.exports=ZB()),Tv.exports}var I=KB(),Cv={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pR;function YB(){if(pR)return Ge;pR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function g(j){return j===null||typeof j!="object"?null:(j=m&&j[m]||j["@@iterator"],typeof j=="function"?j:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function S(j,G,J){this.props=j,this.context=G,this.refs=w,this.updater=J||b}S.prototype.isReactComponent={},S.prototype.setState=function(j,G){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,G,"setState")},S.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function x(){}x.prototype=S.prototype;function C(j,G,J){this.props=j,this.context=G,this.refs=w,this.updater=J||b}var E=C.prototype=new x;E.constructor=C,v(E,S.prototype),E.isPureReactComponent=!0;var O=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function D(j,G,J,Q,le,ce){return J=ce.ref,{$$typeof:t,type:j,key:G,ref:J!==void 0?J:null,props:ce}}function P(j,G){return D(j.type,G,void 0,void 0,void 0,j.props)}function L(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function T(j){var G={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(J){return G[J]})}var B=/\/+/g;function Z(j,G){return typeof j=="object"&&j!==null&&j.key!=null?T(""+j.key):G.toString(36)}function ne(){}function q(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(ne,ne):(j.status="pending",j.then(function(G){j.status==="pending"&&(j.status="fulfilled",j.value=G)},function(G){j.status==="pending"&&(j.status="rejected",j.reason=G)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function F(j,G,J,Q,le){var ce=typeof j;(ce==="undefined"||ce==="boolean")&&(j=null);var fe=!1;if(j===null)fe=!0;else switch(ce){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(j.$$typeof){case t:case e:fe=!0;break;case h:return fe=j._init,F(fe(j._payload),G,J,Q,le)}}if(fe)return le=le(j),fe=Q===""?"."+Z(j,0):Q,O(le)?(J="",fe!=null&&(J=fe.replace(B,"$&/")+"/"),F(le,G,J,"",function(Oe){return Oe})):le!=null&&(L(le)&&(le=P(le,J+(le.key==null||j&&j.key===le.key?"":(""+le.key).replace(B,"$&/")+"/")+fe)),G.push(le)),1;fe=0;var Ae=Q===""?".":Q+":";if(O(j))for(var Ee=0;Ee<j.length;Ee++)Q=j[Ee],ce=Ae+Z(Q,Ee),fe+=F(Q,G,J,ce,le);else if(Ee=g(j),typeof Ee=="function")for(j=Ee.call(j),Ee=0;!(Q=j.next()).done;)Q=Q.value,ce=Ae+Z(Q,Ee++),fe+=F(Q,G,J,ce,le);else if(ce==="object"){if(typeof j.then=="function")return F(q(j),G,J,Q,le);throw G=String(j),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return fe}function M(j,G,J){if(j==null)return j;var Q=[],le=0;return F(j,Q,"","",function(ce){return G.call(J,ce,le++)}),Q}function z(j){if(j._status===-1){var G=j._result;G=G(),G.then(function(J){(j._status===0||j._status===-1)&&(j._status=1,j._result=J)},function(J){(j._status===0||j._status===-1)&&(j._status=2,j._result=J)}),j._status===-1&&(j._status=0,j._result=G)}if(j._status===1)return j._result.default;throw j._result}var K=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function V(){}return Ge.Children={map:M,forEach:function(j,G,J){M(j,function(){G.apply(this,arguments)},J)},count:function(j){var G=0;return M(j,function(){G++}),G},toArray:function(j){return M(j,function(G){return G})||[]},only:function(j){if(!L(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ge.Component=S,Ge.Fragment=n,Ge.Profiler=a,Ge.PureComponent=C,Ge.StrictMode=r,Ge.Suspense=c,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(j){return A.H.useMemoCache(j)}},Ge.cache=function(j){return function(){return j.apply(null,arguments)}},Ge.cloneElement=function(j,G,J){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var Q=v({},j.props),le=j.key,ce=void 0;if(G!=null)for(fe in G.ref!==void 0&&(ce=void 0),G.key!==void 0&&(le=""+G.key),G)!N.call(G,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&G.ref===void 0||(Q[fe]=G[fe]);var fe=arguments.length-2;if(fe===1)Q.children=J;else if(1<fe){for(var Ae=Array(fe),Ee=0;Ee<fe;Ee++)Ae[Ee]=arguments[Ee+2];Q.children=Ae}return D(j.type,le,void 0,void 0,ce,Q)},Ge.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:i,_context:j},j},Ge.createElement=function(j,G,J){var Q,le={},ce=null;if(G!=null)for(Q in G.key!==void 0&&(ce=""+G.key),G)N.call(G,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(le[Q]=G[Q]);var fe=arguments.length-2;if(fe===1)le.children=J;else if(1<fe){for(var Ae=Array(fe),Ee=0;Ee<fe;Ee++)Ae[Ee]=arguments[Ee+2];le.children=Ae}if(j&&j.defaultProps)for(Q in fe=j.defaultProps,fe)le[Q]===void 0&&(le[Q]=fe[Q]);return D(j,ce,void 0,void 0,null,le)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(j){return{$$typeof:u,render:j}},Ge.isValidElement=L,Ge.lazy=function(j){return{$$typeof:h,_payload:{_status:-1,_result:j},_init:z}},Ge.memo=function(j,G){return{$$typeof:f,type:j,compare:G===void 0?null:G}},Ge.startTransition=function(j){var G=A.T,J={};A.T=J;try{var Q=j(),le=A.S;le!==null&&le(J,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(V,K)}catch(ce){K(ce)}finally{A.T=G}},Ge.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Ge.use=function(j){return A.H.use(j)},Ge.useActionState=function(j,G,J){return A.H.useActionState(j,G,J)},Ge.useCallback=function(j,G){return A.H.useCallback(j,G)},Ge.useContext=function(j){return A.H.useContext(j)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(j,G){return A.H.useDeferredValue(j,G)},Ge.useEffect=function(j,G,J){var Q=A.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(j,G)},Ge.useId=function(){return A.H.useId()},Ge.useImperativeHandle=function(j,G,J){return A.H.useImperativeHandle(j,G,J)},Ge.useInsertionEffect=function(j,G){return A.H.useInsertionEffect(j,G)},Ge.useLayoutEffect=function(j,G){return A.H.useLayoutEffect(j,G)},Ge.useMemo=function(j,G){return A.H.useMemo(j,G)},Ge.useOptimistic=function(j,G){return A.H.useOptimistic(j,G)},Ge.useReducer=function(j,G,J){return A.H.useReducer(j,G,J)},Ge.useRef=function(j){return A.H.useRef(j)},Ge.useState=function(j){return A.H.useState(j)},Ge.useSyncExternalStore=function(j,G,J){return A.H.useSyncExternalStore(j,G,J)},Ge.useTransition=function(){return A.H.useTransition()},Ge.version="19.1.0",Ge}var mR;function vg(){return mR||(mR=1,Cv.exports=YB()),Cv.exports}var R=vg();const Vr=hi(R),L_=GB({__proto__:null,default:Vr},[R]);var Rv={exports:{}},rd={},Av={exports:{}},Ov={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gR;function XB(){return gR||(gR=1,function(t){function e(M,z){var K=M.length;M.push(z);e:for(;0<K;){var V=K-1>>>1,j=M[V];if(0<a(j,z))M[V]=z,M[K]=j,K=V;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var z=M[0],K=M.pop();if(K!==z){M[0]=K;e:for(var V=0,j=M.length,G=j>>>1;V<G;){var J=2*(V+1)-1,Q=M[J],le=J+1,ce=M[le];if(0>a(Q,K))le<j&&0>a(ce,Q)?(M[V]=ce,M[le]=K,V=le):(M[V]=Q,M[J]=K,V=J);else if(le<j&&0>a(ce,K))M[V]=ce,M[le]=K,V=le;else break e}}return z}function a(M,z){var K=M.sortIndex-z.sortIndex;return K!==0?K:M.id-z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],f=[],h=1,m=null,g=3,b=!1,v=!1,w=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function O(M){for(var z=n(f);z!==null;){if(z.callback===null)r(f);else if(z.startTime<=M)r(f),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(f)}}function A(M){if(w=!1,O(M),!v)if(n(c)!==null)v=!0,N||(N=!0,Z());else{var z=n(f);z!==null&&F(A,z.startTime-M)}}var N=!1,D=-1,P=5,L=-1;function T(){return S?!0:!(t.unstable_now()-L<P)}function B(){if(S=!1,N){var M=t.unstable_now();L=M;var z=!0;try{e:{v=!1,w&&(w=!1,C(D),D=-1),b=!0;var K=g;try{t:{for(O(M),m=n(c);m!==null&&!(m.expirationTime>M&&T());){var V=m.callback;if(typeof V=="function"){m.callback=null,g=m.priorityLevel;var j=V(m.expirationTime<=M);if(M=t.unstable_now(),typeof j=="function"){m.callback=j,O(M),z=!0;break t}m===n(c)&&r(c),O(M)}else r(c);m=n(c)}if(m!==null)z=!0;else{var G=n(f);G!==null&&F(A,G.startTime-M),z=!1}}break e}finally{m=null,g=K,b=!1}z=void 0}}finally{z?Z():N=!1}}}var Z;if(typeof E=="function")Z=function(){E(B)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,q=ne.port2;ne.port1.onmessage=B,Z=function(){q.postMessage(null)}}else Z=function(){x(B,0)};function F(M,z){D=x(function(){M(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(M){switch(g){case 1:case 2:case 3:var z=3;break;default:z=g}var K=g;g=z;try{return M()}finally{g=K}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(M,z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var K=g;g=M;try{return z()}finally{g=K}},t.unstable_scheduleCallback=function(M,z,K){var V=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?V+K:V):K=V,M){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=K+j,M={id:h++,callback:z,priorityLevel:M,startTime:K,expirationTime:j,sortIndex:-1},K>V?(M.sortIndex=K,e(f,M),n(c)===null&&M===n(f)&&(w?(C(D),D=-1):w=!0,F(A,K-V))):(M.sortIndex=j,e(c,M),v||b||(v=!0,N||(N=!0,Z()))),M},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(M){var z=g;return function(){var K=g;g=z;try{return M.apply(this,arguments)}finally{g=K}}}}(Ov)),Ov}var yR;function JB(){return yR||(yR=1,Av.exports=XB()),Av.exports}var kv={exports:{}},Qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bR;function QB(){if(bR)return Qn;bR=1;var t=vg();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(c,f,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:c,containerInfo:f,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qn.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return i(c,f,null,h)},Qn.flushSync=function(c){var f=o.T,h=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=f,r.p=h,r.d.f()}},Qn.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},Qn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Qn.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,m=u(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:b}):h==="script"&&r.d.X(c,{crossOrigin:m,integrity:g,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Qn.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},Qn.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,m=u(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Qn.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},Qn.requestFormReset=function(c){r.d.r(c)},Qn.unstable_batchedUpdates=function(c,f){return c(f)},Qn.useFormState=function(c,f,h){return o.H.useFormState(c,f,h)},Qn.useFormStatus=function(){return o.H.useHostTransitionStatus()},Qn.version="19.1.0",Qn}var vR;function Y$(){if(vR)return kv.exports;vR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kv.exports=QB(),kv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _R;function e4(){if(_R)return rd;_R=1;var t=JB(),e=vg(),n=Y$();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function i(s){var l=s,d=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(d=l.return),s=l.return;while(s)}return l.tag===3?d:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(i(s)!==s)throw Error(r(188))}function c(s){var l=s.alternate;if(!l){if(l=i(s),l===null)throw Error(r(188));return l!==s?null:s}for(var d=s,p=l;;){var y=d.return;if(y===null)break;var _=y.alternate;if(_===null){if(p=y.return,p!==null){d=p;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===d)return u(y),s;if(_===p)return u(y),l;_=_.sibling}throw Error(r(188))}if(d.return!==p.return)d=y,p=_;else{for(var k=!1,$=y.child;$;){if($===d){k=!0,d=y,p=_;break}if($===p){k=!0,p=y,d=_;break}$=$.sibling}if(!k){for($=_.child;$;){if($===d){k=!0,d=_,p=y;break}if($===p){k=!0,p=_,d=y;break}$=$.sibling}if(!k)throw Error(r(189))}}if(d.alternate!==p)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:l}function f(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=f(s),l!==null)return l;s=s.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),E=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),T=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function Z(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var ne=Symbol.for("react.client.reference");function q(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===ne?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case v:return"Fragment";case S:return"Profiler";case w:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList";case L:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case E:return(s.displayName||"Context")+".Provider";case C:return(s._context.displayName||"Context")+".Consumer";case O:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return l=s.displayName||null,l!==null?l:q(s.type)||"Memo";case P:l=s._payload,s=s._init;try{return q(s(l))}catch{}}return null}var F=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},V=[],j=-1;function G(s){return{current:s}}function J(s){0>j||(s.current=V[j],V[j]=null,j--)}function Q(s,l){j++,V[j]=s.current,s.current=l}var le=G(null),ce=G(null),fe=G(null),Ae=G(null);function Ee(s,l){switch(Q(fe,l),Q(ce,s),Q(le,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?UC(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=UC(l),s=zC(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}J(le),Q(le,s)}function Oe(){J(le),J(ce),J(fe)}function ye(s){s.memoizedState!==null&&Q(Ae,s);var l=le.current,d=zC(l,s.type);l!==d&&(Q(ce,s),Q(le,d))}function Me(s){ce.current===s&&(J(le),J(ce)),Ae.current===s&&(J(Ae),Xc._currentValue=K)}var ze=Object.prototype.hasOwnProperty,at=t.unstable_scheduleCallback,$e=t.unstable_cancelCallback,ut=t.unstable_shouldYield,vn=t.unstable_requestPaint,Je=t.unstable_now,mt=t.unstable_getCurrentPriorityLevel,gt=t.unstable_ImmediatePriority,Ft=t.unstable_UserBlockingPriority,ct=t.unstable_NormalPriority,we=t.unstable_LowPriority,Yn=t.unstable_IdlePriority,Gt=t.log,Ar=t.unstable_setDisableYieldValue,Xn=null,Kt=null;function Jt(s){if(typeof Gt=="function"&&Ar(s),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(Xn,s)}catch{}}var Wt=Math.clz32?Math.clz32:En,Vt=Math.log,ke=Math.LN2;function En(s){return s>>>=0,s===0?32:31-(Vt(s)/ke|0)|0}var Qt=256,on=4194304;function _e(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function yt(s,l,d){var p=s.pendingLanes;if(p===0)return 0;var y=0,_=s.suspendedLanes,k=s.pingedLanes;s=s.warmLanes;var $=p&134217727;return $!==0?(p=$&~_,p!==0?y=_e(p):(k&=$,k!==0?y=_e(k):d||(d=$&~s,d!==0&&(y=_e(d))))):($=p&~_,$!==0?y=_e($):k!==0?y=_e(k):d||(d=p&~s,d!==0&&(y=_e(d)))),y===0?0:l!==0&&l!==y&&(l&_)===0&&(_=y&-y,d=l&-l,_>=d||_===32&&(d&4194048)!==0)?l:y}function Zt(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function pa(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ba(){var s=Qt;return Qt<<=1,(Qt&4194048)===0&&(Qt=256),s}function gh(){var s=on;return on<<=1,(on&62914560)===0&&(on=4194304),s}function ic(s){for(var l=[],d=0;31>d;d++)l.push(s);return l}function gi(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function yy(s,l,d,p,y,_){var k=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var $=s.entanglements,U=s.expirationTimes,X=s.hiddenUpdates;for(d=k&~d;0<d;){var ie=31-Wt(d),oe=1<<ie;$[ie]=0,U[ie]=-1;var ee=X[ie];if(ee!==null)for(X[ie]=null,ie=0;ie<ee.length;ie++){var te=ee[ie];te!==null&&(te.lane&=-536870913)}d&=~oe}p!==0&&yh(s,p,0),_!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=_&~(k&~l))}function yh(s,l,d){s.pendingLanes|=l,s.suspendedLanes&=~l;var p=31-Wt(l);s.entangledLanes|=l,s.entanglements[p]=s.entanglements[p]|1073741824|d&4194090}function bh(s,l){var d=s.entangledLanes|=l;for(s=s.entanglements;d;){var p=31-Wt(d),y=1<<p;y&l|s[p]&l&&(s[p]|=l),d&=~y}}function sc(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function oc(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function vh(){var s=z.p;return s!==0?s:(s=window.event,s===void 0?32:sR(s.type))}function ge(s,l){var d=z.p;try{return z.p=s,l()}finally{z.p=d}}var be=Math.random().toString(36).slice(2),je="__reactFiber$"+be,Ue="__reactProps$"+be,Rt="__reactContainer$"+be,yr="__reactEvents$"+be,yi="__reactListeners$"+be,ao="__reactHandles$"+be,lc="__reactResources$"+be,bi="__reactMarker$"+be;function by(s){delete s[je],delete s[Ue],delete s[yr],delete s[yi],delete s[ao]}function Jo(s){var l=s[je];if(l)return l;for(var d=s.parentNode;d;){if(l=d[Rt]||d[je]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(s=qC(s);s!==null;){if(d=s[je])return d;s=qC(s)}return l}s=d,d=s.parentNode}return null}function Qo(s){if(s=s[je]||s[Rt]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function uc(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function el(s){var l=s[lc];return l||(l=s[lc]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function kn(s){s[bi]=!0}var OE=new Set,kE={};function io(s,l){tl(s,l),tl(s+"Capture",l)}function tl(s,l){for(kE[s]=l,s=0;s<l.length;s++)OE.add(l[s])}var ML=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),PE={},$E={};function LL(s){return ze.call($E,s)?!0:ze.call(PE,s)?!1:ML.test(s)?$E[s]=!0:(PE[s]=!0,!1)}function _h(s,l,d){if(LL(l))if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+d)}}function wh(s,l,d){if(d===null)s.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+d)}}function vi(s,l,d,p){if(p===null)s.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(l,d,""+p)}}var vy,IE;function nl(s){if(vy===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);vy=l&&l[1]||"",IE=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vy+s+IE}var _y=!1;function wy(s,l){if(!s||_y)return"";_y=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(te){var ee=te}Reflect.construct(s,[],oe)}else{try{oe.call()}catch(te){ee=te}s.call(oe.prototype)}}else{try{throw Error()}catch(te){ee=te}(oe=s())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=p.DetermineComponentFrameRoot(),k=_[0],$=_[1];if(k&&$){var U=k.split(`
`),X=$.split(`
`);for(y=p=0;p<U.length&&!U[p].includes("DetermineComponentFrameRoot");)p++;for(;y<X.length&&!X[y].includes("DetermineComponentFrameRoot");)y++;if(p===U.length||y===X.length)for(p=U.length-1,y=X.length-1;1<=p&&0<=y&&U[p]!==X[y];)y--;for(;1<=p&&0<=y;p--,y--)if(U[p]!==X[y]){if(p!==1||y!==1)do if(p--,y--,0>y||U[p]!==X[y]){var ie=`
`+U[p].replace(" at new "," at ");return s.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",s.displayName)),ie}while(1<=p&&0<=y);break}}}finally{_y=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?nl(d):""}function DL(s){switch(s.tag){case 26:case 27:case 5:return nl(s.type);case 16:return nl("Lazy");case 13:return nl("Suspense");case 19:return nl("SuspenseList");case 0:case 15:return wy(s.type,!1);case 11:return wy(s.type.render,!1);case 1:return wy(s.type,!0);case 31:return nl("Activity");default:return""}}function jE(s){try{var l="";do l+=DL(s),s=s.return;while(s);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Zr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function NE(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function BL(s){var l=NE(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),p=""+s[l];if(!s.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,_=d.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return y.call(this)},set:function(k){p=""+k,_.call(this,k)}}),Object.defineProperty(s,l,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(k){p=""+k},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Sh(s){s._valueTracker||(s._valueTracker=BL(s))}function ME(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return s&&(p=NE(s)?s.checked?"true":"false":s.value),s=p,s!==d?(l.setValue(s),!0):!1}function xh(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var UL=/[\n"\\]/g;function Kr(s){return s.replace(UL,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Sy(s,l,d,p,y,_,k,$){s.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.type=k:s.removeAttribute("type"),l!=null?k==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Zr(l)):s.value!==""+Zr(l)&&(s.value=""+Zr(l)):k!=="submit"&&k!=="reset"||s.removeAttribute("value"),l!=null?xy(s,k,Zr(l)):d!=null?xy(s,k,Zr(d)):p!=null&&s.removeAttribute("value"),y==null&&_!=null&&(s.defaultChecked=!!_),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?s.name=""+Zr($):s.removeAttribute("name")}function LE(s,l,d,p,y,_,k,$){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),l!=null||d!=null){if(!(_!=="submit"&&_!=="reset"||l!=null))return;d=d!=null?""+Zr(d):"",l=l!=null?""+Zr(l):d,$||l===s.value||(s.value=l),s.defaultValue=l}p=p??y,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=$?s.checked:!!p,s.defaultChecked=!!p,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(s.name=k)}function xy(s,l,d){l==="number"&&xh(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function rl(s,l,d,p){if(s=s.options,l){l={};for(var y=0;y<d.length;y++)l["$"+d[y]]=!0;for(d=0;d<s.length;d++)y=l.hasOwnProperty("$"+s[d].value),s[d].selected!==y&&(s[d].selected=y),y&&p&&(s[d].defaultSelected=!0)}else{for(d=""+Zr(d),l=null,y=0;y<s.length;y++){if(s[y].value===d){s[y].selected=!0,p&&(s[y].defaultSelected=!0);return}l!==null||s[y].disabled||(l=s[y])}l!==null&&(l.selected=!0)}}function DE(s,l,d){if(l!=null&&(l=""+Zr(l),l!==s.value&&(s.value=l),d==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=d!=null?""+Zr(d):""}function BE(s,l,d,p){if(l==null){if(p!=null){if(d!=null)throw Error(r(92));if(F(p)){if(1<p.length)throw Error(r(93));p=p[0]}d=p}d==null&&(d=""),l=d}d=Zr(l),s.defaultValue=d,p=s.textContent,p===d&&p!==""&&p!==null&&(s.value=p)}function al(s,l){if(l){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=l;return}}s.textContent=l}var zL=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function UE(s,l,d){var p=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":p?s.setProperty(l,d):typeof d!="number"||d===0||zL.has(l)?l==="float"?s.cssFloat=d:s[l]=(""+d).trim():s[l]=d+"px"}function zE(s,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var y in l)p=l[y],l.hasOwnProperty(y)&&d[y]!==p&&UE(s,y,p)}else for(var _ in l)l.hasOwnProperty(_)&&UE(s,_,l[_])}function Ey(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FL=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),VL=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Eh(s){return VL.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ty=null;function Cy(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var il=null,sl=null;function FE(s){var l=Qo(s);if(l&&(s=l.stateNode)){var d=s[Ue]||null;e:switch(s=l.stateNode,l.type){case"input":if(Sy(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Kr(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==s&&p.form===s.form){var y=p[Ue]||null;if(!y)throw Error(r(90));Sy(p,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(l=0;l<d.length;l++)p=d[l],p.form===s.form&&ME(p)}break e;case"textarea":DE(s,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&rl(s,!!d.multiple,l,!1)}}}var Ry=!1;function VE(s,l,d){if(Ry)return s(l,d);Ry=!0;try{var p=s(l);return p}finally{if(Ry=!1,(il!==null||sl!==null)&&(up(),il&&(l=il,s=sl,sl=il=null,FE(l),s)))for(l=0;l<s.length;l++)FE(s[l])}}function cc(s,l){var d=s.stateNode;if(d===null)return null;var p=d[Ue]||null;if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ay=!1;if(_i)try{var dc={};Object.defineProperty(dc,"passive",{get:function(){Ay=!0}}),window.addEventListener("test",dc,dc),window.removeEventListener("test",dc,dc)}catch{Ay=!1}var rs=null,Oy=null,Th=null;function HE(){if(Th)return Th;var s,l=Oy,d=l.length,p,y="value"in rs?rs.value:rs.textContent,_=y.length;for(s=0;s<d&&l[s]===y[s];s++);var k=d-s;for(p=1;p<=k&&l[d-p]===y[_-p];p++);return Th=y.slice(s,1<p?1-p:void 0)}function Ch(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Rh(){return!0}function qE(){return!1}function br(s){function l(d,p,y,_,k){this._reactName=d,this._targetInst=y,this.type=p,this.nativeEvent=_,this.target=k,this.currentTarget=null;for(var $ in s)s.hasOwnProperty($)&&(d=s[$],this[$]=d?d(_):_[$]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Rh:qE,this.isPropagationStopped=qE,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Rh)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Rh)},persist:function(){},isPersistent:Rh}),l}var so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ah=br(so),fc=h({},so,{view:0,detail:0}),HL=br(fc),ky,Py,hc,Oh=h({},fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iy,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==hc&&(hc&&s.type==="mousemove"?(ky=s.screenX-hc.screenX,Py=s.screenY-hc.screenY):Py=ky=0,hc=s),ky)},movementY:function(s){return"movementY"in s?s.movementY:Py}}),GE=br(Oh),qL=h({},Oh,{dataTransfer:0}),GL=br(qL),WL=h({},fc,{relatedTarget:0}),$y=br(WL),ZL=h({},so,{animationName:0,elapsedTime:0,pseudoElement:0}),KL=br(ZL),YL=h({},so,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),XL=br(YL),JL=h({},so,{data:0}),WE=br(JL),QL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nD(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=tD[s])?!!l[s]:!1}function Iy(){return nD}var rD=h({},fc,{key:function(s){if(s.key){var l=QL[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Ch(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?eD[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iy,charCode:function(s){return s.type==="keypress"?Ch(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ch(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),aD=br(rD),iD=h({},Oh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZE=br(iD),sD=h({},fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iy}),oD=br(sD),lD=h({},so,{propertyName:0,elapsedTime:0,pseudoElement:0}),uD=br(lD),cD=h({},Oh,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),dD=br(cD),fD=h({},so,{newState:0,oldState:0}),hD=br(fD),pD=[9,13,27,32],jy=_i&&"CompositionEvent"in window,pc=null;_i&&"documentMode"in document&&(pc=document.documentMode);var mD=_i&&"TextEvent"in window&&!pc,KE=_i&&(!jy||pc&&8<pc&&11>=pc),YE=" ",XE=!1;function JE(s,l){switch(s){case"keyup":return pD.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QE(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ol=!1;function gD(s,l){switch(s){case"compositionend":return QE(l);case"keypress":return l.which!==32?null:(XE=!0,YE);case"textInput":return s=l.data,s===YE&&XE?null:s;default:return null}}function yD(s,l){if(ol)return s==="compositionend"||!jy&&JE(s,l)?(s=HE(),Th=Oy=rs=null,ol=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return KE&&l.locale!=="ko"?null:l.data;default:return null}}var bD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e1(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!bD[s.type]:l==="textarea"}function t1(s,l,d,p){il?sl?sl.push(p):sl=[p]:il=p,l=mp(l,"onChange"),0<l.length&&(d=new Ah("onChange","change",null,d,p),s.push({event:d,listeners:l}))}var mc=null,gc=null;function vD(s){NC(s,0)}function kh(s){var l=uc(s);if(ME(l))return s}function n1(s,l){if(s==="change")return l}var r1=!1;if(_i){var Ny;if(_i){var My="oninput"in document;if(!My){var a1=document.createElement("div");a1.setAttribute("oninput","return;"),My=typeof a1.oninput=="function"}Ny=My}else Ny=!1;r1=Ny&&(!document.documentMode||9<document.documentMode)}function i1(){mc&&(mc.detachEvent("onpropertychange",s1),gc=mc=null)}function s1(s){if(s.propertyName==="value"&&kh(gc)){var l=[];t1(l,gc,s,Cy(s)),VE(vD,l)}}function _D(s,l,d){s==="focusin"?(i1(),mc=l,gc=d,mc.attachEvent("onpropertychange",s1)):s==="focusout"&&i1()}function wD(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return kh(gc)}function SD(s,l){if(s==="click")return kh(l)}function xD(s,l){if(s==="input"||s==="change")return kh(l)}function ED(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Or=typeof Object.is=="function"?Object.is:ED;function yc(s,l){if(Or(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var d=Object.keys(s),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var y=d[p];if(!ze.call(l,y)||!Or(s[y],l[y]))return!1}return!0}function o1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function l1(s,l){var d=o1(s);s=0;for(var p;d;){if(d.nodeType===3){if(p=s+d.textContent.length,s<=l&&p>=l)return{node:d,offset:l-s};s=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=o1(d)}}function u1(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?u1(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function c1(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=xh(s.document);l instanceof s.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)s=l.contentWindow;else break;l=xh(s.document)}return l}function Ly(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var TD=_i&&"documentMode"in document&&11>=document.documentMode,ll=null,Dy=null,bc=null,By=!1;function d1(s,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;By||ll==null||ll!==xh(p)||(p=ll,"selectionStart"in p&&Ly(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),bc&&yc(bc,p)||(bc=p,p=mp(Dy,"onSelect"),0<p.length&&(l=new Ah("onSelect","select",null,l,d),s.push({event:l,listeners:p}),l.target=ll)))}function oo(s,l){var d={};return d[s.toLowerCase()]=l.toLowerCase(),d["Webkit"+s]="webkit"+l,d["Moz"+s]="moz"+l,d}var ul={animationend:oo("Animation","AnimationEnd"),animationiteration:oo("Animation","AnimationIteration"),animationstart:oo("Animation","AnimationStart"),transitionrun:oo("Transition","TransitionRun"),transitionstart:oo("Transition","TransitionStart"),transitioncancel:oo("Transition","TransitionCancel"),transitionend:oo("Transition","TransitionEnd")},Uy={},f1={};_i&&(f1=document.createElement("div").style,"AnimationEvent"in window||(delete ul.animationend.animation,delete ul.animationiteration.animation,delete ul.animationstart.animation),"TransitionEvent"in window||delete ul.transitionend.transition);function lo(s){if(Uy[s])return Uy[s];if(!ul[s])return s;var l=ul[s],d;for(d in l)if(l.hasOwnProperty(d)&&d in f1)return Uy[s]=l[d];return s}var h1=lo("animationend"),p1=lo("animationiteration"),m1=lo("animationstart"),CD=lo("transitionrun"),RD=lo("transitionstart"),AD=lo("transitioncancel"),g1=lo("transitionend"),y1=new Map,zy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zy.push("scrollEnd");function ma(s,l){y1.set(s,l),io(l,[s])}var b1=new WeakMap;function Yr(s,l){if(typeof s=="object"&&s!==null){var d=b1.get(s);return d!==void 0?d:(l={value:s,source:l,stack:jE(l)},b1.set(s,l),l)}return{value:s,source:l,stack:jE(l)}}var Xr=[],cl=0,Fy=0;function Ph(){for(var s=cl,l=Fy=cl=0;l<s;){var d=Xr[l];Xr[l++]=null;var p=Xr[l];Xr[l++]=null;var y=Xr[l];Xr[l++]=null;var _=Xr[l];if(Xr[l++]=null,p!==null&&y!==null){var k=p.pending;k===null?y.next=y:(y.next=k.next,k.next=y),p.pending=y}_!==0&&v1(d,y,_)}}function $h(s,l,d,p){Xr[cl++]=s,Xr[cl++]=l,Xr[cl++]=d,Xr[cl++]=p,Fy|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function Vy(s,l,d,p){return $h(s,l,d,p),Ih(s)}function dl(s,l){return $h(s,null,null,l),Ih(s)}function v1(s,l,d){s.lanes|=d;var p=s.alternate;p!==null&&(p.lanes|=d);for(var y=!1,_=s.return;_!==null;)_.childLanes|=d,p=_.alternate,p!==null&&(p.childLanes|=d),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(y=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,y&&l!==null&&(y=31-Wt(d),s=_.hiddenUpdates,p=s[y],p===null?s[y]=[l]:p.push(l),l.lane=d|536870912),_):null}function Ih(s){if(50<Vc)throw Vc=0,Kb=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var fl={};function OD(s,l,d,p){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(s,l,d,p){return new OD(s,l,d,p)}function Hy(s){return s=s.prototype,!(!s||!s.isReactComponent)}function wi(s,l){var d=s.alternate;return d===null?(d=kr(s.tag,l,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=l,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,l=s.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function _1(s,l){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,l=d.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function jh(s,l,d,p,y,_){var k=0;if(p=s,typeof s=="function")Hy(s)&&(k=1);else if(typeof s=="string")k=PB(s,d,le.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case L:return s=kr(31,d,l,y),s.elementType=L,s.lanes=_,s;case v:return uo(d.children,y,_,l);case w:k=8,y|=24;break;case S:return s=kr(12,d,l,y|2),s.elementType=S,s.lanes=_,s;case A:return s=kr(13,d,l,y),s.elementType=A,s.lanes=_,s;case N:return s=kr(19,d,l,y),s.elementType=N,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case x:case E:k=10;break e;case C:k=9;break e;case O:k=11;break e;case D:k=14;break e;case P:k=16,p=null;break e}k=29,d=Error(r(130,s===null?"null":typeof s,"")),p=null}return l=kr(k,d,l,y),l.elementType=s,l.type=p,l.lanes=_,l}function uo(s,l,d,p){return s=kr(7,s,p,l),s.lanes=d,s}function qy(s,l,d){return s=kr(6,s,null,l),s.lanes=d,s}function Gy(s,l,d){return l=kr(4,s.children!==null?s.children:[],s.key,l),l.lanes=d,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var hl=[],pl=0,Nh=null,Mh=0,Jr=[],Qr=0,co=null,Si=1,xi="";function fo(s,l){hl[pl++]=Mh,hl[pl++]=Nh,Nh=s,Mh=l}function w1(s,l,d){Jr[Qr++]=Si,Jr[Qr++]=xi,Jr[Qr++]=co,co=s;var p=Si;s=xi;var y=32-Wt(p)-1;p&=~(1<<y),d+=1;var _=32-Wt(l)+y;if(30<_){var k=y-y%5;_=(p&(1<<k)-1).toString(32),p>>=k,y-=k,Si=1<<32-Wt(l)+y|d<<y|p,xi=_+s}else Si=1<<_|d<<y|p,xi=s}function Wy(s){s.return!==null&&(fo(s,1),w1(s,1,0))}function Zy(s){for(;s===Nh;)Nh=hl[--pl],hl[pl]=null,Mh=hl[--pl],hl[pl]=null;for(;s===co;)co=Jr[--Qr],Jr[Qr]=null,xi=Jr[--Qr],Jr[Qr]=null,Si=Jr[--Qr],Jr[Qr]=null}var lr=null,ln=null,_t=!1,ho=null,Ua=!1,Ky=Error(r(519));function po(s){var l=Error(r(418,""));throw wc(Yr(l,s)),Ky}function S1(s){var l=s.stateNode,d=s.type,p=s.memoizedProps;switch(l[je]=s,l[Ue]=p,d){case"dialog":ot("cancel",l),ot("close",l);break;case"iframe":case"object":case"embed":ot("load",l);break;case"video":case"audio":for(d=0;d<qc.length;d++)ot(qc[d],l);break;case"source":ot("error",l);break;case"img":case"image":case"link":ot("error",l),ot("load",l);break;case"details":ot("toggle",l);break;case"input":ot("invalid",l),LE(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),Sh(l);break;case"select":ot("invalid",l);break;case"textarea":ot("invalid",l),BE(l,p.value,p.defaultValue,p.children),Sh(l)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||p.suppressHydrationWarning===!0||BC(l.textContent,d)?(p.popover!=null&&(ot("beforetoggle",l),ot("toggle",l)),p.onScroll!=null&&ot("scroll",l),p.onScrollEnd!=null&&ot("scrollend",l),p.onClick!=null&&(l.onclick=gp),l=!0):l=!1,l||po(s)}function x1(s){for(lr=s.return;lr;)switch(lr.tag){case 5:case 13:Ua=!1;return;case 27:case 3:Ua=!0;return;default:lr=lr.return}}function vc(s){if(s!==lr)return!1;if(!_t)return x1(s),_t=!0,!1;var l=s.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||dv(s.type,s.memoizedProps)),d=!d),d&&ln&&po(s),x1(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(d=s.data,d==="/$"){if(l===0){ln=ya(s.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;s=s.nextSibling}ln=null}}else l===27?(l=ln,vs(s.type)?(s=mv,mv=null,ln=s):ln=l):ln=lr?ya(s.stateNode.nextSibling):null;return!0}function _c(){ln=lr=null,_t=!1}function E1(){var s=ho;return s!==null&&(wr===null?wr=s:wr.push.apply(wr,s),ho=null),s}function wc(s){ho===null?ho=[s]:ho.push(s)}var Yy=G(null),mo=null,Ei=null;function as(s,l,d){Q(Yy,l._currentValue),l._currentValue=d}function Ti(s){s._currentValue=Yy.current,J(Yy)}function Xy(s,l,d){for(;s!==null;){var p=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),s===d)break;s=s.return}}function Jy(s,l,d,p){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var _=y.dependencies;if(_!==null){var k=y.child;_=_.firstContext;e:for(;_!==null;){var $=_;_=y;for(var U=0;U<l.length;U++)if($.context===l[U]){_.lanes|=d,$=_.alternate,$!==null&&($.lanes|=d),Xy(_.return,d,s),p||(k=null);break e}_=$.next}}else if(y.tag===18){if(k=y.return,k===null)throw Error(r(341));k.lanes|=d,_=k.alternate,_!==null&&(_.lanes|=d),Xy(k,d,s),k=null}else k=y.child;if(k!==null)k.return=y;else for(k=y;k!==null;){if(k===s){k=null;break}if(y=k.sibling,y!==null){y.return=k.return,k=y;break}k=k.return}y=k}}function Sc(s,l,d,p){s=null;for(var y=l,_=!1;y!==null;){if(!_){if((y.flags&524288)!==0)_=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var k=y.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var $=y.type;Or(y.pendingProps.value,k.value)||(s!==null?s.push($):s=[$])}}else if(y===Ae.current){if(k=y.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(Xc):s=[Xc])}y=y.return}s!==null&&Jy(l,s,d,p),l.flags|=262144}function Lh(s){for(s=s.firstContext;s!==null;){if(!Or(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function go(s){mo=s,Ei=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Jn(s){return T1(mo,s)}function Dh(s,l){return mo===null&&go(s),T1(s,l)}function T1(s,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Ei===null){if(s===null)throw Error(r(308));Ei=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Ei=Ei.next=l;return d}var kD=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(d,p){s.push(p)}};this.abort=function(){l.aborted=!0,s.forEach(function(d){return d()})}},PD=t.unstable_scheduleCallback,$D=t.unstable_NormalPriority,Tn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qy(){return{controller:new kD,data:new Map,refCount:0}}function xc(s){s.refCount--,s.refCount===0&&PD($D,function(){s.controller.abort()})}var Ec=null,eb=0,ml=0,gl=null;function ID(s,l){if(Ec===null){var d=Ec=[];eb=0,ml=nv(),gl={status:"pending",value:void 0,then:function(p){d.push(p)}}}return eb++,l.then(C1,C1),l}function C1(){if(--eb===0&&Ec!==null){gl!==null&&(gl.status="fulfilled");var s=Ec;Ec=null,ml=0,gl=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function jD(s,l){var d=[],p={status:"pending",value:null,reason:null,then:function(y){d.push(y)}};return s.then(function(){p.status="fulfilled",p.value=l;for(var y=0;y<d.length;y++)(0,d[y])(l)},function(y){for(p.status="rejected",p.reason=y,y=0;y<d.length;y++)(0,d[y])(void 0)}),p}var R1=M.S;M.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&ID(s,l),R1!==null&&R1(s,l)};var yo=G(null);function tb(){var s=yo.current;return s!==null?s:Ht.pooledCache}function Bh(s,l){l===null?Q(yo,yo.current):Q(yo,l.pool)}function A1(){var s=tb();return s===null?null:{parent:Tn._currentValue,pool:s}}var Tc=Error(r(460)),O1=Error(r(474)),Uh=Error(r(542)),nb={then:function(){}};function k1(s){return s=s.status,s==="fulfilled"||s==="rejected"}function zh(){}function P1(s,l,d){switch(d=s[d],d===void 0?s.push(l):d!==l&&(l.then(zh,zh),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,I1(s),s;default:if(typeof l.status=="string")l.then(zh,zh);else{if(s=Ht,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(p){if(l.status==="pending"){var y=l;y.status="fulfilled",y.value=p}},function(p){if(l.status==="pending"){var y=l;y.status="rejected",y.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,I1(s),s}throw Cc=l,Tc}}var Cc=null;function $1(){if(Cc===null)throw Error(r(459));var s=Cc;return Cc=null,s}function I1(s){if(s===Tc||s===Uh)throw Error(r(483))}var is=!1;function rb(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ab(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ss(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function os(s,l,d){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(At&2)!==0){var y=p.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),p.pending=l,l=Ih(s),v1(s,null,d),l}return $h(s,p,l,d),Ih(s)}function Rc(s,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var p=l.lanes;p&=s.pendingLanes,d|=p,l.lanes=d,bh(s,d)}}function ib(s,l){var d=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var y=null,_=null;if(d=d.firstBaseUpdate,d!==null){do{var k={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};_===null?y=_=k:_=_.next=k,d=d.next}while(d!==null);_===null?y=_=l:_=_.next=l}else y=_=l;d={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:p.shared,callbacks:p.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=l:s.next=l,d.lastBaseUpdate=l}var sb=!1;function Ac(){if(sb){var s=gl;if(s!==null)throw s}}function Oc(s,l,d,p){sb=!1;var y=s.updateQueue;is=!1;var _=y.firstBaseUpdate,k=y.lastBaseUpdate,$=y.shared.pending;if($!==null){y.shared.pending=null;var U=$,X=U.next;U.next=null,k===null?_=X:k.next=X,k=U;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,$=ie.lastBaseUpdate,$!==k&&($===null?ie.firstBaseUpdate=X:$.next=X,ie.lastBaseUpdate=U))}if(_!==null){var oe=y.baseState;k=0,ie=X=U=null,$=_;do{var ee=$.lane&-536870913,te=ee!==$.lane;if(te?(ft&ee)===ee:(p&ee)===ee){ee!==0&&ee===ml&&(sb=!0),ie!==null&&(ie=ie.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Le=s,Pe=$;ee=l;var Nt=d;switch(Pe.tag){case 1:if(Le=Pe.payload,typeof Le=="function"){oe=Le.call(Nt,oe,ee);break e}oe=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Pe.payload,ee=typeof Le=="function"?Le.call(Nt,oe,ee):Le,ee==null)break e;oe=h({},oe,ee);break e;case 2:is=!0}}ee=$.callback,ee!==null&&(s.flags|=64,te&&(s.flags|=8192),te=y.callbacks,te===null?y.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ie===null?(X=ie=te,U=oe):ie=ie.next=te,k|=ee;if($=$.next,$===null){if($=y.shared.pending,$===null)break;te=$,$=te.next,te.next=null,y.lastBaseUpdate=te,y.shared.pending=null}}while(!0);ie===null&&(U=oe),y.baseState=U,y.firstBaseUpdate=X,y.lastBaseUpdate=ie,_===null&&(y.shared.lanes=0),ms|=k,s.lanes=k,s.memoizedState=oe}}function j1(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function N1(s,l){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)j1(d[s],l)}var yl=G(null),Fh=G(0);function M1(s,l){s=$i,Q(Fh,s),Q(yl,l),$i=s|l.baseLanes}function ob(){Q(Fh,$i),Q(yl,yl.current)}function lb(){$i=Fh.current,J(yl),J(Fh)}var ls=0,Qe=null,It=null,_n=null,Vh=!1,bl=!1,bo=!1,Hh=0,kc=0,vl=null,ND=0;function mn(){throw Error(r(321))}function ub(s,l){if(l===null)return!1;for(var d=0;d<l.length&&d<s.length;d++)if(!Or(s[d],l[d]))return!1;return!0}function cb(s,l,d,p,y,_){return ls=_,Qe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,M.H=s===null||s.memoizedState===null?vT:_T,bo=!1,_=d(p,y),bo=!1,bl&&(_=D1(l,d,p,y)),L1(s),_}function L1(s){M.H=Yh;var l=It!==null&&It.next!==null;if(ls=0,_n=It=Qe=null,Vh=!1,kc=0,vl=null,l)throw Error(r(300));s===null||Pn||(s=s.dependencies,s!==null&&Lh(s)&&(Pn=!0))}function D1(s,l,d,p){Qe=s;var y=0;do{if(bl&&(vl=null),kc=0,bl=!1,25<=y)throw Error(r(301));if(y+=1,_n=It=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}M.H=FD,_=l(d,p)}while(bl);return _}function MD(){var s=M.H,l=s.useState()[0];return l=typeof l.then=="function"?Pc(l):l,s=s.useState()[0],(It!==null?It.memoizedState:null)!==s&&(Qe.flags|=1024),l}function db(){var s=Hh!==0;return Hh=0,s}function fb(s,l,d){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~d}function hb(s){if(Vh){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Vh=!1}ls=0,_n=It=Qe=null,bl=!1,kc=Hh=0,vl=null}function vr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Qe.memoizedState=_n=s:_n=_n.next=s,_n}function wn(){if(It===null){var s=Qe.alternate;s=s!==null?s.memoizedState:null}else s=It.next;var l=_n===null?Qe.memoizedState:_n.next;if(l!==null)_n=l,It=s;else{if(s===null)throw Qe.alternate===null?Error(r(467)):Error(r(310));It=s,s={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},_n===null?Qe.memoizedState=_n=s:_n=_n.next=s}return _n}function pb(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pc(s){var l=kc;return kc+=1,vl===null&&(vl=[]),s=P1(vl,s,l),l=Qe,(_n===null?l.memoizedState:_n.next)===null&&(l=l.alternate,M.H=l===null||l.memoizedState===null?vT:_T),s}function qh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Pc(s);if(s.$$typeof===E)return Jn(s)}throw Error(r(438,String(s)))}function mb(s){var l=null,d=Qe.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var p=Qe.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(y){return y.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=pb(),Qe.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(s),p=0;p<s;p++)d[p]=T;return l.index++,d}function Ci(s,l){return typeof l=="function"?l(s):l}function Gh(s){var l=wn();return gb(l,It,s)}function gb(s,l,d){var p=s.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=d;var y=s.baseQueue,_=p.pending;if(_!==null){if(y!==null){var k=y.next;y.next=_.next,_.next=k}l.baseQueue=y=_,p.pending=null}if(_=s.baseState,y===null)s.memoizedState=_;else{l=y.next;var $=k=null,U=null,X=l,ie=!1;do{var oe=X.lane&-536870913;if(oe!==X.lane?(ft&oe)===oe:(ls&oe)===oe){var ee=X.revertLane;if(ee===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),oe===ml&&(ie=!0);else if((ls&ee)===ee){X=X.next,ee===ml&&(ie=!0);continue}else oe={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?($=U=oe,k=_):U=U.next=oe,Qe.lanes|=ee,ms|=ee;oe=X.action,bo&&d(_,oe),_=X.hasEagerState?X.eagerState:d(_,oe)}else ee={lane:oe,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},U===null?($=U=ee,k=_):U=U.next=ee,Qe.lanes|=oe,ms|=oe;X=X.next}while(X!==null&&X!==l);if(U===null?k=_:U.next=$,!Or(_,s.memoizedState)&&(Pn=!0,ie&&(d=gl,d!==null)))throw d;s.memoizedState=_,s.baseState=k,s.baseQueue=U,p.lastRenderedState=_}return y===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function yb(s){var l=wn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var p=d.dispatch,y=d.pending,_=l.memoizedState;if(y!==null){d.pending=null;var k=y=y.next;do _=s(_,k.action),k=k.next;while(k!==y);Or(_,l.memoizedState)||(Pn=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),d.lastRenderedState=_}return[_,p]}function B1(s,l,d){var p=Qe,y=wn(),_=_t;if(_){if(d===void 0)throw Error(r(407));d=d()}else d=l();var k=!Or((It||y).memoizedState,d);k&&(y.memoizedState=d,Pn=!0),y=y.queue;var $=F1.bind(null,p,y,s);if($c(2048,8,$,[s]),y.getSnapshot!==l||k||_n!==null&&_n.memoizedState.tag&1){if(p.flags|=2048,_l(9,Wh(),z1.bind(null,p,y,d,l),null),Ht===null)throw Error(r(349));_||(ls&124)!==0||U1(p,l,d)}return d}function U1(s,l,d){s.flags|=16384,s={getSnapshot:l,value:d},l=Qe.updateQueue,l===null?(l=pb(),Qe.updateQueue=l,l.stores=[s]):(d=l.stores,d===null?l.stores=[s]:d.push(s))}function z1(s,l,d,p){l.value=d,l.getSnapshot=p,V1(l)&&H1(s)}function F1(s,l,d){return d(function(){V1(l)&&H1(s)})}function V1(s){var l=s.getSnapshot;s=s.value;try{var d=l();return!Or(s,d)}catch{return!0}}function H1(s){var l=dl(s,2);l!==null&&Nr(l,s,2)}function bb(s){var l=vr();if(typeof s=="function"){var d=s;if(s=d(),bo){Jt(!0);try{d()}finally{Jt(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:s},l}function q1(s,l,d,p){return s.baseState=d,gb(s,It,typeof p=="function"?p:Ci)}function LD(s,l,d,p,y){if(Kh(s))throw Error(r(485));if(s=l.action,s!==null){var _={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){_.listeners.push(k)}};M.T!==null?d(!0):_.isTransition=!1,p(_),d=l.pending,d===null?(_.next=l.pending=_,G1(l,_)):(_.next=d.next,l.pending=d.next=_)}}function G1(s,l){var d=l.action,p=l.payload,y=s.state;if(l.isTransition){var _=M.T,k={};M.T=k;try{var $=d(y,p),U=M.S;U!==null&&U(k,$),W1(s,l,$)}catch(X){vb(s,l,X)}finally{M.T=_}}else try{_=d(y,p),W1(s,l,_)}catch(X){vb(s,l,X)}}function W1(s,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){Z1(s,l,p)},function(p){return vb(s,l,p)}):Z1(s,l,d)}function Z1(s,l,d){l.status="fulfilled",l.value=d,K1(l),s.state=d,l=s.pending,l!==null&&(d=l.next,d===l?s.pending=null:(d=d.next,l.next=d,G1(s,d)))}function vb(s,l,d){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=d,K1(l),l=l.next;while(l!==p)}s.action=null}function K1(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function Y1(s,l){return l}function X1(s,l){if(_t){var d=Ht.formState;if(d!==null){e:{var p=Qe;if(_t){if(ln){t:{for(var y=ln,_=Ua;y.nodeType!==8;){if(!_){y=null;break t}if(y=ya(y.nextSibling),y===null){y=null;break t}}_=y.data,y=_==="F!"||_==="F"?y:null}if(y){ln=ya(y.nextSibling),p=y.data==="F!";break e}}po(p)}p=!1}p&&(l=d[0])}}return d=vr(),d.memoizedState=d.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y1,lastRenderedState:l},d.queue=p,d=gT.bind(null,Qe,p),p.dispatch=d,p=bb(!1),_=Eb.bind(null,Qe,!1,p.queue),p=vr(),y={state:l,dispatch:null,action:s,pending:null},p.queue=y,d=LD.bind(null,Qe,y,_,d),y.dispatch=d,p.memoizedState=s,[l,d,!1]}function J1(s){var l=wn();return Q1(l,It,s)}function Q1(s,l,d){if(l=gb(s,l,Y1)[0],s=Gh(Ci)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=Pc(l)}catch(k){throw k===Tc?Uh:k}else p=l;l=wn();var y=l.queue,_=y.dispatch;return d!==l.memoizedState&&(Qe.flags|=2048,_l(9,Wh(),DD.bind(null,y,d),null)),[p,_,s]}function DD(s,l){s.action=l}function eT(s){var l=wn(),d=It;if(d!==null)return Q1(l,d,s);wn(),l=l.memoizedState,d=wn();var p=d.queue.dispatch;return d.memoizedState=s,[l,p,!1]}function _l(s,l,d,p){return s={tag:s,create:d,deps:p,inst:l,next:null},l=Qe.updateQueue,l===null&&(l=pb(),Qe.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=s.next=s:(p=d.next,d.next=s,s.next=p,l.lastEffect=s),s}function Wh(){return{destroy:void 0,resource:void 0}}function tT(){return wn().memoizedState}function Zh(s,l,d,p){var y=vr();p=p===void 0?null:p,Qe.flags|=s,y.memoizedState=_l(1|l,Wh(),d,p)}function $c(s,l,d,p){var y=wn();p=p===void 0?null:p;var _=y.memoizedState.inst;It!==null&&p!==null&&ub(p,It.memoizedState.deps)?y.memoizedState=_l(l,_,d,p):(Qe.flags|=s,y.memoizedState=_l(1|l,_,d,p))}function nT(s,l){Zh(8390656,8,s,l)}function rT(s,l){$c(2048,8,s,l)}function aT(s,l){return $c(4,2,s,l)}function iT(s,l){return $c(4,4,s,l)}function sT(s,l){if(typeof l=="function"){s=s();var d=l(s);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function oT(s,l,d){d=d!=null?d.concat([s]):null,$c(4,4,sT.bind(null,l,s),d)}function _b(){}function lT(s,l){var d=wn();l=l===void 0?null:l;var p=d.memoizedState;return l!==null&&ub(l,p[1])?p[0]:(d.memoizedState=[s,l],s)}function uT(s,l){var d=wn();l=l===void 0?null:l;var p=d.memoizedState;if(l!==null&&ub(l,p[1]))return p[0];if(p=s(),bo){Jt(!0);try{s()}finally{Jt(!1)}}return d.memoizedState=[p,l],p}function wb(s,l,d){return d===void 0||(ls&1073741824)!==0?s.memoizedState=l:(s.memoizedState=d,s=fC(),Qe.lanes|=s,ms|=s,d)}function cT(s,l,d,p){return Or(d,l)?d:yl.current!==null?(s=wb(s,d,p),Or(s,l)||(Pn=!0),s):(ls&42)===0?(Pn=!0,s.memoizedState=d):(s=fC(),Qe.lanes|=s,ms|=s,l)}function dT(s,l,d,p,y){var _=z.p;z.p=_!==0&&8>_?_:8;var k=M.T,$={};M.T=$,Eb(s,!1,l,d);try{var U=y(),X=M.S;if(X!==null&&X($,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ie=jD(U,p);Ic(s,l,ie,jr(s))}else Ic(s,l,p,jr(s))}catch(oe){Ic(s,l,{then:function(){},status:"rejected",reason:oe},jr())}finally{z.p=_,M.T=k}}function BD(){}function Sb(s,l,d,p){if(s.tag!==5)throw Error(r(476));var y=fT(s).queue;dT(s,y,l,K,d===null?BD:function(){return hT(s),d(p)})}function fT(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:K},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:d},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function hT(s){var l=fT(s).next.queue;Ic(s,l,{},jr())}function xb(){return Jn(Xc)}function pT(){return wn().memoizedState}function mT(){return wn().memoizedState}function UD(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var d=jr();s=ss(d);var p=os(l,s,d);p!==null&&(Nr(p,l,d),Rc(p,l,d)),l={cache:Qy()},s.payload=l;return}l=l.return}}function zD(s,l,d){var p=jr();d={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Kh(s)?yT(l,d):(d=Vy(s,l,d,p),d!==null&&(Nr(d,s,p),bT(d,l,p)))}function gT(s,l,d){var p=jr();Ic(s,l,d,p)}function Ic(s,l,d,p){var y={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Kh(s))yT(l,y);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var k=l.lastRenderedState,$=_(k,d);if(y.hasEagerState=!0,y.eagerState=$,Or($,k))return $h(s,l,y,0),Ht===null&&Ph(),!1}catch{}finally{}if(d=Vy(s,l,y,p),d!==null)return Nr(d,s,p),bT(d,l,p),!0}return!1}function Eb(s,l,d,p){if(p={lane:2,revertLane:nv(),action:p,hasEagerState:!1,eagerState:null,next:null},Kh(s)){if(l)throw Error(r(479))}else l=Vy(s,d,p,2),l!==null&&Nr(l,s,2)}function Kh(s){var l=s.alternate;return s===Qe||l!==null&&l===Qe}function yT(s,l){bl=Vh=!0;var d=s.pending;d===null?l.next=l:(l.next=d.next,d.next=l),s.pending=l}function bT(s,l,d){if((d&4194048)!==0){var p=l.lanes;p&=s.pendingLanes,d|=p,l.lanes=d,bh(s,d)}}var Yh={readContext:Jn,use:qh,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useLayoutEffect:mn,useInsertionEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useSyncExternalStore:mn,useId:mn,useHostTransitionStatus:mn,useFormState:mn,useActionState:mn,useOptimistic:mn,useMemoCache:mn,useCacheRefresh:mn},vT={readContext:Jn,use:qh,useCallback:function(s,l){return vr().memoizedState=[s,l===void 0?null:l],s},useContext:Jn,useEffect:nT,useImperativeHandle:function(s,l,d){d=d!=null?d.concat([s]):null,Zh(4194308,4,sT.bind(null,l,s),d)},useLayoutEffect:function(s,l){return Zh(4194308,4,s,l)},useInsertionEffect:function(s,l){Zh(4,2,s,l)},useMemo:function(s,l){var d=vr();l=l===void 0?null:l;var p=s();if(bo){Jt(!0);try{s()}finally{Jt(!1)}}return d.memoizedState=[p,l],p},useReducer:function(s,l,d){var p=vr();if(d!==void 0){var y=d(l);if(bo){Jt(!0);try{d(l)}finally{Jt(!1)}}}else y=l;return p.memoizedState=p.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},p.queue=s,s=s.dispatch=zD.bind(null,Qe,s),[p.memoizedState,s]},useRef:function(s){var l=vr();return s={current:s},l.memoizedState=s},useState:function(s){s=bb(s);var l=s.queue,d=gT.bind(null,Qe,l);return l.dispatch=d,[s.memoizedState,d]},useDebugValue:_b,useDeferredValue:function(s,l){var d=vr();return wb(d,s,l)},useTransition:function(){var s=bb(!1);return s=dT.bind(null,Qe,s.queue,!0,!1),vr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,d){var p=Qe,y=vr();if(_t){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Ht===null)throw Error(r(349));(ft&124)!==0||U1(p,l,d)}y.memoizedState=d;var _={value:d,getSnapshot:l};return y.queue=_,nT(F1.bind(null,p,_,s),[s]),p.flags|=2048,_l(9,Wh(),z1.bind(null,p,_,d,l),null),d},useId:function(){var s=vr(),l=Ht.identifierPrefix;if(_t){var d=xi,p=Si;d=(p&~(1<<32-Wt(p)-1)).toString(32)+d,l="«"+l+"R"+d,d=Hh++,0<d&&(l+="H"+d.toString(32)),l+="»"}else d=ND++,l="«"+l+"r"+d.toString(32)+"»";return s.memoizedState=l},useHostTransitionStatus:xb,useFormState:X1,useActionState:X1,useOptimistic:function(s){var l=vr();l.memoizedState=l.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=Eb.bind(null,Qe,!0,d),d.dispatch=l,[s,l]},useMemoCache:mb,useCacheRefresh:function(){return vr().memoizedState=UD.bind(null,Qe)}},_T={readContext:Jn,use:qh,useCallback:lT,useContext:Jn,useEffect:rT,useImperativeHandle:oT,useInsertionEffect:aT,useLayoutEffect:iT,useMemo:uT,useReducer:Gh,useRef:tT,useState:function(){return Gh(Ci)},useDebugValue:_b,useDeferredValue:function(s,l){var d=wn();return cT(d,It.memoizedState,s,l)},useTransition:function(){var s=Gh(Ci)[0],l=wn().memoizedState;return[typeof s=="boolean"?s:Pc(s),l]},useSyncExternalStore:B1,useId:pT,useHostTransitionStatus:xb,useFormState:J1,useActionState:J1,useOptimistic:function(s,l){var d=wn();return q1(d,It,s,l)},useMemoCache:mb,useCacheRefresh:mT},FD={readContext:Jn,use:qh,useCallback:lT,useContext:Jn,useEffect:rT,useImperativeHandle:oT,useInsertionEffect:aT,useLayoutEffect:iT,useMemo:uT,useReducer:yb,useRef:tT,useState:function(){return yb(Ci)},useDebugValue:_b,useDeferredValue:function(s,l){var d=wn();return It===null?wb(d,s,l):cT(d,It.memoizedState,s,l)},useTransition:function(){var s=yb(Ci)[0],l=wn().memoizedState;return[typeof s=="boolean"?s:Pc(s),l]},useSyncExternalStore:B1,useId:pT,useHostTransitionStatus:xb,useFormState:eT,useActionState:eT,useOptimistic:function(s,l){var d=wn();return It!==null?q1(d,It,s,l):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:mb,useCacheRefresh:mT},wl=null,jc=0;function Xh(s){var l=jc;return jc+=1,wl===null&&(wl=[]),P1(wl,s,l)}function Nc(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function Jh(s,l){throw l.$$typeof===m?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function wT(s){var l=s._init;return l(s._payload)}function ST(s){function l(W,H){if(s){var Y=W.deletions;Y===null?(W.deletions=[H],W.flags|=16):Y.push(H)}}function d(W,H){if(!s)return null;for(;H!==null;)l(W,H),H=H.sibling;return null}function p(W){for(var H=new Map;W!==null;)W.key!==null?H.set(W.key,W):H.set(W.index,W),W=W.sibling;return H}function y(W,H){return W=wi(W,H),W.index=0,W.sibling=null,W}function _(W,H,Y){return W.index=Y,s?(Y=W.alternate,Y!==null?(Y=Y.index,Y<H?(W.flags|=67108866,H):Y):(W.flags|=67108866,H)):(W.flags|=1048576,H)}function k(W){return s&&W.alternate===null&&(W.flags|=67108866),W}function $(W,H,Y,se){return H===null||H.tag!==6?(H=qy(Y,W.mode,se),H.return=W,H):(H=y(H,Y),H.return=W,H)}function U(W,H,Y,se){var ve=Y.type;return ve===v?ie(W,H,Y.props.children,se,Y.key):H!==null&&(H.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===P&&wT(ve)===H.type)?(H=y(H,Y.props),Nc(H,Y),H.return=W,H):(H=jh(Y.type,Y.key,Y.props,null,W.mode,se),Nc(H,Y),H.return=W,H)}function X(W,H,Y,se){return H===null||H.tag!==4||H.stateNode.containerInfo!==Y.containerInfo||H.stateNode.implementation!==Y.implementation?(H=Gy(Y,W.mode,se),H.return=W,H):(H=y(H,Y.children||[]),H.return=W,H)}function ie(W,H,Y,se,ve){return H===null||H.tag!==7?(H=uo(Y,W.mode,se,ve),H.return=W,H):(H=y(H,Y),H.return=W,H)}function oe(W,H,Y){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=qy(""+H,W.mode,Y),H.return=W,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case g:return Y=jh(H.type,H.key,H.props,null,W.mode,Y),Nc(Y,H),Y.return=W,Y;case b:return H=Gy(H,W.mode,Y),H.return=W,H;case P:var se=H._init;return H=se(H._payload),oe(W,H,Y)}if(F(H)||Z(H))return H=uo(H,W.mode,Y,null),H.return=W,H;if(typeof H.then=="function")return oe(W,Xh(H),Y);if(H.$$typeof===E)return oe(W,Dh(W,H),Y);Jh(W,H)}return null}function ee(W,H,Y,se){var ve=H!==null?H.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ve!==null?null:$(W,H,""+Y,se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case g:return Y.key===ve?U(W,H,Y,se):null;case b:return Y.key===ve?X(W,H,Y,se):null;case P:return ve=Y._init,Y=ve(Y._payload),ee(W,H,Y,se)}if(F(Y)||Z(Y))return ve!==null?null:ie(W,H,Y,se,null);if(typeof Y.then=="function")return ee(W,H,Xh(Y),se);if(Y.$$typeof===E)return ee(W,H,Dh(W,Y),se);Jh(W,Y)}return null}function te(W,H,Y,se,ve){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return W=W.get(Y)||null,$(H,W,""+se,ve);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case g:return W=W.get(se.key===null?Y:se.key)||null,U(H,W,se,ve);case b:return W=W.get(se.key===null?Y:se.key)||null,X(H,W,se,ve);case P:var it=se._init;return se=it(se._payload),te(W,H,Y,se,ve)}if(F(se)||Z(se))return W=W.get(Y)||null,ie(H,W,se,ve,null);if(typeof se.then=="function")return te(W,H,Y,Xh(se),ve);if(se.$$typeof===E)return te(W,H,Y,Dh(H,se),ve);Jh(H,se)}return null}function Le(W,H,Y,se){for(var ve=null,it=null,Te=H,Ie=H=0,In=null;Te!==null&&Ie<Y.length;Ie++){Te.index>Ie?(In=Te,Te=null):In=Te.sibling;var bt=ee(W,Te,Y[Ie],se);if(bt===null){Te===null&&(Te=In);break}s&&Te&&bt.alternate===null&&l(W,Te),H=_(bt,H,Ie),it===null?ve=bt:it.sibling=bt,it=bt,Te=In}if(Ie===Y.length)return d(W,Te),_t&&fo(W,Ie),ve;if(Te===null){for(;Ie<Y.length;Ie++)Te=oe(W,Y[Ie],se),Te!==null&&(H=_(Te,H,Ie),it===null?ve=Te:it.sibling=Te,it=Te);return _t&&fo(W,Ie),ve}for(Te=p(Te);Ie<Y.length;Ie++)In=te(Te,W,Ie,Y[Ie],se),In!==null&&(s&&In.alternate!==null&&Te.delete(In.key===null?Ie:In.key),H=_(In,H,Ie),it===null?ve=In:it.sibling=In,it=In);return s&&Te.forEach(function(Es){return l(W,Es)}),_t&&fo(W,Ie),ve}function Pe(W,H,Y,se){if(Y==null)throw Error(r(151));for(var ve=null,it=null,Te=H,Ie=H=0,In=null,bt=Y.next();Te!==null&&!bt.done;Ie++,bt=Y.next()){Te.index>Ie?(In=Te,Te=null):In=Te.sibling;var Es=ee(W,Te,bt.value,se);if(Es===null){Te===null&&(Te=In);break}s&&Te&&Es.alternate===null&&l(W,Te),H=_(Es,H,Ie),it===null?ve=Es:it.sibling=Es,it=Es,Te=In}if(bt.done)return d(W,Te),_t&&fo(W,Ie),ve;if(Te===null){for(;!bt.done;Ie++,bt=Y.next())bt=oe(W,bt.value,se),bt!==null&&(H=_(bt,H,Ie),it===null?ve=bt:it.sibling=bt,it=bt);return _t&&fo(W,Ie),ve}for(Te=p(Te);!bt.done;Ie++,bt=Y.next())bt=te(Te,W,Ie,bt.value,se),bt!==null&&(s&&bt.alternate!==null&&Te.delete(bt.key===null?Ie:bt.key),H=_(bt,H,Ie),it===null?ve=bt:it.sibling=bt,it=bt);return s&&Te.forEach(function(VB){return l(W,VB)}),_t&&fo(W,Ie),ve}function Nt(W,H,Y,se){if(typeof Y=="object"&&Y!==null&&Y.type===v&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case g:e:{for(var ve=Y.key;H!==null;){if(H.key===ve){if(ve=Y.type,ve===v){if(H.tag===7){d(W,H.sibling),se=y(H,Y.props.children),se.return=W,W=se;break e}}else if(H.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===P&&wT(ve)===H.type){d(W,H.sibling),se=y(H,Y.props),Nc(se,Y),se.return=W,W=se;break e}d(W,H);break}else l(W,H);H=H.sibling}Y.type===v?(se=uo(Y.props.children,W.mode,se,Y.key),se.return=W,W=se):(se=jh(Y.type,Y.key,Y.props,null,W.mode,se),Nc(se,Y),se.return=W,W=se)}return k(W);case b:e:{for(ve=Y.key;H!==null;){if(H.key===ve)if(H.tag===4&&H.stateNode.containerInfo===Y.containerInfo&&H.stateNode.implementation===Y.implementation){d(W,H.sibling),se=y(H,Y.children||[]),se.return=W,W=se;break e}else{d(W,H);break}else l(W,H);H=H.sibling}se=Gy(Y,W.mode,se),se.return=W,W=se}return k(W);case P:return ve=Y._init,Y=ve(Y._payload),Nt(W,H,Y,se)}if(F(Y))return Le(W,H,Y,se);if(Z(Y)){if(ve=Z(Y),typeof ve!="function")throw Error(r(150));return Y=ve.call(Y),Pe(W,H,Y,se)}if(typeof Y.then=="function")return Nt(W,H,Xh(Y),se);if(Y.$$typeof===E)return Nt(W,H,Dh(W,Y),se);Jh(W,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,H!==null&&H.tag===6?(d(W,H.sibling),se=y(H,Y),se.return=W,W=se):(d(W,H),se=qy(Y,W.mode,se),se.return=W,W=se),k(W)):d(W,H)}return function(W,H,Y,se){try{jc=0;var ve=Nt(W,H,Y,se);return wl=null,ve}catch(Te){if(Te===Tc||Te===Uh)throw Te;var it=kr(29,Te,null,W.mode);return it.lanes=se,it.return=W,it}finally{}}}var Sl=ST(!0),xT=ST(!1),ea=G(null),za=null;function us(s){var l=s.alternate;Q(Cn,Cn.current&1),Q(ea,s),za===null&&(l===null||yl.current!==null||l.memoizedState!==null)&&(za=s)}function ET(s){if(s.tag===22){if(Q(Cn,Cn.current),Q(ea,s),za===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(za=s)}}else cs()}function cs(){Q(Cn,Cn.current),Q(ea,ea.current)}function Ri(s){J(ea),za===s&&(za=null),J(Cn)}var Cn=G(0);function Qh(s){for(var l=s;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||pv(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Tb(s,l,d,p){l=s.memoizedState,d=d(p,l),d=d==null?l:h({},l,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Cb={enqueueSetState:function(s,l,d){s=s._reactInternals;var p=jr(),y=ss(p);y.payload=l,d!=null&&(y.callback=d),l=os(s,y,p),l!==null&&(Nr(l,s,p),Rc(l,s,p))},enqueueReplaceState:function(s,l,d){s=s._reactInternals;var p=jr(),y=ss(p);y.tag=1,y.payload=l,d!=null&&(y.callback=d),l=os(s,y,p),l!==null&&(Nr(l,s,p),Rc(l,s,p))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var d=jr(),p=ss(d);p.tag=2,l!=null&&(p.callback=l),l=os(s,p,d),l!==null&&(Nr(l,s,d),Rc(l,s,d))}};function TT(s,l,d,p,y,_,k){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,_,k):l.prototype&&l.prototype.isPureReactComponent?!yc(d,p)||!yc(y,_):!0}function CT(s,l,d,p){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==s&&Cb.enqueueReplaceState(l,l.state,null)}function vo(s,l){var d=l;if("ref"in l){d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}if(s=s.defaultProps){d===l&&(d=h({},d));for(var y in s)d[y]===void 0&&(d[y]=s[y])}return d}var ep=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function RT(s){ep(s)}function AT(s){console.error(s)}function OT(s){ep(s)}function tp(s,l){try{var d=s.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function kT(s,l,d){try{var p=s.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Rb(s,l,d){return d=ss(d),d.tag=3,d.payload={element:null},d.callback=function(){tp(s,l)},d}function PT(s){return s=ss(s),s.tag=3,s}function $T(s,l,d,p){var y=d.type.getDerivedStateFromError;if(typeof y=="function"){var _=p.value;s.payload=function(){return y(_)},s.callback=function(){kT(l,d,p)}}var k=d.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(s.callback=function(){kT(l,d,p),typeof y!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var $=p.stack;this.componentDidCatch(p.value,{componentStack:$!==null?$:""})})}function VD(s,l,d,p,y){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=d.alternate,l!==null&&Sc(l,d,y,!0),d=ea.current,d!==null){switch(d.tag){case 13:return za===null?Xb():d.alternate===null&&un===0&&(un=3),d.flags&=-257,d.flags|=65536,d.lanes=y,p===nb?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([p]):l.add(p),Qb(s,p,y)),!1;case 22:return d.flags|=65536,p===nb?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([p]):d.add(p)),Qb(s,p,y)),!1}throw Error(r(435,d.tag))}return Qb(s,p,y),Xb(),!1}if(_t)return l=ea.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=y,p!==Ky&&(s=Error(r(422),{cause:p}),wc(Yr(s,d)))):(p!==Ky&&(l=Error(r(423),{cause:p}),wc(Yr(l,d))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,p=Yr(p,d),y=Rb(s.stateNode,p,y),ib(s,y),un!==4&&(un=2)),!1;var _=Error(r(520),{cause:p});if(_=Yr(_,d),Fc===null?Fc=[_]:Fc.push(_),un!==4&&(un=2),l===null)return!0;p=Yr(p,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,s=y&-y,d.lanes|=s,s=Rb(d.stateNode,p,s),ib(d,s),!1;case 1:if(l=d.type,_=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(gs===null||!gs.has(_))))return d.flags|=65536,y&=-y,d.lanes|=y,y=PT(y),$T(y,s,d,p),ib(d,y),!1}d=d.return}while(d!==null);return!1}var IT=Error(r(461)),Pn=!1;function Un(s,l,d,p){l.child=s===null?xT(l,null,d,p):Sl(l,s.child,d,p)}function jT(s,l,d,p,y){d=d.render;var _=l.ref;if("ref"in p){var k={};for(var $ in p)$!=="ref"&&(k[$]=p[$])}else k=p;return go(l),p=cb(s,l,d,k,_,y),$=db(),s!==null&&!Pn?(fb(s,l,y),Ai(s,l,y)):(_t&&$&&Wy(l),l.flags|=1,Un(s,l,p,y),l.child)}function NT(s,l,d,p,y){if(s===null){var _=d.type;return typeof _=="function"&&!Hy(_)&&_.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=_,MT(s,l,_,p,y)):(s=jh(d.type,null,p,l,l.mode,y),s.ref=l.ref,s.return=l,l.child=s)}if(_=s.child,!Nb(s,y)){var k=_.memoizedProps;if(d=d.compare,d=d!==null?d:yc,d(k,p)&&s.ref===l.ref)return Ai(s,l,y)}return l.flags|=1,s=wi(_,p),s.ref=l.ref,s.return=l,l.child=s}function MT(s,l,d,p,y){if(s!==null){var _=s.memoizedProps;if(yc(_,p)&&s.ref===l.ref)if(Pn=!1,l.pendingProps=p=_,Nb(s,y))(s.flags&131072)!==0&&(Pn=!0);else return l.lanes=s.lanes,Ai(s,l,y)}return Ab(s,l,d,p,y)}function LT(s,l,d){var p=l.pendingProps,y=p.children,_=s!==null?s.memoizedState:null;if(p.mode==="hidden"){if((l.flags&128)!==0){if(p=_!==null?_.baseLanes|d:d,s!==null){for(y=l.child=s.child,_=0;y!==null;)_=_|y.lanes|y.childLanes,y=y.sibling;l.childLanes=_&~p}else l.childLanes=0,l.child=null;return DT(s,l,p,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&Bh(l,_!==null?_.cachePool:null),_!==null?M1(l,_):ob(),ET(l);else return l.lanes=l.childLanes=536870912,DT(s,l,_!==null?_.baseLanes|d:d,d)}else _!==null?(Bh(l,_.cachePool),M1(l,_),cs(),l.memoizedState=null):(s!==null&&Bh(l,null),ob(),cs());return Un(s,l,y,d),l.child}function DT(s,l,d,p){var y=tb();return y=y===null?null:{parent:Tn._currentValue,pool:y},l.memoizedState={baseLanes:d,cachePool:y},s!==null&&Bh(l,null),ob(),ET(l),s!==null&&Sc(s,l,p,!0),null}function np(s,l){var d=l.ref;if(d===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(s===null||s.ref!==d)&&(l.flags|=4194816)}}function Ab(s,l,d,p,y){return go(l),d=cb(s,l,d,p,void 0,y),p=db(),s!==null&&!Pn?(fb(s,l,y),Ai(s,l,y)):(_t&&p&&Wy(l),l.flags|=1,Un(s,l,d,y),l.child)}function BT(s,l,d,p,y,_){return go(l),l.updateQueue=null,d=D1(l,p,d,y),L1(s),p=db(),s!==null&&!Pn?(fb(s,l,_),Ai(s,l,_)):(_t&&p&&Wy(l),l.flags|=1,Un(s,l,d,_),l.child)}function UT(s,l,d,p,y){if(go(l),l.stateNode===null){var _=fl,k=d.contextType;typeof k=="object"&&k!==null&&(_=Jn(k)),_=new d(p,_),l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Cb,l.stateNode=_,_._reactInternals=l,_=l.stateNode,_.props=p,_.state=l.memoizedState,_.refs={},rb(l),k=d.contextType,_.context=typeof k=="object"&&k!==null?Jn(k):fl,_.state=l.memoizedState,k=d.getDerivedStateFromProps,typeof k=="function"&&(Tb(l,d,k,p),_.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(k=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),k!==_.state&&Cb.enqueueReplaceState(_,_.state,null),Oc(l,p,_,y),Ac(),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(s===null){_=l.stateNode;var $=l.memoizedProps,U=vo(d,$);_.props=U;var X=_.context,ie=d.contextType;k=fl,typeof ie=="object"&&ie!==null&&(k=Jn(ie));var oe=d.getDerivedStateFromProps;ie=typeof oe=="function"||typeof _.getSnapshotBeforeUpdate=="function",$=l.pendingProps!==$,ie||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||($||X!==k)&&CT(l,_,p,k),is=!1;var ee=l.memoizedState;_.state=ee,Oc(l,p,_,y),Ac(),X=l.memoizedState,$||ee!==X||is?(typeof oe=="function"&&(Tb(l,d,oe,p),X=l.memoizedState),(U=is||TT(l,d,U,p,ee,X,k))?(ie||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=X),_.props=p,_.state=X,_.context=k,p=U):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{_=l.stateNode,ab(s,l),k=l.memoizedProps,ie=vo(d,k),_.props=ie,oe=l.pendingProps,ee=_.context,X=d.contextType,U=fl,typeof X=="object"&&X!==null&&(U=Jn(X)),$=d.getDerivedStateFromProps,(X=typeof $=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(k!==oe||ee!==U)&&CT(l,_,p,U),is=!1,ee=l.memoizedState,_.state=ee,Oc(l,p,_,y),Ac();var te=l.memoizedState;k!==oe||ee!==te||is||s!==null&&s.dependencies!==null&&Lh(s.dependencies)?(typeof $=="function"&&(Tb(l,d,$,p),te=l.memoizedState),(ie=is||TT(l,d,ie,p,ee,te,U)||s!==null&&s.dependencies!==null&&Lh(s.dependencies))?(X||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(p,te,U),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(p,te,U)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||k===s.memoizedProps&&ee===s.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&ee===s.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=te),_.props=p,_.state=te,_.context=U,p=ie):(typeof _.componentDidUpdate!="function"||k===s.memoizedProps&&ee===s.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||k===s.memoizedProps&&ee===s.memoizedState||(l.flags|=1024),p=!1)}return _=p,np(s,l),p=(l.flags&128)!==0,_||p?(_=l.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:_.render(),l.flags|=1,s!==null&&p?(l.child=Sl(l,s.child,null,y),l.child=Sl(l,null,d,y)):Un(s,l,d,y),l.memoizedState=_.state,s=l.child):s=Ai(s,l,y),s}function zT(s,l,d,p){return _c(),l.flags|=256,Un(s,l,d,p),l.child}var Ob={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kb(s){return{baseLanes:s,cachePool:A1()}}function Pb(s,l,d){return s=s!==null?s.childLanes&~d:0,l&&(s|=ta),s}function FT(s,l,d){var p=l.pendingProps,y=!1,_=(l.flags&128)!==0,k;if((k=_)||(k=s!==null&&s.memoizedState===null?!1:(Cn.current&2)!==0),k&&(y=!0,l.flags&=-129),k=(l.flags&32)!==0,l.flags&=-33,s===null){if(_t){if(y?us(l):cs(),_t){var $=ln,U;if(U=$){e:{for(U=$,$=Ua;U.nodeType!==8;){if(!$){$=null;break e}if(U=ya(U.nextSibling),U===null){$=null;break e}}$=U}$!==null?(l.memoizedState={dehydrated:$,treeContext:co!==null?{id:Si,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},U=kr(18,null,null,0),U.stateNode=$,U.return=l,l.child=U,lr=l,ln=null,U=!0):U=!1}U||po(l)}if($=l.memoizedState,$!==null&&($=$.dehydrated,$!==null))return pv($)?l.lanes=32:l.lanes=536870912,null;Ri(l)}return $=p.children,p=p.fallback,y?(cs(),y=l.mode,$=rp({mode:"hidden",children:$},y),p=uo(p,y,d,null),$.return=l,p.return=l,$.sibling=p,l.child=$,y=l.child,y.memoizedState=kb(d),y.childLanes=Pb(s,k,d),l.memoizedState=Ob,p):(us(l),$b(l,$))}if(U=s.memoizedState,U!==null&&($=U.dehydrated,$!==null)){if(_)l.flags&256?(us(l),l.flags&=-257,l=Ib(s,l,d)):l.memoizedState!==null?(cs(),l.child=s.child,l.flags|=128,l=null):(cs(),y=p.fallback,$=l.mode,p=rp({mode:"visible",children:p.children},$),y=uo(y,$,d,null),y.flags|=2,p.return=l,y.return=l,p.sibling=y,l.child=p,Sl(l,s.child,null,d),p=l.child,p.memoizedState=kb(d),p.childLanes=Pb(s,k,d),l.memoizedState=Ob,l=y);else if(us(l),pv($)){if(k=$.nextSibling&&$.nextSibling.dataset,k)var X=k.dgst;k=X,p=Error(r(419)),p.stack="",p.digest=k,wc({value:p,source:null,stack:null}),l=Ib(s,l,d)}else if(Pn||Sc(s,l,d,!1),k=(d&s.childLanes)!==0,Pn||k){if(k=Ht,k!==null&&(p=d&-d,p=(p&42)!==0?1:sc(p),p=(p&(k.suspendedLanes|d))!==0?0:p,p!==0&&p!==U.retryLane))throw U.retryLane=p,dl(s,p),Nr(k,s,p),IT;$.data==="$?"||Xb(),l=Ib(s,l,d)}else $.data==="$?"?(l.flags|=192,l.child=s.child,l=null):(s=U.treeContext,ln=ya($.nextSibling),lr=l,_t=!0,ho=null,Ua=!1,s!==null&&(Jr[Qr++]=Si,Jr[Qr++]=xi,Jr[Qr++]=co,Si=s.id,xi=s.overflow,co=l),l=$b(l,p.children),l.flags|=4096);return l}return y?(cs(),y=p.fallback,$=l.mode,U=s.child,X=U.sibling,p=wi(U,{mode:"hidden",children:p.children}),p.subtreeFlags=U.subtreeFlags&65011712,X!==null?y=wi(X,y):(y=uo(y,$,d,null),y.flags|=2),y.return=l,p.return=l,p.sibling=y,l.child=p,p=y,y=l.child,$=s.child.memoizedState,$===null?$=kb(d):(U=$.cachePool,U!==null?(X=Tn._currentValue,U=U.parent!==X?{parent:X,pool:X}:U):U=A1(),$={baseLanes:$.baseLanes|d,cachePool:U}),y.memoizedState=$,y.childLanes=Pb(s,k,d),l.memoizedState=Ob,p):(us(l),d=s.child,s=d.sibling,d=wi(d,{mode:"visible",children:p.children}),d.return=l,d.sibling=null,s!==null&&(k=l.deletions,k===null?(l.deletions=[s],l.flags|=16):k.push(s)),l.child=d,l.memoizedState=null,d)}function $b(s,l){return l=rp({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function rp(s,l){return s=kr(22,s,null,l),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Ib(s,l,d){return Sl(l,s.child,null,d),s=$b(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function VT(s,l,d){s.lanes|=l;var p=s.alternate;p!==null&&(p.lanes|=l),Xy(s.return,l,d)}function jb(s,l,d,p,y){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:y}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=d,_.tailMode=y)}function HT(s,l,d){var p=l.pendingProps,y=p.revealOrder,_=p.tail;if(Un(s,l,p.children,d),p=Cn.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&VT(s,d,l);else if(s.tag===19)VT(s,d,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}switch(Q(Cn,p),y){case"forwards":for(d=l.child,y=null;d!==null;)s=d.alternate,s!==null&&Qh(s)===null&&(y=d),d=d.sibling;d=y,d===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),jb(l,!1,y,d,_);break;case"backwards":for(d=null,y=l.child,l.child=null;y!==null;){if(s=y.alternate,s!==null&&Qh(s)===null){l.child=y;break}s=y.sibling,y.sibling=d,d=y,y=s}jb(l,!0,d,null,_);break;case"together":jb(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ai(s,l,d){if(s!==null&&(l.dependencies=s.dependencies),ms|=l.lanes,(d&l.childLanes)===0)if(s!==null){if(Sc(s,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,d=wi(s,s.pendingProps),l.child=d,d.return=l;s.sibling!==null;)s=s.sibling,d=d.sibling=wi(s,s.pendingProps),d.return=l;d.sibling=null}return l.child}function Nb(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&Lh(s)))}function HD(s,l,d){switch(l.tag){case 3:Ee(l,l.stateNode.containerInfo),as(l,Tn,s.memoizedState.cache),_c();break;case 27:case 5:ye(l);break;case 4:Ee(l,l.stateNode.containerInfo);break;case 10:as(l,l.type,l.memoizedProps.value);break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(us(l),l.flags|=128,null):(d&l.child.childLanes)!==0?FT(s,l,d):(us(l),s=Ai(s,l,d),s!==null?s.sibling:null);us(l);break;case 19:var y=(s.flags&128)!==0;if(p=(d&l.childLanes)!==0,p||(Sc(s,l,d,!1),p=(d&l.childLanes)!==0),y){if(p)return HT(s,l,d);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Q(Cn,Cn.current),p)break;return null;case 22:case 23:return l.lanes=0,LT(s,l,d);case 24:as(l,Tn,s.memoizedState.cache)}return Ai(s,l,d)}function qT(s,l,d){if(s!==null)if(s.memoizedProps!==l.pendingProps)Pn=!0;else{if(!Nb(s,d)&&(l.flags&128)===0)return Pn=!1,HD(s,l,d);Pn=(s.flags&131072)!==0}else Pn=!1,_t&&(l.flags&1048576)!==0&&w1(l,Mh,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var p=l.elementType,y=p._init;if(p=y(p._payload),l.type=p,typeof p=="function")Hy(p)?(s=vo(p,s),l.tag=1,l=UT(null,l,p,s,d)):(l.tag=0,l=Ab(null,l,p,s,d));else{if(p!=null){if(y=p.$$typeof,y===O){l.tag=11,l=jT(null,l,p,s,d);break e}else if(y===D){l.tag=14,l=NT(null,l,p,s,d);break e}}throw l=q(p)||p,Error(r(306,l,""))}}return l;case 0:return Ab(s,l,l.type,l.pendingProps,d);case 1:return p=l.type,y=vo(p,l.pendingProps),UT(s,l,p,y,d);case 3:e:{if(Ee(l,l.stateNode.containerInfo),s===null)throw Error(r(387));p=l.pendingProps;var _=l.memoizedState;y=_.element,ab(s,l),Oc(l,p,null,d);var k=l.memoizedState;if(p=k.cache,as(l,Tn,p),p!==_.cache&&Jy(l,[Tn],d,!0),Ac(),p=k.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:k.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=zT(s,l,p,d);break e}else if(p!==y){y=Yr(Error(r(424)),l),wc(y),l=zT(s,l,p,d);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ln=ya(s.firstChild),lr=l,_t=!0,ho=null,Ua=!0,d=xT(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(_c(),p===y){l=Ai(s,l,d);break e}Un(s,l,p,d)}l=l.child}return l;case 26:return np(s,l),s===null?(d=KC(l.type,null,l.pendingProps,null))?l.memoizedState=d:_t||(d=l.type,s=l.pendingProps,p=yp(fe.current).createElement(d),p[je]=l,p[Ue]=s,Fn(p,d,s),kn(p),l.stateNode=p):l.memoizedState=KC(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return ye(l),s===null&&_t&&(p=l.stateNode=GC(l.type,l.pendingProps,fe.current),lr=l,Ua=!0,y=ln,vs(l.type)?(mv=y,ln=ya(p.firstChild)):ln=y),Un(s,l,l.pendingProps.children,d),np(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&_t&&((y=p=ln)&&(p=bB(p,l.type,l.pendingProps,Ua),p!==null?(l.stateNode=p,lr=l,ln=ya(p.firstChild),Ua=!1,y=!0):y=!1),y||po(l)),ye(l),y=l.type,_=l.pendingProps,k=s!==null?s.memoizedProps:null,p=_.children,dv(y,_)?p=null:k!==null&&dv(y,k)&&(l.flags|=32),l.memoizedState!==null&&(y=cb(s,l,MD,null,null,d),Xc._currentValue=y),np(s,l),Un(s,l,p,d),l.child;case 6:return s===null&&_t&&((s=d=ln)&&(d=vB(d,l.pendingProps,Ua),d!==null?(l.stateNode=d,lr=l,ln=null,s=!0):s=!1),s||po(l)),null;case 13:return FT(s,l,d);case 4:return Ee(l,l.stateNode.containerInfo),p=l.pendingProps,s===null?l.child=Sl(l,null,p,d):Un(s,l,p,d),l.child;case 11:return jT(s,l,l.type,l.pendingProps,d);case 7:return Un(s,l,l.pendingProps,d),l.child;case 8:return Un(s,l,l.pendingProps.children,d),l.child;case 12:return Un(s,l,l.pendingProps.children,d),l.child;case 10:return p=l.pendingProps,as(l,l.type,p.value),Un(s,l,p.children,d),l.child;case 9:return y=l.type._context,p=l.pendingProps.children,go(l),y=Jn(y),p=p(y),l.flags|=1,Un(s,l,p,d),l.child;case 14:return NT(s,l,l.type,l.pendingProps,d);case 15:return MT(s,l,l.type,l.pendingProps,d);case 19:return HT(s,l,d);case 31:return p=l.pendingProps,d=l.mode,p={mode:p.mode,children:p.children},s===null?(d=rp(p,d),d.ref=l.ref,l.child=d,d.return=l,l=d):(d=wi(s.child,p),d.ref=l.ref,l.child=d,d.return=l,l=d),l;case 22:return LT(s,l,d);case 24:return go(l),p=Jn(Tn),s===null?(y=tb(),y===null&&(y=Ht,_=Qy(),y.pooledCache=_,_.refCount++,_!==null&&(y.pooledCacheLanes|=d),y=_),l.memoizedState={parent:p,cache:y},rb(l),as(l,Tn,y)):((s.lanes&d)!==0&&(ab(s,l),Oc(l,null,null,d),Ac()),y=s.memoizedState,_=l.memoizedState,y.parent!==p?(y={parent:p,cache:p},l.memoizedState=y,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=y),as(l,Tn,p)):(p=_.cache,as(l,Tn,p),p!==y.cache&&Jy(l,[Tn],d,!0))),Un(s,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Oi(s){s.flags|=4}function GT(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!eR(l)){if(l=ea.current,l!==null&&((ft&4194048)===ft?za!==null:(ft&62914560)!==ft&&(ft&536870912)===0||l!==za))throw Cc=nb,O1;s.flags|=8192}}function ap(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?gh():536870912,s.lanes|=l,Cl|=l)}function Mc(s,l){if(!_t)switch(s.tailMode){case"hidden":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function en(s){var l=s.alternate!==null&&s.alternate.child===s.child,d=0,p=0;if(l)for(var y=s.child;y!==null;)d|=y.lanes|y.childLanes,p|=y.subtreeFlags&65011712,p|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)d|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=p,s.childLanes=d,l}function qD(s,l,d){var p=l.pendingProps;switch(Zy(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(l),null;case 1:return en(l),null;case 3:return d=l.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Ti(Tn),Oe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(vc(l)?Oi(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,E1())),en(l),null;case 26:return d=l.memoizedState,s===null?(Oi(l),d!==null?(en(l),GT(l,d)):(en(l),l.flags&=-16777217)):d?d!==s.memoizedState?(Oi(l),en(l),GT(l,d)):(en(l),l.flags&=-16777217):(s.memoizedProps!==p&&Oi(l),en(l),l.flags&=-16777217),null;case 27:Me(l),d=fe.current;var y=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==p&&Oi(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return en(l),null}s=le.current,vc(l)?S1(l):(s=GC(y,p,d),l.stateNode=s,Oi(l))}return en(l),null;case 5:if(Me(l),d=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==p&&Oi(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return en(l),null}if(s=le.current,vc(l))S1(l);else{switch(y=yp(fe.current),s){case 1:s=y.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:s=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":s=y.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":s=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":s=y.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof p.is=="string"?y.createElement("select",{is:p.is}):y.createElement("select"),p.multiple?s.multiple=!0:p.size&&(s.size=p.size);break;default:s=typeof p.is=="string"?y.createElement(d,{is:p.is}):y.createElement(d)}}s[je]=l,s[Ue]=p;e:for(y=l.child;y!==null;){if(y.tag===5||y.tag===6)s.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===l)break e;for(;y.sibling===null;){if(y.return===null||y.return===l)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}l.stateNode=s;e:switch(Fn(s,d,p),d){case"button":case"input":case"select":case"textarea":s=!!p.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Oi(l)}}return en(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==p&&Oi(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(r(166));if(s=fe.current,vc(l)){if(s=l.stateNode,d=l.memoizedProps,p=null,y=lr,y!==null)switch(y.tag){case 27:case 5:p=y.memoizedProps}s[je]=l,s=!!(s.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||BC(s.nodeValue,d)),s||po(l)}else s=yp(s).createTextNode(p),s[je]=l,l.stateNode=s}return en(l),null;case 13:if(p=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=vc(l),p!==null&&p.dehydrated!==null){if(s===null){if(!y)throw Error(r(318));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[je]=l}else _c(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;en(l),y=!1}else y=E1(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return l.flags&256?(Ri(l),l):(Ri(l),null)}if(Ri(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=p!==null,s=s!==null&&s.memoizedState!==null,d){p=l.child,y=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(y=p.alternate.memoizedState.cachePool.pool);var _=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(_=p.memoizedState.cachePool.pool),_!==y&&(p.flags|=2048)}return d!==s&&d&&(l.child.flags|=8192),ap(l,l.updateQueue),en(l),null;case 4:return Oe(),s===null&&sv(l.stateNode.containerInfo),en(l),null;case 10:return Ti(l.type),en(l),null;case 19:if(J(Cn),y=l.memoizedState,y===null)return en(l),null;if(p=(l.flags&128)!==0,_=y.rendering,_===null)if(p)Mc(y,!1);else{if(un!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(_=Qh(s),_!==null){for(l.flags|=128,Mc(y,!1),s=_.updateQueue,l.updateQueue=s,ap(l,s),l.subtreeFlags=0,s=d,d=l.child;d!==null;)_1(d,s),d=d.sibling;return Q(Cn,Cn.current&1|2),l.child}s=s.sibling}y.tail!==null&&Je()>op&&(l.flags|=128,p=!0,Mc(y,!1),l.lanes=4194304)}else{if(!p)if(s=Qh(_),s!==null){if(l.flags|=128,p=!0,s=s.updateQueue,l.updateQueue=s,ap(l,s),Mc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!_.alternate&&!_t)return en(l),null}else 2*Je()-y.renderingStartTime>op&&d!==536870912&&(l.flags|=128,p=!0,Mc(y,!1),l.lanes=4194304);y.isBackwards?(_.sibling=l.child,l.child=_):(s=y.last,s!==null?s.sibling=_:l.child=_,y.last=_)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=Je(),l.sibling=null,s=Cn.current,Q(Cn,p?s&1|2:s&1),l):(en(l),null);case 22:case 23:return Ri(l),lb(),p=l.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(d&536870912)!==0&&(l.flags&128)===0&&(en(l),l.subtreeFlags&6&&(l.flags|=8192)):en(l),d=l.updateQueue,d!==null&&ap(l,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048),s!==null&&J(yo),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Ti(Tn),en(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function GD(s,l){switch(Zy(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Ti(Tn),Oe(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Me(l),null;case 13:if(Ri(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));_c()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return J(Cn),null;case 4:return Oe(),null;case 10:return Ti(l.type),null;case 22:case 23:return Ri(l),lb(),s!==null&&J(yo),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Ti(Tn),null;case 25:return null;default:return null}}function WT(s,l){switch(Zy(l),l.tag){case 3:Ti(Tn),Oe();break;case 26:case 27:case 5:Me(l);break;case 4:Oe();break;case 13:Ri(l);break;case 19:J(Cn);break;case 10:Ti(l.type);break;case 22:case 23:Ri(l),lb(),s!==null&&J(yo);break;case 24:Ti(Tn)}}function Lc(s,l){try{var d=l.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var y=p.next;d=y;do{if((d.tag&s)===s){p=void 0;var _=d.create,k=d.inst;p=_(),k.destroy=p}d=d.next}while(d!==y)}}catch($){Bt(l,l.return,$)}}function ds(s,l,d){try{var p=l.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var _=y.next;p=_;do{if((p.tag&s)===s){var k=p.inst,$=k.destroy;if($!==void 0){k.destroy=void 0,y=l;var U=d,X=$;try{X()}catch(ie){Bt(y,U,ie)}}}p=p.next}while(p!==_)}}catch(ie){Bt(l,l.return,ie)}}function ZT(s){var l=s.updateQueue;if(l!==null){var d=s.stateNode;try{N1(l,d)}catch(p){Bt(s,s.return,p)}}}function KT(s,l,d){d.props=vo(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(p){Bt(s,l,p)}}function Dc(s,l){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var p=s.stateNode;break;case 30:p=s.stateNode;break;default:p=s.stateNode}typeof d=="function"?s.refCleanup=d(p):d.current=p}}catch(y){Bt(s,l,y)}}function Fa(s,l){var d=s.ref,p=s.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(y){Bt(s,l,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(y){Bt(s,l,y)}else d.current=null}function YT(s){var l=s.type,d=s.memoizedProps,p=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(y){Bt(s,s.return,y)}}function Mb(s,l,d){try{var p=s.stateNode;hB(p,s.type,d,l),p[Ue]=l}catch(y){Bt(s,s.return,y)}}function XT(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&vs(s.type)||s.tag===4}function Lb(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||XT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&vs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Db(s,l,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(s),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=gp));else if(p!==4&&(p===27&&vs(s.type)&&(d=s.stateNode,l=null),s=s.child,s!==null))for(Db(s,l,d),s=s.sibling;s!==null;)Db(s,l,d),s=s.sibling}function ip(s,l,d){var p=s.tag;if(p===5||p===6)s=s.stateNode,l?d.insertBefore(s,l):d.appendChild(s);else if(p!==4&&(p===27&&vs(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(ip(s,l,d),s=s.sibling;s!==null;)ip(s,l,d),s=s.sibling}function JT(s){var l=s.stateNode,d=s.memoizedProps;try{for(var p=s.type,y=l.attributes;y.length;)l.removeAttributeNode(y[0]);Fn(l,p,d),l[je]=s,l[Ue]=d}catch(_){Bt(s,s.return,_)}}var ki=!1,gn=!1,Bb=!1,QT=typeof WeakSet=="function"?WeakSet:Set,$n=null;function WD(s,l){if(s=s.containerInfo,uv=xp,s=c1(s),Ly(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var y=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{d.nodeType,_.nodeType}catch{d=null;break e}var k=0,$=-1,U=-1,X=0,ie=0,oe=s,ee=null;t:for(;;){for(var te;oe!==d||y!==0&&oe.nodeType!==3||($=k+y),oe!==_||p!==0&&oe.nodeType!==3||(U=k+p),oe.nodeType===3&&(k+=oe.nodeValue.length),(te=oe.firstChild)!==null;)ee=oe,oe=te;for(;;){if(oe===s)break t;if(ee===d&&++X===y&&($=k),ee===_&&++ie===p&&(U=k),(te=oe.nextSibling)!==null)break;oe=ee,ee=oe.parentNode}oe=te}d=$===-1||U===-1?null:{start:$,end:U}}else d=null}d=d||{start:0,end:0}}else d=null;for(cv={focusedElem:s,selectionRange:d},xp=!1,$n=l;$n!==null;)if(l=$n,s=l.child,(l.subtreeFlags&1024)!==0&&s!==null)s.return=l,$n=s;else for(;$n!==null;){switch(l=$n,_=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,d=l,y=_.memoizedProps,_=_.memoizedState,p=d.stateNode;try{var Le=vo(d.type,y,d.elementType===d.type);s=p.getSnapshotBeforeUpdate(Le,_),p.__reactInternalSnapshotBeforeUpdate=s}catch(Pe){Bt(d,d.return,Pe)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,d=s.nodeType,d===9)hv(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":hv(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,$n=s;break}$n=l.return}}function eC(s,l,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:fs(s,d),p&4&&Lc(5,d);break;case 1:if(fs(s,d),p&4)if(s=d.stateNode,l===null)try{s.componentDidMount()}catch(k){Bt(d,d.return,k)}else{var y=vo(d.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(y,l,s.__reactInternalSnapshotBeforeUpdate)}catch(k){Bt(d,d.return,k)}}p&64&&ZT(d),p&512&&Dc(d,d.return);break;case 3:if(fs(s,d),p&64&&(s=d.updateQueue,s!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{N1(s,l)}catch(k){Bt(d,d.return,k)}}break;case 27:l===null&&p&4&&JT(d);case 26:case 5:fs(s,d),l===null&&p&4&&YT(d),p&512&&Dc(d,d.return);break;case 12:fs(s,d);break;case 13:fs(s,d),p&4&&rC(s,d),p&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=nB.bind(null,d),_B(s,d))));break;case 22:if(p=d.memoizedState!==null||ki,!p){l=l!==null&&l.memoizedState!==null||gn,y=ki;var _=gn;ki=p,(gn=l)&&!_?hs(s,d,(d.subtreeFlags&8772)!==0):fs(s,d),ki=y,gn=_}break;case 30:break;default:fs(s,d)}}function tC(s){var l=s.alternate;l!==null&&(s.alternate=null,tC(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&by(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Yt=null,_r=!1;function Pi(s,l,d){for(d=d.child;d!==null;)nC(s,l,d),d=d.sibling}function nC(s,l,d){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Xn,d)}catch{}switch(d.tag){case 26:gn||Fa(d,l),Pi(s,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:gn||Fa(d,l);var p=Yt,y=_r;vs(d.type)&&(Yt=d.stateNode,_r=!1),Pi(s,l,d),Wc(d.stateNode),Yt=p,_r=y;break;case 5:gn||Fa(d,l);case 6:if(p=Yt,y=_r,Yt=null,Pi(s,l,d),Yt=p,_r=y,Yt!==null)if(_r)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(d.stateNode)}catch(_){Bt(d,l,_)}else try{Yt.removeChild(d.stateNode)}catch(_){Bt(d,l,_)}break;case 18:Yt!==null&&(_r?(s=Yt,HC(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),td(s)):HC(Yt,d.stateNode));break;case 4:p=Yt,y=_r,Yt=d.stateNode.containerInfo,_r=!0,Pi(s,l,d),Yt=p,_r=y;break;case 0:case 11:case 14:case 15:gn||ds(2,d,l),gn||ds(4,d,l),Pi(s,l,d);break;case 1:gn||(Fa(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"&&KT(d,l,p)),Pi(s,l,d);break;case 21:Pi(s,l,d);break;case 22:gn=(p=gn)||d.memoizedState!==null,Pi(s,l,d),gn=p;break;default:Pi(s,l,d)}}function rC(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{td(s)}catch(d){Bt(l,l.return,d)}}function ZD(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new QT),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new QT),l;default:throw Error(r(435,s.tag))}}function Ub(s,l){var d=ZD(s);l.forEach(function(p){var y=rB.bind(null,s,p);d.has(p)||(d.add(p),p.then(y,y))})}function Pr(s,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var y=d[p],_=s,k=l,$=k;e:for(;$!==null;){switch($.tag){case 27:if(vs($.type)){Yt=$.stateNode,_r=!1;break e}break;case 5:Yt=$.stateNode,_r=!1;break e;case 3:case 4:Yt=$.stateNode.containerInfo,_r=!0;break e}$=$.return}if(Yt===null)throw Error(r(160));nC(_,k,y),Yt=null,_r=!1,_=y.alternate,_!==null&&(_.return=null),y.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)aC(l,s),l=l.sibling}var ga=null;function aC(s,l){var d=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Pr(l,s),$r(s),p&4&&(ds(3,s,s.return),Lc(3,s),ds(5,s,s.return));break;case 1:Pr(l,s),$r(s),p&512&&(gn||d===null||Fa(d,d.return)),p&64&&ki&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var y=ga;if(Pr(l,s),$r(s),p&512&&(gn||d===null||Fa(d,d.return)),p&4){var _=d!==null?d.memoizedState:null;if(p=s.memoizedState,d===null)if(p===null)if(s.stateNode===null){e:{p=s.type,d=s.memoizedProps,y=y.ownerDocument||y;t:switch(p){case"title":_=y.getElementsByTagName("title")[0],(!_||_[bi]||_[je]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=y.createElement(p),y.head.insertBefore(_,y.querySelector("head > title"))),Fn(_,p,d),_[je]=s,kn(_),p=_;break e;case"link":var k=JC("link","href",y).get(p+(d.href||""));if(k){for(var $=0;$<k.length;$++)if(_=k[$],_.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&_.getAttribute("rel")===(d.rel==null?null:d.rel)&&_.getAttribute("title")===(d.title==null?null:d.title)&&_.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){k.splice($,1);break t}}_=y.createElement(p),Fn(_,p,d),y.head.appendChild(_);break;case"meta":if(k=JC("meta","content",y).get(p+(d.content||""))){for($=0;$<k.length;$++)if(_=k[$],_.getAttribute("content")===(d.content==null?null:""+d.content)&&_.getAttribute("name")===(d.name==null?null:d.name)&&_.getAttribute("property")===(d.property==null?null:d.property)&&_.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&_.getAttribute("charset")===(d.charSet==null?null:d.charSet)){k.splice($,1);break t}}_=y.createElement(p),Fn(_,p,d),y.head.appendChild(_);break;default:throw Error(r(468,p))}_[je]=s,kn(_),p=_}s.stateNode=p}else QC(y,s.type,s.stateNode);else s.stateNode=XC(y,p,s.memoizedProps);else _!==p?(_===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):_.count--,p===null?QC(y,s.type,s.stateNode):XC(y,p,s.memoizedProps)):p===null&&s.stateNode!==null&&Mb(s,s.memoizedProps,d.memoizedProps)}break;case 27:Pr(l,s),$r(s),p&512&&(gn||d===null||Fa(d,d.return)),d!==null&&p&4&&Mb(s,s.memoizedProps,d.memoizedProps);break;case 5:if(Pr(l,s),$r(s),p&512&&(gn||d===null||Fa(d,d.return)),s.flags&32){y=s.stateNode;try{al(y,"")}catch(te){Bt(s,s.return,te)}}p&4&&s.stateNode!=null&&(y=s.memoizedProps,Mb(s,y,d!==null?d.memoizedProps:y)),p&1024&&(Bb=!0);break;case 6:if(Pr(l,s),$r(s),p&4){if(s.stateNode===null)throw Error(r(162));p=s.memoizedProps,d=s.stateNode;try{d.nodeValue=p}catch(te){Bt(s,s.return,te)}}break;case 3:if(_p=null,y=ga,ga=bp(l.containerInfo),Pr(l,s),ga=y,$r(s),p&4&&d!==null&&d.memoizedState.isDehydrated)try{td(l.containerInfo)}catch(te){Bt(s,s.return,te)}Bb&&(Bb=!1,iC(s));break;case 4:p=ga,ga=bp(s.stateNode.containerInfo),Pr(l,s),$r(s),ga=p;break;case 12:Pr(l,s),$r(s);break;case 13:Pr(l,s),$r(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Gb=Je()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Ub(s,p)));break;case 22:y=s.memoizedState!==null;var U=d!==null&&d.memoizedState!==null,X=ki,ie=gn;if(ki=X||y,gn=ie||U,Pr(l,s),gn=ie,ki=X,$r(s),p&8192)e:for(l=s.stateNode,l._visibility=y?l._visibility&-2:l._visibility|1,y&&(d===null||U||ki||gn||_o(s)),d=null,l=s;;){if(l.tag===5||l.tag===26){if(d===null){U=d=l;try{if(_=U.stateNode,y)k=_.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{$=U.stateNode;var oe=U.memoizedProps.style,ee=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;$.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){Bt(U,U.return,te)}}}else if(l.tag===6){if(d===null){U=l;try{U.stateNode.nodeValue=y?"":U.memoizedProps}catch(te){Bt(U,U.return,te)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=s.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Ub(s,d))));break;case 19:Pr(l,s),$r(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Ub(s,p)));break;case 30:break;case 21:break;default:Pr(l,s),$r(s)}}function $r(s){var l=s.flags;if(l&2){try{for(var d,p=s.return;p!==null;){if(XT(p)){d=p;break}p=p.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var y=d.stateNode,_=Lb(s);ip(s,_,y);break;case 5:var k=d.stateNode;d.flags&32&&(al(k,""),d.flags&=-33);var $=Lb(s);ip(s,$,k);break;case 3:case 4:var U=d.stateNode.containerInfo,X=Lb(s);Db(s,X,U);break;default:throw Error(r(161))}}catch(ie){Bt(s,s.return,ie)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function iC(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;iC(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function fs(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)eC(s,l.alternate,l),l=l.sibling}function _o(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:ds(4,l,l.return),_o(l);break;case 1:Fa(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&KT(l,l.return,d),_o(l);break;case 27:Wc(l.stateNode);case 26:case 5:Fa(l,l.return),_o(l);break;case 22:l.memoizedState===null&&_o(l);break;case 30:_o(l);break;default:_o(l)}s=s.sibling}}function hs(s,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,y=s,_=l,k=_.flags;switch(_.tag){case 0:case 11:case 15:hs(y,_,d),Lc(4,_);break;case 1:if(hs(y,_,d),p=_,y=p.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(X){Bt(p,p.return,X)}if(p=_,y=p.updateQueue,y!==null){var $=p.stateNode;try{var U=y.shared.hiddenCallbacks;if(U!==null)for(y.shared.hiddenCallbacks=null,y=0;y<U.length;y++)j1(U[y],$)}catch(X){Bt(p,p.return,X)}}d&&k&64&&ZT(_),Dc(_,_.return);break;case 27:JT(_);case 26:case 5:hs(y,_,d),d&&p===null&&k&4&&YT(_),Dc(_,_.return);break;case 12:hs(y,_,d);break;case 13:hs(y,_,d),d&&k&4&&rC(y,_);break;case 22:_.memoizedState===null&&hs(y,_,d),Dc(_,_.return);break;case 30:break;default:hs(y,_,d)}l=l.sibling}}function zb(s,l){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&xc(d))}function Fb(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&xc(s))}function Va(s,l,d,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)sC(s,l,d,p),l=l.sibling}function sC(s,l,d,p){var y=l.flags;switch(l.tag){case 0:case 11:case 15:Va(s,l,d,p),y&2048&&Lc(9,l);break;case 1:Va(s,l,d,p);break;case 3:Va(s,l,d,p),y&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&xc(s)));break;case 12:if(y&2048){Va(s,l,d,p),s=l.stateNode;try{var _=l.memoizedProps,k=_.id,$=_.onPostCommit;typeof $=="function"&&$(k,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(U){Bt(l,l.return,U)}}else Va(s,l,d,p);break;case 13:Va(s,l,d,p);break;case 23:break;case 22:_=l.stateNode,k=l.alternate,l.memoizedState!==null?_._visibility&2?Va(s,l,d,p):Bc(s,l):_._visibility&2?Va(s,l,d,p):(_._visibility|=2,xl(s,l,d,p,(l.subtreeFlags&10256)!==0)),y&2048&&zb(k,l);break;case 24:Va(s,l,d,p),y&2048&&Fb(l.alternate,l);break;default:Va(s,l,d,p)}}function xl(s,l,d,p,y){for(y=y&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var _=s,k=l,$=d,U=p,X=k.flags;switch(k.tag){case 0:case 11:case 15:xl(_,k,$,U,y),Lc(8,k);break;case 23:break;case 22:var ie=k.stateNode;k.memoizedState!==null?ie._visibility&2?xl(_,k,$,U,y):Bc(_,k):(ie._visibility|=2,xl(_,k,$,U,y)),y&&X&2048&&zb(k.alternate,k);break;case 24:xl(_,k,$,U,y),y&&X&2048&&Fb(k.alternate,k);break;default:xl(_,k,$,U,y)}l=l.sibling}}function Bc(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=s,p=l,y=p.flags;switch(p.tag){case 22:Bc(d,p),y&2048&&zb(p.alternate,p);break;case 24:Bc(d,p),y&2048&&Fb(p.alternate,p);break;default:Bc(d,p)}l=l.sibling}}var Uc=8192;function El(s){if(s.subtreeFlags&Uc)for(s=s.child;s!==null;)oC(s),s=s.sibling}function oC(s){switch(s.tag){case 26:El(s),s.flags&Uc&&s.memoizedState!==null&&IB(ga,s.memoizedState,s.memoizedProps);break;case 5:El(s);break;case 3:case 4:var l=ga;ga=bp(s.stateNode.containerInfo),El(s),ga=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=Uc,Uc=16777216,El(s),Uc=l):El(s));break;default:El(s)}}function lC(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function zc(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];$n=p,cC(p,s)}lC(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)uC(s),s=s.sibling}function uC(s){switch(s.tag){case 0:case 11:case 15:zc(s),s.flags&2048&&ds(9,s,s.return);break;case 3:zc(s);break;case 12:zc(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,sp(s)):zc(s);break;default:zc(s)}}function sp(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];$n=p,cC(p,s)}lC(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:ds(8,l,l.return),sp(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,sp(l));break;default:sp(l)}s=s.sibling}}function cC(s,l){for(;$n!==null;){var d=$n;switch(d.tag){case 0:case 11:case 15:ds(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:xc(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,$n=p;else e:for(d=s;$n!==null;){p=$n;var y=p.sibling,_=p.return;if(tC(p),p===d){$n=null;break e}if(y!==null){y.return=_,$n=y;break e}$n=_}}}var KD={getCacheForType:function(s){var l=Jn(Tn),d=l.data.get(s);return d===void 0&&(d=s(),l.data.set(s,d)),d}},YD=typeof WeakMap=="function"?WeakMap:Map,At=0,Ht=null,st=null,ft=0,Ot=0,Ir=null,ps=!1,Tl=!1,Vb=!1,$i=0,un=0,ms=0,wo=0,Hb=0,ta=0,Cl=0,Fc=null,wr=null,qb=!1,Gb=0,op=1/0,lp=null,gs=null,zn=0,ys=null,Rl=null,Al=0,Wb=0,Zb=null,dC=null,Vc=0,Kb=null;function jr(){if((At&2)!==0&&ft!==0)return ft&-ft;if(M.T!==null){var s=ml;return s!==0?s:nv()}return vh()}function fC(){ta===0&&(ta=(ft&536870912)===0||_t?Ba():536870912);var s=ea.current;return s!==null&&(s.flags|=32),ta}function Nr(s,l,d){(s===Ht&&(Ot===2||Ot===9)||s.cancelPendingCommit!==null)&&(Ol(s,0),bs(s,ft,ta,!1)),gi(s,d),((At&2)===0||s!==Ht)&&(s===Ht&&((At&2)===0&&(wo|=d),un===4&&bs(s,ft,ta,!1)),Ha(s))}function hC(s,l,d){if((At&6)!==0)throw Error(r(327));var p=!d&&(l&124)===0&&(l&s.expiredLanes)===0||Zt(s,l),y=p?QD(s,l):Jb(s,l,!0),_=p;do{if(y===0){Tl&&!p&&bs(s,l,0,!1);break}else{if(d=s.current.alternate,_&&!XD(d)){y=Jb(s,l,!1),_=!1;continue}if(y===2){if(_=l,s.errorRecoveryDisabledLanes&_)var k=0;else k=s.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){l=k;e:{var $=s;y=Fc;var U=$.current.memoizedState.isDehydrated;if(U&&(Ol($,k).flags|=256),k=Jb($,k,!1),k!==2){if(Vb&&!U){$.errorRecoveryDisabledLanes|=_,wo|=_,y=4;break e}_=wr,wr=y,_!==null&&(wr===null?wr=_:wr.push.apply(wr,_))}y=k}if(_=!1,y!==2)continue}}if(y===1){Ol(s,0),bs(s,l,0,!0);break}e:{switch(p=s,_=y,_){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:bs(p,l,ta,!ps);break e;case 2:wr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(y=Gb+300-Je(),10<y)){if(bs(p,l,ta,!ps),yt(p,0,!0)!==0)break e;p.timeoutHandle=FC(pC.bind(null,p,d,wr,lp,qb,l,ta,wo,Cl,ps,_,2,-0,0),y);break e}pC(p,d,wr,lp,qb,l,ta,wo,Cl,ps,_,0,-0,0)}}break}while(!0);Ha(s)}function pC(s,l,d,p,y,_,k,$,U,X,ie,oe,ee,te){if(s.timeoutHandle=-1,oe=l.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Yc={stylesheets:null,count:0,unsuspend:$B},oC(l),oe=jB(),oe!==null)){s.cancelPendingCommit=oe(wC.bind(null,s,l,_,d,p,y,k,$,U,ie,1,ee,te)),bs(s,_,k,!X);return}wC(s,l,_,d,p,y,k,$,U)}function XD(s){for(var l=s;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var y=d[p],_=y.getSnapshot;y=y.value;try{if(!Or(_(),y))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function bs(s,l,d,p){l&=~Hb,l&=~wo,s.suspendedLanes|=l,s.pingedLanes&=~l,p&&(s.warmLanes|=l),p=s.expirationTimes;for(var y=l;0<y;){var _=31-Wt(y),k=1<<_;p[_]=-1,y&=~k}d!==0&&yh(s,d,l)}function up(){return(At&6)===0?(Hc(0),!1):!0}function Yb(){if(st!==null){if(Ot===0)var s=st.return;else s=st,Ei=mo=null,hb(s),wl=null,jc=0,s=st;for(;s!==null;)WT(s.alternate,s),s=s.return;st=null}}function Ol(s,l){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,mB(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),Yb(),Ht=s,st=d=wi(s.current,null),ft=l,Ot=0,Ir=null,ps=!1,Tl=Zt(s,l),Vb=!1,Cl=ta=Hb=wo=ms=un=0,wr=Fc=null,qb=!1,(l&8)!==0&&(l|=l&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=l;0<p;){var y=31-Wt(p),_=1<<y;l|=s[y],p&=~_}return $i=l,Ph(),d}function mC(s,l){Qe=null,M.H=Yh,l===Tc||l===Uh?(l=$1(),Ot=3):l===O1?(l=$1(),Ot=4):Ot=l===IT?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ir=l,st===null&&(un=1,tp(s,Yr(l,s.current)))}function gC(){var s=M.H;return M.H=Yh,s===null?Yh:s}function yC(){var s=M.A;return M.A=KD,s}function Xb(){un=4,ps||(ft&4194048)!==ft&&ea.current!==null||(Tl=!0),(ms&134217727)===0&&(wo&134217727)===0||Ht===null||bs(Ht,ft,ta,!1)}function Jb(s,l,d){var p=At;At|=2;var y=gC(),_=yC();(Ht!==s||ft!==l)&&(lp=null,Ol(s,l)),l=!1;var k=un;e:do try{if(Ot!==0&&st!==null){var $=st,U=Ir;switch(Ot){case 8:Yb(),k=6;break e;case 3:case 2:case 9:case 6:ea.current===null&&(l=!0);var X=Ot;if(Ot=0,Ir=null,kl(s,$,U,X),d&&Tl){k=0;break e}break;default:X=Ot,Ot=0,Ir=null,kl(s,$,U,X)}}JD(),k=un;break}catch(ie){mC(s,ie)}while(!0);return l&&s.shellSuspendCounter++,Ei=mo=null,At=p,M.H=y,M.A=_,st===null&&(Ht=null,ft=0,Ph()),k}function JD(){for(;st!==null;)bC(st)}function QD(s,l){var d=At;At|=2;var p=gC(),y=yC();Ht!==s||ft!==l?(lp=null,op=Je()+500,Ol(s,l)):Tl=Zt(s,l);e:do try{if(Ot!==0&&st!==null){l=st;var _=Ir;t:switch(Ot){case 1:Ot=0,Ir=null,kl(s,l,_,1);break;case 2:case 9:if(k1(_)){Ot=0,Ir=null,vC(l);break}l=function(){Ot!==2&&Ot!==9||Ht!==s||(Ot=7),Ha(s)},_.then(l,l);break e;case 3:Ot=7;break e;case 4:Ot=5;break e;case 7:k1(_)?(Ot=0,Ir=null,vC(l)):(Ot=0,Ir=null,kl(s,l,_,7));break;case 5:var k=null;switch(st.tag){case 26:k=st.memoizedState;case 5:case 27:var $=st;if(!k||eR(k)){Ot=0,Ir=null;var U=$.sibling;if(U!==null)st=U;else{var X=$.return;X!==null?(st=X,cp(X)):st=null}break t}}Ot=0,Ir=null,kl(s,l,_,5);break;case 6:Ot=0,Ir=null,kl(s,l,_,6);break;case 8:Yb(),un=6;break e;default:throw Error(r(462))}}eB();break}catch(ie){mC(s,ie)}while(!0);return Ei=mo=null,M.H=p,M.A=y,At=d,st!==null?0:(Ht=null,ft=0,Ph(),un)}function eB(){for(;st!==null&&!ut();)bC(st)}function bC(s){var l=qT(s.alternate,s,$i);s.memoizedProps=s.pendingProps,l===null?cp(s):st=l}function vC(s){var l=s,d=l.alternate;switch(l.tag){case 15:case 0:l=BT(d,l,l.pendingProps,l.type,void 0,ft);break;case 11:l=BT(d,l,l.pendingProps,l.type.render,l.ref,ft);break;case 5:hb(l);default:WT(d,l),l=st=_1(l,$i),l=qT(d,l,$i)}s.memoizedProps=s.pendingProps,l===null?cp(s):st=l}function kl(s,l,d,p){Ei=mo=null,hb(l),wl=null,jc=0;var y=l.return;try{if(VD(s,y,l,d,ft)){un=1,tp(s,Yr(d,s.current)),st=null;return}}catch(_){if(y!==null)throw st=y,_;un=1,tp(s,Yr(d,s.current)),st=null;return}l.flags&32768?(_t||p===1?s=!0:Tl||(ft&536870912)!==0?s=!1:(ps=s=!0,(p===2||p===9||p===3||p===6)&&(p=ea.current,p!==null&&p.tag===13&&(p.flags|=16384))),_C(l,s)):cp(l)}function cp(s){var l=s;do{if((l.flags&32768)!==0){_C(l,ps);return}s=l.return;var d=qD(l.alternate,l,$i);if(d!==null){st=d;return}if(l=l.sibling,l!==null){st=l;return}st=l=s}while(l!==null);un===0&&(un=5)}function _C(s,l){do{var d=GD(s.alternate,s);if(d!==null){d.flags&=32767,st=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(s=s.sibling,s!==null)){st=s;return}st=s=d}while(s!==null);un=6,st=null}function wC(s,l,d,p,y,_,k,$,U){s.cancelPendingCommit=null;do dp();while(zn!==0);if((At&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(_=l.lanes|l.childLanes,_|=Fy,yy(s,d,_,k,$,U),s===Ht&&(st=Ht=null,ft=0),Rl=l,ys=s,Al=d,Wb=_,Zb=y,dC=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,aB(ct,function(){return CC(),null})):(s.callbackNode=null,s.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=M.T,M.T=null,y=z.p,z.p=2,k=At,At|=4;try{WD(s,l,d)}finally{At=k,z.p=y,M.T=p}}zn=1,SC(),xC(),EC()}}function SC(){if(zn===1){zn=0;var s=ys,l=Rl,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=M.T,M.T=null;var p=z.p;z.p=2;var y=At;At|=4;try{aC(l,s);var _=cv,k=c1(s.containerInfo),$=_.focusedElem,U=_.selectionRange;if(k!==$&&$&&$.ownerDocument&&u1($.ownerDocument.documentElement,$)){if(U!==null&&Ly($)){var X=U.start,ie=U.end;if(ie===void 0&&(ie=X),"selectionStart"in $)$.selectionStart=X,$.selectionEnd=Math.min(ie,$.value.length);else{var oe=$.ownerDocument||document,ee=oe&&oe.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),Le=$.textContent.length,Pe=Math.min(U.start,Le),Nt=U.end===void 0?Pe:Math.min(U.end,Le);!te.extend&&Pe>Nt&&(k=Nt,Nt=Pe,Pe=k);var W=l1($,Pe),H=l1($,Nt);if(W&&H&&(te.rangeCount!==1||te.anchorNode!==W.node||te.anchorOffset!==W.offset||te.focusNode!==H.node||te.focusOffset!==H.offset)){var Y=oe.createRange();Y.setStart(W.node,W.offset),te.removeAllRanges(),Pe>Nt?(te.addRange(Y),te.extend(H.node,H.offset)):(Y.setEnd(H.node,H.offset),te.addRange(Y))}}}}for(oe=[],te=$;te=te.parentNode;)te.nodeType===1&&oe.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<oe.length;$++){var se=oe[$];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}xp=!!uv,cv=uv=null}finally{At=y,z.p=p,M.T=d}}s.current=l,zn=2}}function xC(){if(zn===2){zn=0;var s=ys,l=Rl,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=M.T,M.T=null;var p=z.p;z.p=2;var y=At;At|=4;try{eC(s,l.alternate,l)}finally{At=y,z.p=p,M.T=d}}zn=3}}function EC(){if(zn===4||zn===3){zn=0,vn();var s=ys,l=Rl,d=Al,p=dC;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?zn=5:(zn=0,Rl=ys=null,TC(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(gs=null),oc(d),l=l.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Xn,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=M.T,y=z.p,z.p=2,M.T=null;try{for(var _=s.onRecoverableError,k=0;k<p.length;k++){var $=p[k];_($.value,{componentStack:$.stack})}}finally{M.T=l,z.p=y}}(Al&3)!==0&&dp(),Ha(s),y=s.pendingLanes,(d&4194090)!==0&&(y&42)!==0?s===Kb?Vc++:(Vc=0,Kb=s):Vc=0,Hc(0)}}function TC(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,xc(l)))}function dp(s){return SC(),xC(),EC(),CC()}function CC(){if(zn!==5)return!1;var s=ys,l=Wb;Wb=0;var d=oc(Al),p=M.T,y=z.p;try{z.p=32>d?32:d,M.T=null,d=Zb,Zb=null;var _=ys,k=Al;if(zn=0,Rl=ys=null,Al=0,(At&6)!==0)throw Error(r(331));var $=At;if(At|=4,uC(_.current),sC(_,_.current,k,d),At=$,Hc(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Xn,_)}catch{}return!0}finally{z.p=y,M.T=p,TC(s,l)}}function RC(s,l,d){l=Yr(d,l),l=Rb(s.stateNode,l,2),s=os(s,l,2),s!==null&&(gi(s,2),Ha(s))}function Bt(s,l,d){if(s.tag===3)RC(s,s,d);else for(;l!==null;){if(l.tag===3){RC(l,s,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(gs===null||!gs.has(p))){s=Yr(d,s),d=PT(2),p=os(l,d,2),p!==null&&($T(d,p,l,s),gi(p,2),Ha(p));break}}l=l.return}}function Qb(s,l,d){var p=s.pingCache;if(p===null){p=s.pingCache=new YD;var y=new Set;p.set(l,y)}else y=p.get(l),y===void 0&&(y=new Set,p.set(l,y));y.has(d)||(Vb=!0,y.add(d),s=tB.bind(null,s,l,d),l.then(s,s))}function tB(s,l,d){var p=s.pingCache;p!==null&&p.delete(l),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,Ht===s&&(ft&d)===d&&(un===4||un===3&&(ft&62914560)===ft&&300>Je()-Gb?(At&2)===0&&Ol(s,0):Hb|=d,Cl===ft&&(Cl=0)),Ha(s)}function AC(s,l){l===0&&(l=gh()),s=dl(s,l),s!==null&&(gi(s,l),Ha(s))}function nB(s){var l=s.memoizedState,d=0;l!==null&&(d=l.retryLane),AC(s,d)}function rB(s,l){var d=0;switch(s.tag){case 13:var p=s.stateNode,y=s.memoizedState;y!==null&&(d=y.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(l),AC(s,d)}function aB(s,l){return at(s,l)}var fp=null,Pl=null,ev=!1,hp=!1,tv=!1,So=0;function Ha(s){s!==Pl&&s.next===null&&(Pl===null?fp=Pl=s:Pl=Pl.next=s),hp=!0,ev||(ev=!0,sB())}function Hc(s,l){if(!tv&&hp){tv=!0;do for(var d=!1,p=fp;p!==null;){if(s!==0){var y=p.pendingLanes;if(y===0)var _=0;else{var k=p.suspendedLanes,$=p.pingedLanes;_=(1<<31-Wt(42|s)+1)-1,_&=y&~(k&~$),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(d=!0,$C(p,_))}else _=ft,_=yt(p,p===Ht?_:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(_&3)===0||Zt(p,_)||(d=!0,$C(p,_));p=p.next}while(d);tv=!1}}function iB(){OC()}function OC(){hp=ev=!1;var s=0;So!==0&&(pB()&&(s=So),So=0);for(var l=Je(),d=null,p=fp;p!==null;){var y=p.next,_=kC(p,l);_===0?(p.next=null,d===null?fp=y:d.next=y,y===null&&(Pl=d)):(d=p,(s!==0||(_&3)!==0)&&(hp=!0)),p=y}Hc(s)}function kC(s,l){for(var d=s.suspendedLanes,p=s.pingedLanes,y=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var k=31-Wt(_),$=1<<k,U=y[k];U===-1?(($&d)===0||($&p)!==0)&&(y[k]=pa($,l)):U<=l&&(s.expiredLanes|=$),_&=~$}if(l=Ht,d=ft,d=yt(s,s===l?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p=s.callbackNode,d===0||s===l&&(Ot===2||Ot===9)||s.cancelPendingCommit!==null)return p!==null&&p!==null&&$e(p),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||Zt(s,d)){if(l=d&-d,l===s.callbackPriority)return l;switch(p!==null&&$e(p),oc(d)){case 2:case 8:d=Ft;break;case 32:d=ct;break;case 268435456:d=Yn;break;default:d=ct}return p=PC.bind(null,s),d=at(d,p),s.callbackPriority=l,s.callbackNode=d,l}return p!==null&&p!==null&&$e(p),s.callbackPriority=2,s.callbackNode=null,2}function PC(s,l){if(zn!==0&&zn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(dp()&&s.callbackNode!==d)return null;var p=ft;return p=yt(s,s===Ht?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p===0?null:(hC(s,p,l),kC(s,Je()),s.callbackNode!=null&&s.callbackNode===d?PC.bind(null,s):null)}function $C(s,l){if(dp())return null;hC(s,l,!0)}function sB(){gB(function(){(At&6)!==0?at(gt,iB):OC()})}function nv(){return So===0&&(So=Ba()),So}function IC(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Eh(""+s)}function jC(s,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,s.id&&d.setAttribute("form",s.id),l.parentNode.insertBefore(d,l),s=new FormData(s),d.parentNode.removeChild(d),s}function oB(s,l,d,p,y){if(l==="submit"&&d&&d.stateNode===y){var _=IC((y[Ue]||null).action),k=p.submitter;k&&(l=(l=k[Ue]||null)?IC(l.formAction):k.getAttribute("formAction"),l!==null&&(_=l,k=null));var $=new Ah("action","action",null,p,y);s.push({event:$,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(So!==0){var U=k?jC(y,k):new FormData(y);Sb(d,{pending:!0,data:U,method:y.method,action:_},null,U)}}else typeof _=="function"&&($.preventDefault(),U=k?jC(y,k):new FormData(y),Sb(d,{pending:!0,data:U,method:y.method,action:_},_,U))},currentTarget:y}]})}}for(var rv=0;rv<zy.length;rv++){var av=zy[rv],lB=av.toLowerCase(),uB=av[0].toUpperCase()+av.slice(1);ma(lB,"on"+uB)}ma(h1,"onAnimationEnd"),ma(p1,"onAnimationIteration"),ma(m1,"onAnimationStart"),ma("dblclick","onDoubleClick"),ma("focusin","onFocus"),ma("focusout","onBlur"),ma(CD,"onTransitionRun"),ma(RD,"onTransitionStart"),ma(AD,"onTransitionCancel"),ma(g1,"onTransitionEnd"),tl("onMouseEnter",["mouseout","mouseover"]),tl("onMouseLeave",["mouseout","mouseover"]),tl("onPointerEnter",["pointerout","pointerover"]),tl("onPointerLeave",["pointerout","pointerover"]),io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),io("onBeforeInput",["compositionend","keypress","textInput","paste"]),io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qc));function NC(s,l){l=(l&4)!==0;for(var d=0;d<s.length;d++){var p=s[d],y=p.event;p=p.listeners;e:{var _=void 0;if(l)for(var k=p.length-1;0<=k;k--){var $=p[k],U=$.instance,X=$.currentTarget;if($=$.listener,U!==_&&y.isPropagationStopped())break e;_=$,y.currentTarget=X;try{_(y)}catch(ie){ep(ie)}y.currentTarget=null,_=U}else for(k=0;k<p.length;k++){if($=p[k],U=$.instance,X=$.currentTarget,$=$.listener,U!==_&&y.isPropagationStopped())break e;_=$,y.currentTarget=X;try{_(y)}catch(ie){ep(ie)}y.currentTarget=null,_=U}}}}function ot(s,l){var d=l[yr];d===void 0&&(d=l[yr]=new Set);var p=s+"__bubble";d.has(p)||(MC(l,s,2,!1),d.add(p))}function iv(s,l,d){var p=0;l&&(p|=4),MC(d,s,p,l)}var pp="_reactListening"+Math.random().toString(36).slice(2);function sv(s){if(!s[pp]){s[pp]=!0,OE.forEach(function(d){d!=="selectionchange"&&(cB.has(d)||iv(d,!1,s),iv(d,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[pp]||(l[pp]=!0,iv("selectionchange",!1,l))}}function MC(s,l,d,p){switch(sR(l)){case 2:var y=LB;break;case 8:y=DB;break;default:y=_v}d=y.bind(null,l,d,s),y=void 0,!Ay||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),p?y!==void 0?s.addEventListener(l,d,{capture:!0,passive:y}):s.addEventListener(l,d,!0):y!==void 0?s.addEventListener(l,d,{passive:y}):s.addEventListener(l,d,!1)}function ov(s,l,d,p,y){var _=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var $=p.stateNode.containerInfo;if($===y)break;if(k===4)for(k=p.return;k!==null;){var U=k.tag;if((U===3||U===4)&&k.stateNode.containerInfo===y)return;k=k.return}for(;$!==null;){if(k=Jo($),k===null)return;if(U=k.tag,U===5||U===6||U===26||U===27){p=_=k;continue e}$=$.parentNode}}p=p.return}VE(function(){var X=_,ie=Cy(d),oe=[];e:{var ee=y1.get(s);if(ee!==void 0){var te=Ah,Le=s;switch(s){case"keypress":if(Ch(d)===0)break e;case"keydown":case"keyup":te=aD;break;case"focusin":Le="focus",te=$y;break;case"focusout":Le="blur",te=$y;break;case"beforeblur":case"afterblur":te=$y;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=GE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=GL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=oD;break;case h1:case p1:case m1:te=KL;break;case g1:te=uD;break;case"scroll":case"scrollend":te=HL;break;case"wheel":te=dD;break;case"copy":case"cut":case"paste":te=XL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=ZE;break;case"toggle":case"beforetoggle":te=hD}var Pe=(l&4)!==0,Nt=!Pe&&(s==="scroll"||s==="scrollend"),W=Pe?ee!==null?ee+"Capture":null:ee;Pe=[];for(var H=X,Y;H!==null;){var se=H;if(Y=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Y===null||W===null||(se=cc(H,W),se!=null&&Pe.push(Gc(H,se,Y))),Nt)break;H=H.return}0<Pe.length&&(ee=new te(ee,Le,null,d,ie),oe.push({event:ee,listeners:Pe}))}}if((l&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",te=s==="mouseout"||s==="pointerout",ee&&d!==Ty&&(Le=d.relatedTarget||d.fromElement)&&(Jo(Le)||Le[Rt]))break e;if((te||ee)&&(ee=ie.window===ie?ie:(ee=ie.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(Le=d.relatedTarget||d.toElement,te=X,Le=Le?Jo(Le):null,Le!==null&&(Nt=i(Le),Pe=Le.tag,Le!==Nt||Pe!==5&&Pe!==27&&Pe!==6)&&(Le=null)):(te=null,Le=X),te!==Le)){if(Pe=GE,se="onMouseLeave",W="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(Pe=ZE,se="onPointerLeave",W="onPointerEnter",H="pointer"),Nt=te==null?ee:uc(te),Y=Le==null?ee:uc(Le),ee=new Pe(se,H+"leave",te,d,ie),ee.target=Nt,ee.relatedTarget=Y,se=null,Jo(ie)===X&&(Pe=new Pe(W,H+"enter",Le,d,ie),Pe.target=Y,Pe.relatedTarget=Nt,se=Pe),Nt=se,te&&Le)t:{for(Pe=te,W=Le,H=0,Y=Pe;Y;Y=$l(Y))H++;for(Y=0,se=W;se;se=$l(se))Y++;for(;0<H-Y;)Pe=$l(Pe),H--;for(;0<Y-H;)W=$l(W),Y--;for(;H--;){if(Pe===W||W!==null&&Pe===W.alternate)break t;Pe=$l(Pe),W=$l(W)}Pe=null}else Pe=null;te!==null&&LC(oe,ee,te,Pe,!1),Le!==null&&Nt!==null&&LC(oe,Nt,Le,Pe,!0)}}e:{if(ee=X?uc(X):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var ve=n1;else if(e1(ee))if(r1)ve=xD;else{ve=wD;var it=_D}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?X&&Ey(X.elementType)&&(ve=n1):ve=SD;if(ve&&(ve=ve(s,X))){t1(oe,ve,d,ie);break e}it&&it(s,ee,X),s==="focusout"&&X&&ee.type==="number"&&X.memoizedProps.value!=null&&xy(ee,"number",ee.value)}switch(it=X?uc(X):window,s){case"focusin":(e1(it)||it.contentEditable==="true")&&(ll=it,Dy=X,bc=null);break;case"focusout":bc=Dy=ll=null;break;case"mousedown":By=!0;break;case"contextmenu":case"mouseup":case"dragend":By=!1,d1(oe,d,ie);break;case"selectionchange":if(TD)break;case"keydown":case"keyup":d1(oe,d,ie)}var Te;if(jy)e:{switch(s){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else ol?JE(s,d)&&(Ie="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Ie="onCompositionStart");Ie&&(KE&&d.locale!=="ko"&&(ol||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&ol&&(Te=HE()):(rs=ie,Oy="value"in rs?rs.value:rs.textContent,ol=!0)),it=mp(X,Ie),0<it.length&&(Ie=new WE(Ie,s,null,d,ie),oe.push({event:Ie,listeners:it}),Te?Ie.data=Te:(Te=QE(d),Te!==null&&(Ie.data=Te)))),(Te=mD?gD(s,d):yD(s,d))&&(Ie=mp(X,"onBeforeInput"),0<Ie.length&&(it=new WE("onBeforeInput","beforeinput",null,d,ie),oe.push({event:it,listeners:Ie}),it.data=Te)),oB(oe,s,X,d,ie)}NC(oe,l)})}function Gc(s,l,d){return{instance:s,listener:l,currentTarget:d}}function mp(s,l){for(var d=l+"Capture",p=[];s!==null;){var y=s,_=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||_===null||(y=cc(s,d),y!=null&&p.unshift(Gc(s,y,_)),y=cc(s,l),y!=null&&p.push(Gc(s,y,_))),s.tag===3)return p;s=s.return}return[]}function $l(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function LC(s,l,d,p,y){for(var _=l._reactName,k=[];d!==null&&d!==p;){var $=d,U=$.alternate,X=$.stateNode;if($=$.tag,U!==null&&U===p)break;$!==5&&$!==26&&$!==27||X===null||(U=X,y?(X=cc(d,_),X!=null&&k.unshift(Gc(d,X,U))):y||(X=cc(d,_),X!=null&&k.push(Gc(d,X,U)))),d=d.return}k.length!==0&&s.push({event:l,listeners:k})}var dB=/\r\n?/g,fB=/\u0000|\uFFFD/g;function DC(s){return(typeof s=="string"?s:""+s).replace(dB,`
`).replace(fB,"")}function BC(s,l){return l=DC(l),DC(s)===l}function gp(){}function jt(s,l,d,p,y,_){switch(d){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||al(s,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&al(s,""+p);break;case"className":wh(s,"class",p);break;case"tabIndex":wh(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":wh(s,d,p);break;case"style":zE(s,p,_);break;case"data":if(l!=="object"){wh(s,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||d!=="href")){s.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(d);break}p=Eh(""+p),s.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(d==="formAction"?(l!=="input"&&jt(s,l,"name",y.name,y,null),jt(s,l,"formEncType",y.formEncType,y,null),jt(s,l,"formMethod",y.formMethod,y,null),jt(s,l,"formTarget",y.formTarget,y,null)):(jt(s,l,"encType",y.encType,y,null),jt(s,l,"method",y.method,y,null),jt(s,l,"target",y.target,y,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(d);break}p=Eh(""+p),s.setAttribute(d,p);break;case"onClick":p!=null&&(s.onclick=gp);break;case"onScroll":p!=null&&ot("scroll",s);break;case"onScrollEnd":p!=null&&ot("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}d=Eh(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,""+p):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":p===!0?s.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(d,p):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(d,p):s.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(d):s.setAttribute(d,p);break;case"popover":ot("beforetoggle",s),ot("toggle",s),_h(s,"popover",p);break;case"xlinkActuate":vi(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":vi(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":vi(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":vi(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":vi(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":vi(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":vi(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":vi(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":vi(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":_h(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=FL.get(d)||d,_h(s,d,p))}}function lv(s,l,d,p,y,_){switch(d){case"style":zE(s,p,_);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(y.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"children":typeof p=="string"?al(s,p):(typeof p=="number"||typeof p=="bigint")&&al(s,""+p);break;case"onScroll":p!=null&&ot("scroll",s);break;case"onScrollEnd":p!=null&&ot("scrollend",s);break;case"onClick":p!=null&&(s.onclick=gp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kE.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(y=d.endsWith("Capture"),l=d.slice(2,y?d.length-7:void 0),_=s[Ue]||null,_=_!=null?_[d]:null,typeof _=="function"&&s.removeEventListener(l,_,y),typeof p=="function")){typeof _!="function"&&_!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(l,p,y);break e}d in s?s[d]=p:p===!0?s.setAttribute(d,""):_h(s,d,p)}}}function Fn(s,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",s),ot("load",s);var p=!1,y=!1,_;for(_ in d)if(d.hasOwnProperty(_)){var k=d[_];if(k!=null)switch(_){case"src":p=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:jt(s,l,_,k,d,null)}}y&&jt(s,l,"srcSet",d.srcSet,d,null),p&&jt(s,l,"src",d.src,d,null);return;case"input":ot("invalid",s);var $=_=k=y=null,U=null,X=null;for(p in d)if(d.hasOwnProperty(p)){var ie=d[p];if(ie!=null)switch(p){case"name":y=ie;break;case"type":k=ie;break;case"checked":U=ie;break;case"defaultChecked":X=ie;break;case"value":_=ie;break;case"defaultValue":$=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,l));break;default:jt(s,l,p,ie,d,null)}}LE(s,_,$,U,X,k,y,!1),Sh(s);return;case"select":ot("invalid",s),p=k=_=null;for(y in d)if(d.hasOwnProperty(y)&&($=d[y],$!=null))switch(y){case"value":_=$;break;case"defaultValue":k=$;break;case"multiple":p=$;default:jt(s,l,y,$,d,null)}l=_,d=k,s.multiple=!!p,l!=null?rl(s,!!p,l,!1):d!=null&&rl(s,!!p,d,!0);return;case"textarea":ot("invalid",s),_=y=p=null;for(k in d)if(d.hasOwnProperty(k)&&($=d[k],$!=null))switch(k){case"value":p=$;break;case"defaultValue":y=$;break;case"children":_=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:jt(s,l,k,$,d,null)}BE(s,p,y,_),Sh(s);return;case"option":for(U in d)if(d.hasOwnProperty(U)&&(p=d[U],p!=null))switch(U){case"selected":s.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:jt(s,l,U,p,d,null)}return;case"dialog":ot("beforetoggle",s),ot("toggle",s),ot("cancel",s),ot("close",s);break;case"iframe":case"object":ot("load",s);break;case"video":case"audio":for(p=0;p<qc.length;p++)ot(qc[p],s);break;case"image":ot("error",s),ot("load",s);break;case"details":ot("toggle",s);break;case"embed":case"source":case"link":ot("error",s),ot("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in d)if(d.hasOwnProperty(X)&&(p=d[X],p!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:jt(s,l,X,p,d,null)}return;default:if(Ey(l)){for(ie in d)d.hasOwnProperty(ie)&&(p=d[ie],p!==void 0&&lv(s,l,ie,p,d,void 0));return}}for($ in d)d.hasOwnProperty($)&&(p=d[$],p!=null&&jt(s,l,$,p,d,null))}function hB(s,l,d,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,_=null,k=null,$=null,U=null,X=null,ie=null;for(te in d){var oe=d[te];if(d.hasOwnProperty(te)&&oe!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":U=oe;default:p.hasOwnProperty(te)||jt(s,l,te,null,p,oe)}}for(var ee in p){var te=p[ee];if(oe=d[ee],p.hasOwnProperty(ee)&&(te!=null||oe!=null))switch(ee){case"type":_=te;break;case"name":y=te;break;case"checked":X=te;break;case"defaultChecked":ie=te;break;case"value":k=te;break;case"defaultValue":$=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,l));break;default:te!==oe&&jt(s,l,ee,te,p,oe)}}Sy(s,k,$,U,X,ie,_,y);return;case"select":te=k=$=ee=null;for(_ in d)if(U=d[_],d.hasOwnProperty(_)&&U!=null)switch(_){case"value":break;case"multiple":te=U;default:p.hasOwnProperty(_)||jt(s,l,_,null,p,U)}for(y in p)if(_=p[y],U=d[y],p.hasOwnProperty(y)&&(_!=null||U!=null))switch(y){case"value":ee=_;break;case"defaultValue":$=_;break;case"multiple":k=_;default:_!==U&&jt(s,l,y,_,p,U)}l=$,d=k,p=te,ee!=null?rl(s,!!d,ee,!1):!!p!=!!d&&(l!=null?rl(s,!!d,l,!0):rl(s,!!d,d?[]:"",!1));return;case"textarea":te=ee=null;for($ in d)if(y=d[$],d.hasOwnProperty($)&&y!=null&&!p.hasOwnProperty($))switch($){case"value":break;case"children":break;default:jt(s,l,$,null,p,y)}for(k in p)if(y=p[k],_=d[k],p.hasOwnProperty(k)&&(y!=null||_!=null))switch(k){case"value":ee=y;break;case"defaultValue":te=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==_&&jt(s,l,k,y,p,_)}DE(s,ee,te);return;case"option":for(var Le in d)if(ee=d[Le],d.hasOwnProperty(Le)&&ee!=null&&!p.hasOwnProperty(Le))switch(Le){case"selected":s.selected=!1;break;default:jt(s,l,Le,null,p,ee)}for(U in p)if(ee=p[U],te=d[U],p.hasOwnProperty(U)&&ee!==te&&(ee!=null||te!=null))switch(U){case"selected":s.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:jt(s,l,U,ee,p,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in d)ee=d[Pe],d.hasOwnProperty(Pe)&&ee!=null&&!p.hasOwnProperty(Pe)&&jt(s,l,Pe,null,p,ee);for(X in p)if(ee=p[X],te=d[X],p.hasOwnProperty(X)&&ee!==te&&(ee!=null||te!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,l));break;default:jt(s,l,X,ee,p,te)}return;default:if(Ey(l)){for(var Nt in d)ee=d[Nt],d.hasOwnProperty(Nt)&&ee!==void 0&&!p.hasOwnProperty(Nt)&&lv(s,l,Nt,void 0,p,ee);for(ie in p)ee=p[ie],te=d[ie],!p.hasOwnProperty(ie)||ee===te||ee===void 0&&te===void 0||lv(s,l,ie,ee,p,te);return}}for(var W in d)ee=d[W],d.hasOwnProperty(W)&&ee!=null&&!p.hasOwnProperty(W)&&jt(s,l,W,null,p,ee);for(oe in p)ee=p[oe],te=d[oe],!p.hasOwnProperty(oe)||ee===te||ee==null&&te==null||jt(s,l,oe,ee,p,te)}var uv=null,cv=null;function yp(s){return s.nodeType===9?s:s.ownerDocument}function UC(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zC(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function dv(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var fv=null;function pB(){var s=window.event;return s&&s.type==="popstate"?s===fv?!1:(fv=s,!0):(fv=null,!1)}var FC=typeof setTimeout=="function"?setTimeout:void 0,mB=typeof clearTimeout=="function"?clearTimeout:void 0,VC=typeof Promise=="function"?Promise:void 0,gB=typeof queueMicrotask=="function"?queueMicrotask:typeof VC<"u"?function(s){return VC.resolve(null).then(s).catch(yB)}:FC;function yB(s){setTimeout(function(){throw s})}function vs(s){return s==="head"}function HC(s,l){var d=l,p=0,y=0;do{var _=d.nextSibling;if(s.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"){if(0<p&&8>p){d=p;var k=s.ownerDocument;if(d&1&&Wc(k.documentElement),d&2&&Wc(k.body),d&4)for(d=k.head,Wc(d),k=d.firstChild;k;){var $=k.nextSibling,U=k.nodeName;k[bi]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&k.rel.toLowerCase()==="stylesheet"||d.removeChild(k),k=$}}if(y===0){s.removeChild(_),td(l);return}y--}else d==="$"||d==="$?"||d==="$!"?y++:p=d.charCodeAt(0)-48;else p=0;d=_}while(d);td(l)}function hv(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":hv(d),by(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function bB(s,l,d,p){for(;s.nodeType===1;){var y=d;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[bi])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var _=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=ya(s.nextSibling),s===null)break}return null}function vB(s,l,d){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=ya(s.nextSibling),s===null))return null;return s}function pv(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function _B(s,l){var d=s.ownerDocument;if(s.data!=="$?"||d.readyState==="complete")l();else{var p=function(){l(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),s._reactRetry=p}}function ya(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}var mv=null;function qC(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return s;l--}else d==="/$"&&l++}s=s.previousSibling}return null}function GC(s,l,d){switch(l=yp(d),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Wc(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);by(s)}var na=new Map,WC=new Set;function bp(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ii=z.d;z.d={f:wB,r:SB,D:xB,C:EB,L:TB,m:CB,X:AB,S:RB,M:OB};function wB(){var s=Ii.f(),l=up();return s||l}function SB(s){var l=Qo(s);l!==null&&l.tag===5&&l.type==="form"?hT(l):Ii.r(s)}var Il=typeof document>"u"?null:document;function ZC(s,l,d){var p=Il;if(p&&typeof l=="string"&&l){var y=Kr(l);y='link[rel="'+s+'"][href="'+y+'"]',typeof d=="string"&&(y+='[crossorigin="'+d+'"]'),WC.has(y)||(WC.add(y),s={rel:s,crossOrigin:d,href:l},p.querySelector(y)===null&&(l=p.createElement("link"),Fn(l,"link",s),kn(l),p.head.appendChild(l)))}}function xB(s){Ii.D(s),ZC("dns-prefetch",s,null)}function EB(s,l){Ii.C(s,l),ZC("preconnect",s,l)}function TB(s,l,d){Ii.L(s,l,d);var p=Il;if(p&&s&&l){var y='link[rel="preload"][as="'+Kr(l)+'"]';l==="image"&&d&&d.imageSrcSet?(y+='[imagesrcset="'+Kr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(y+='[imagesizes="'+Kr(d.imageSizes)+'"]')):y+='[href="'+Kr(s)+'"]';var _=y;switch(l){case"style":_=jl(s);break;case"script":_=Nl(s)}na.has(_)||(s=h({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:s,as:l},d),na.set(_,s),p.querySelector(y)!==null||l==="style"&&p.querySelector(Zc(_))||l==="script"&&p.querySelector(Kc(_))||(l=p.createElement("link"),Fn(l,"link",s),kn(l),p.head.appendChild(l)))}}function CB(s,l){Ii.m(s,l);var d=Il;if(d&&s){var p=l&&typeof l.as=="string"?l.as:"script",y='link[rel="modulepreload"][as="'+Kr(p)+'"][href="'+Kr(s)+'"]',_=y;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Nl(s)}if(!na.has(_)&&(s=h({rel:"modulepreload",href:s},l),na.set(_,s),d.querySelector(y)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Kc(_)))return}p=d.createElement("link"),Fn(p,"link",s),kn(p),d.head.appendChild(p)}}}function RB(s,l,d){Ii.S(s,l,d);var p=Il;if(p&&s){var y=el(p).hoistableStyles,_=jl(s);l=l||"default";var k=y.get(_);if(!k){var $={loading:0,preload:null};if(k=p.querySelector(Zc(_)))$.loading=5;else{s=h({rel:"stylesheet",href:s,"data-precedence":l},d),(d=na.get(_))&&gv(s,d);var U=k=p.createElement("link");kn(U),Fn(U,"link",s),U._p=new Promise(function(X,ie){U.onload=X,U.onerror=ie}),U.addEventListener("load",function(){$.loading|=1}),U.addEventListener("error",function(){$.loading|=2}),$.loading|=4,vp(k,l,p)}k={type:"stylesheet",instance:k,count:1,state:$},y.set(_,k)}}}function AB(s,l){Ii.X(s,l);var d=Il;if(d&&s){var p=el(d).hoistableScripts,y=Nl(s),_=p.get(y);_||(_=d.querySelector(Kc(y)),_||(s=h({src:s,async:!0},l),(l=na.get(y))&&yv(s,l),_=d.createElement("script"),kn(_),Fn(_,"link",s),d.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(y,_))}}function OB(s,l){Ii.M(s,l);var d=Il;if(d&&s){var p=el(d).hoistableScripts,y=Nl(s),_=p.get(y);_||(_=d.querySelector(Kc(y)),_||(s=h({src:s,async:!0,type:"module"},l),(l=na.get(y))&&yv(s,l),_=d.createElement("script"),kn(_),Fn(_,"link",s),d.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(y,_))}}function KC(s,l,d,p){var y=(y=fe.current)?bp(y):null;if(!y)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=jl(d.href),d=el(y).hoistableStyles,p=d.get(l),p||(p={type:"style",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=jl(d.href);var _=el(y).hoistableStyles,k=_.get(s);if(k||(y=y.ownerDocument||y,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,k),(_=y.querySelector(Zc(s)))&&!_._p&&(k.instance=_,k.state.loading=5),na.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},na.set(s,d),_||kB(y,s,d,k.state))),l&&p===null)throw Error(r(528,""));return k}if(l&&p!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Nl(d),d=el(y).hoistableScripts,p=d.get(l),p||(p={type:"script",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function jl(s){return'href="'+Kr(s)+'"'}function Zc(s){return'link[rel="stylesheet"]['+s+"]"}function YC(s){return h({},s,{"data-precedence":s.precedence,precedence:null})}function kB(s,l,d,p){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=s.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),Fn(l,"link",d),kn(l),s.head.appendChild(l))}function Nl(s){return'[src="'+Kr(s)+'"]'}function Kc(s){return"script[async]"+s}function XC(s,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var p=s.querySelector('style[data-href~="'+Kr(d.href)+'"]');if(p)return l.instance=p,kn(p),p;var y=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),kn(p),Fn(p,"style",y),vp(p,d.precedence,s),l.instance=p;case"stylesheet":y=jl(d.href);var _=s.querySelector(Zc(y));if(_)return l.state.loading|=4,l.instance=_,kn(_),_;p=YC(d),(y=na.get(y))&&gv(p,y),_=(s.ownerDocument||s).createElement("link"),kn(_);var k=_;return k._p=new Promise(function($,U){k.onload=$,k.onerror=U}),Fn(_,"link",p),l.state.loading|=4,vp(_,d.precedence,s),l.instance=_;case"script":return _=Nl(d.src),(y=s.querySelector(Kc(_)))?(l.instance=y,kn(y),y):(p=d,(y=na.get(_))&&(p=h({},d),yv(p,y)),s=s.ownerDocument||s,y=s.createElement("script"),kn(y),Fn(y,"link",p),s.head.appendChild(y),l.instance=y);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,vp(p,d.precedence,s));return l.instance}function vp(s,l,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=p.length?p[p.length-1]:null,_=y,k=0;k<p.length;k++){var $=p[k];if($.dataset.precedence===l)_=$;else if(_!==y)break}_?_.parentNode.insertBefore(s,_.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(s,l.firstChild))}function gv(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function yv(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var _p=null;function JC(s,l,d){if(_p===null){var p=new Map,y=_p=new Map;y.set(d,p)}else y=_p,p=y.get(d),p||(p=new Map,y.set(d,p));if(p.has(s))return p;for(p.set(s,null),d=d.getElementsByTagName(s),y=0;y<d.length;y++){var _=d[y];if(!(_[bi]||_[je]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var k=_.getAttribute(l)||"";k=s+k;var $=p.get(k);$?$.push(_):p.set(k,[_])}}return p}function QC(s,l,d){s=s.ownerDocument||s,s.head.insertBefore(d,l==="title"?s.querySelector("head > title"):null)}function PB(s,l,d){if(d===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function eR(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Yc=null;function $B(){}function IB(s,l,d){if(Yc===null)throw Error(r(475));var p=Yc;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=jl(d.href),_=s.querySelector(Zc(y));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(p.count++,p=wp.bind(p),s.then(p,p)),l.state.loading|=4,l.instance=_,kn(_);return}_=s.ownerDocument||s,d=YC(d),(y=na.get(y))&&gv(d,y),_=_.createElement("link"),kn(_);var k=_;k._p=new Promise(function($,U){k.onload=$,k.onerror=U}),Fn(_,"link",d),l.instance=_}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(p.count++,l=wp.bind(p),s.addEventListener("load",l),s.addEventListener("error",l))}}function jB(){if(Yc===null)throw Error(r(475));var s=Yc;return s.stylesheets&&s.count===0&&bv(s,s.stylesheets),0<s.count?function(l){var d=setTimeout(function(){if(s.stylesheets&&bv(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(d)}}:null}function wp(){if(this.count--,this.count===0){if(this.stylesheets)bv(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Sp=null;function bv(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Sp=new Map,l.forEach(NB,s),Sp=null,wp.call(s))}function NB(s,l){if(!(l.state.loading&4)){var d=Sp.get(s);if(d)var p=d.get(null);else{d=new Map,Sp.set(s,d);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<y.length;_++){var k=y[_];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(d.set(k.dataset.precedence,k),p=k)}p&&d.set(null,p)}y=l.instance,k=y.getAttribute("data-precedence"),_=d.get(k)||p,_===p&&d.set(null,y),d.set(k,y),this.count++,p=wp.bind(this),y.addEventListener("load",p),y.addEventListener("error",p),_?_.parentNode.insertBefore(y,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),l.state.loading|=4}}var Xc={$$typeof:E,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function MB(s,l,d,p,y,_,k,$){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ic(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ic(0),this.hiddenUpdates=ic(null),this.identifierPrefix=p,this.onUncaughtError=y,this.onCaughtError=_,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function tR(s,l,d,p,y,_,k,$,U,X,ie,oe){return s=new MB(s,l,d,k,$,U,X,oe),l=1,_===!0&&(l|=24),_=kr(3,null,null,l),s.current=_,_.stateNode=s,l=Qy(),l.refCount++,s.pooledCache=l,l.refCount++,_.memoizedState={element:p,isDehydrated:d,cache:l},rb(_),s}function nR(s){return s?(s=fl,s):fl}function rR(s,l,d,p,y,_){y=nR(y),p.context===null?p.context=y:p.pendingContext=y,p=ss(l),p.payload={element:d},_=_===void 0?null:_,_!==null&&(p.callback=_),d=os(s,p,l),d!==null&&(Nr(d,s,l),Rc(d,s,l))}function aR(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<l?d:l}}function vv(s,l){aR(s,l),(s=s.alternate)&&aR(s,l)}function iR(s){if(s.tag===13){var l=dl(s,67108864);l!==null&&Nr(l,s,67108864),vv(s,67108864)}}var xp=!0;function LB(s,l,d,p){var y=M.T;M.T=null;var _=z.p;try{z.p=2,_v(s,l,d,p)}finally{z.p=_,M.T=y}}function DB(s,l,d,p){var y=M.T;M.T=null;var _=z.p;try{z.p=8,_v(s,l,d,p)}finally{z.p=_,M.T=y}}function _v(s,l,d,p){if(xp){var y=wv(p);if(y===null)ov(s,l,p,Ep,d),oR(s,p);else if(UB(y,s,l,d,p))p.stopPropagation();else if(oR(s,p),l&4&&-1<BB.indexOf(s)){for(;y!==null;){var _=Qo(y);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var k=_e(_.pendingLanes);if(k!==0){var $=_;for($.pendingLanes|=2,$.entangledLanes|=2;k;){var U=1<<31-Wt(k);$.entanglements[1]|=U,k&=~U}Ha(_),(At&6)===0&&(op=Je()+500,Hc(0))}}break;case 13:$=dl(_,2),$!==null&&Nr($,_,2),up(),vv(_,2)}if(_=wv(p),_===null&&ov(s,l,p,Ep,d),_===y)break;y=_}y!==null&&p.stopPropagation()}else ov(s,l,p,null,d)}}function wv(s){return s=Cy(s),Sv(s)}var Ep=null;function Sv(s){if(Ep=null,s=Jo(s),s!==null){var l=i(s);if(l===null)s=null;else{var d=l.tag;if(d===13){if(s=o(l),s!==null)return s;s=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Ep=s,null}function sR(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mt()){case gt:return 2;case Ft:return 8;case ct:case we:return 32;case Yn:return 268435456;default:return 32}default:return 32}}var xv=!1,_s=null,ws=null,Ss=null,Jc=new Map,Qc=new Map,xs=[],BB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oR(s,l){switch(s){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":Jc.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qc.delete(l.pointerId)}}function ed(s,l,d,p,y,_){return s===null||s.nativeEvent!==_?(s={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:_,targetContainers:[y]},l!==null&&(l=Qo(l),l!==null&&iR(l)),s):(s.eventSystemFlags|=p,l=s.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),s)}function UB(s,l,d,p,y){switch(l){case"focusin":return _s=ed(_s,s,l,d,p,y),!0;case"dragenter":return ws=ed(ws,s,l,d,p,y),!0;case"mouseover":return Ss=ed(Ss,s,l,d,p,y),!0;case"pointerover":var _=y.pointerId;return Jc.set(_,ed(Jc.get(_)||null,s,l,d,p,y)),!0;case"gotpointercapture":return _=y.pointerId,Qc.set(_,ed(Qc.get(_)||null,s,l,d,p,y)),!0}return!1}function lR(s){var l=Jo(s.target);if(l!==null){var d=i(l);if(d!==null){if(l=d.tag,l===13){if(l=o(d),l!==null){s.blockedOn=l,ge(s.priority,function(){if(d.tag===13){var p=jr();p=sc(p);var y=dl(d,p);y!==null&&Nr(y,d,p),vv(d,p)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Tp(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var d=wv(s.nativeEvent);if(d===null){d=s.nativeEvent;var p=new d.constructor(d.type,d);Ty=p,d.target.dispatchEvent(p),Ty=null}else return l=Qo(d),l!==null&&iR(l),s.blockedOn=d,!1;l.shift()}return!0}function uR(s,l,d){Tp(s)&&d.delete(l)}function zB(){xv=!1,_s!==null&&Tp(_s)&&(_s=null),ws!==null&&Tp(ws)&&(ws=null),Ss!==null&&Tp(Ss)&&(Ss=null),Jc.forEach(uR),Qc.forEach(uR)}function Cp(s,l){s.blockedOn===l&&(s.blockedOn=null,xv||(xv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zB)))}var Rp=null;function cR(s){Rp!==s&&(Rp=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Rp===s&&(Rp=null);for(var l=0;l<s.length;l+=3){var d=s[l],p=s[l+1],y=s[l+2];if(typeof p!="function"){if(Sv(p||d)===null)continue;break}var _=Qo(d);_!==null&&(s.splice(l,3),l-=3,Sb(_,{pending:!0,data:y,method:d.method,action:p},p,y))}}))}function td(s){function l(U){return Cp(U,s)}_s!==null&&Cp(_s,s),ws!==null&&Cp(ws,s),Ss!==null&&Cp(Ss,s),Jc.forEach(l),Qc.forEach(l);for(var d=0;d<xs.length;d++){var p=xs[d];p.blockedOn===s&&(p.blockedOn=null)}for(;0<xs.length&&(d=xs[0],d.blockedOn===null);)lR(d),d.blockedOn===null&&xs.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var y=d[p],_=d[p+1],k=y[Ue]||null;if(typeof _=="function")k||cR(d);else if(k){var $=null;if(_&&_.hasAttribute("formAction")){if(y=_,k=_[Ue]||null)$=k.formAction;else if(Sv(y)!==null)continue}else $=k.action;typeof $=="function"?d[p+1]=$:(d.splice(p,3),p-=3),cR(d)}}}function Ev(s){this._internalRoot=s}Ap.prototype.render=Ev.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,p=jr();rR(d,p,s,l,null,null)},Ap.prototype.unmount=Ev.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;rR(s.current,2,null,s,null,null),up(),l[Rt]=null}};function Ap(s){this._internalRoot=s}Ap.prototype.unstable_scheduleHydration=function(s){if(s){var l=vh();s={blockedOn:null,target:s,priority:l};for(var d=0;d<xs.length&&l!==0&&l<xs[d].priority;d++);xs.splice(d,0,s),d===0&&lR(s)}};var dR=e.version;if(dR!=="19.1.0")throw Error(r(527,dR,"19.1.0"));z.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=c(l),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var FB={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Op=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Op.isDisabled&&Op.supportsFiber)try{Xn=Op.inject(FB),Kt=Op}catch{}}return rd.createRoot=function(s,l){if(!a(s))throw Error(r(299));var d=!1,p="",y=RT,_=AT,k=OT,$=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&($=l.unstable_transitionCallbacks)),l=tR(s,1,!1,null,null,d,p,y,_,k,$,null),s[Rt]=l.current,sv(s),new Ev(l)},rd.hydrateRoot=function(s,l,d){if(!a(s))throw Error(r(299));var p=!1,y="",_=RT,k=AT,$=OT,U=null,X=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(_=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&($=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(U=d.unstable_transitionCallbacks),d.formState!==void 0&&(X=d.formState)),l=tR(s,1,!0,l,d??null,p,y,_,k,$,U,X),l.context=nR(null),d=l.current,p=jr(),p=sc(p),y=ss(p),y.callback=null,os(d,y,p),d=p,l.current.lanes=d,gi(l,d),Ha(l),s[Rt]=l.current,sv(s),new Ap(l)},rd.version="19.1.0",rd}var wR;function t4(){if(wR)return Rv.exports;wR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rv.exports=e4(),Rv.exports}var n4=t4();const r4=hi(n4);var ad={},SR;function a4(){if(SR)return ad;SR=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad.parse=o,ad.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,i=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function o(g,b){const v=new i,w=g.length;if(w<2)return v;const S=(b==null?void 0:b.decode)||h;let x=0;do{const C=g.indexOf("=",x);if(C===-1)break;const E=g.indexOf(";",x),O=E===-1?w:E;if(C>O){x=g.lastIndexOf(";",C-1)+1;continue}const A=u(g,x,C),N=c(g,C,A),D=g.slice(A,N);if(v[D]===void 0){let P=u(g,C+1,O),L=c(g,O,P);const T=S(g.slice(P,L));v[D]=T}x=O+1}while(x<w);return v}function u(g,b,v){do{const w=g.charCodeAt(b);if(w!==32&&w!==9)return b}while(++b<v);return v}function c(g,b,v){for(;b>v;){const w=g.charCodeAt(--b);if(w!==32&&w!==9)return b+1}return v}function f(g,b,v){const w=(v==null?void 0:v.encode)||encodeURIComponent;if(!t.test(g))throw new TypeError(`argument name is invalid: ${g}`);const S=w(b);if(!e.test(S))throw new TypeError(`argument val is invalid: ${b}`);let x=g+"="+S;if(!v)return x;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);x+="; Max-Age="+v.maxAge}if(v.domain){if(!n.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);x+="; Domain="+v.domain}if(v.path){if(!r.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);x+="; Path="+v.path}if(v.expires){if(!m(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);x+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(x+="; HttpOnly"),v.secure&&(x+="; Secure"),v.partitioned&&(x+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return x}function h(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function m(g){return a.call(g)==="[object Date]"}return ad}a4();var xR="popstate";function i4(t={}){function e(r,a){let{pathname:i,search:o,hash:u}=r.location;return D_("",{pathname:i,search:o,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:ef(a)}return o4(e,n,null,t)}function an(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ci(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function s4(){return Math.random().toString(36).substring(2,10)}function ER(t,e){return{usr:t.state,key:t.key,idx:e}}function D_(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Bu(e):e,state:n,key:e&&e.key||r||s4()}}function ef({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Bu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function o4(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,u="POP",c=null,f=h();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function h(){return(o.state||{idx:null}).idx}function m(){u="POP";let S=h(),x=S==null?null:S-f;f=S,c&&c({action:u,location:w.location,delta:x})}function g(S,x){u="PUSH";let C=D_(w.location,S,x);f=h()+1;let E=ER(C,f),O=w.createHref(C);try{o.pushState(E,"",O)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;a.location.assign(O)}i&&c&&c({action:u,location:w.location,delta:1})}function b(S,x){u="REPLACE";let C=D_(w.location,S,x);f=h();let E=ER(C,f),O=w.createHref(C);o.replaceState(E,"",O),i&&c&&c({action:u,location:w.location,delta:0})}function v(S){return l4(S)}let w={get action(){return u},get location(){return t(a,o)},listen(S){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(xR,m),c=S,()=>{a.removeEventListener(xR,m),c=null}},createHref(S){return e(a,S)},createURL:v,encodeLocation(S){let x=v(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:b,go(S){return o.go(S)}};return w}function l4(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),an(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ef(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function X$(t,e,n="/"){return u4(t,e,n,!1)}function u4(t,e,n,r){let a=typeof e=="string"?Bu(e):e,i=Wi(a.pathname||"/",n);if(i==null)return null;let o=J$(t);c4(o);let u=null;for(let c=0;u==null&&c<o.length;++c){let f=w4(i);u=v4(o[c],f,r)}return u}function J$(t,e=[],n=[],r=""){let a=(i,o,u)=>{let c={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(an(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let f=Vi([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(an(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),J$(i.children,e,h,f)),!(i.path==null&&!i.index)&&e.push({path:f,score:y4(f,i.index),routesMeta:h})};return t.forEach((i,o)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))a(i,o);else for(let c of Q$(i.path))a(i,o,c)}),e}function Q$(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=Q$(r.join("/")),u=[];return u.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&u.push(...o),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function c4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:b4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var d4=/^:[\w-]+$/,f4=3,h4=2,p4=1,m4=10,g4=-2,TR=t=>t==="*";function y4(t,e){let n=t.split("/"),r=n.length;return n.some(TR)&&(r+=g4),e&&(r+=h4),n.filter(a=>!TR(a)).reduce((a,i)=>a+(d4.test(i)?f4:i===""?p4:m4),r)}function b4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function v4(t,e,n=!1){let{routesMeta:r}=t,a={},i="/",o=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",m=Nm({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),g=c.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=Nm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:Vi([i,m.pathname]),pathnameBase:T4(Vi([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=Vi([i,m.pathnameBase]))}return o}function Nm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_4(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:m},g)=>{if(h==="*"){let v=u[g]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const b=u[g];return m&&!b?f[h]=void 0:f[h]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:o,pattern:t}}function _4(t,e=!1,n=!0){ci(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function w4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ci(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Wi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function S4(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Bu(t):t;return{pathname:n?n.startsWith("/")?n:x4(n,e):e,search:C4(r),hash:R4(a)}}function x4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Pv(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function E4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function eI(t){let e=E4(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function tI(t,e,n,r=!1){let a;typeof t=="string"?a=Bu(t):(a={...t},an(!a.pathname||!a.pathname.includes("?"),Pv("?","pathname","search",a)),an(!a.pathname||!a.pathname.includes("#"),Pv("#","pathname","hash",a)),an(!a.search||!a.search.includes("#"),Pv("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,u;if(o==null)u=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;a.pathname=g.join("/")}u=m>=0?e[m]:"/"}let c=S4(a,u),f=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}var Vi=t=>t.join("/").replace(/\/\/+/g,"/"),T4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),C4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,R4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function A4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var nI=["POST","PUT","PATCH","DELETE"];new Set(nI);var O4=["GET",...nI];new Set(O4);var Uu=R.createContext(null);Uu.displayName="DataRouter";var _g=R.createContext(null);_g.displayName="DataRouterState";var rI=R.createContext({isTransitioning:!1});rI.displayName="ViewTransition";var k4=R.createContext(new Map);k4.displayName="Fetchers";var P4=R.createContext(null);P4.displayName="Await";var pi=R.createContext(null);pi.displayName="Navigation";var Lf=R.createContext(null);Lf.displayName="Location";var ns=R.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var iS=R.createContext(null);iS.displayName="RouteError";function $4(t,{relative:e}={}){an(Df(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(pi),{hash:a,pathname:i,search:o}=Uf(t,{relative:e}),u=i;return n!=="/"&&(u=i==="/"?n:Vi([n,i])),r.createHref({pathname:u,search:o,hash:a})}function Df(){return R.useContext(Lf)!=null}function Qs(){return an(Df(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Lf).location}var aI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iI(t){R.useContext(pi).static||R.useLayoutEffect(t)}function Bf(){let{isDataRoute:t}=R.useContext(ns);return t?q4():I4()}function I4(){an(Df(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Uu),{basename:e,navigator:n}=R.useContext(pi),{matches:r}=R.useContext(ns),{pathname:a}=Qs(),i=JSON.stringify(eI(r)),o=R.useRef(!1);return iI(()=>{o.current=!0}),R.useCallback((c,f={})=>{if(ci(o.current,aI),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=tI(c,JSON.parse(i),a,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Vi([e,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[e,n,i,a,t])}R.createContext(null);function Uf(t,{relative:e}={}){let{matches:n}=R.useContext(ns),{pathname:r}=Qs(),a=JSON.stringify(eI(n));return R.useMemo(()=>tI(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function j4(t,e){return sI(t,e)}function sI(t,e,n,r){var C;an(Df(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:i}=R.useContext(pi),{matches:o}=R.useContext(ns),u=o[o.length-1],c=u?u.params:{},f=u?u.pathname:"/",h=u?u.pathnameBase:"/",m=u&&u.route;{let E=m&&m.path||"";oI(f,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let g=Qs(),b;if(e){let E=typeof e=="string"?Bu(e):e;an(h==="/"||((C=E.pathname)==null?void 0:C.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),b=E}else b=g;let v=b.pathname||"/",w=v;if(h!=="/"){let E=h.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=!i&&n&&n.matches&&n.matches.length>0?n.matches:X$(t,{pathname:w});ci(m||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ci(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=B4(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},c,E.params),pathname:Vi([h,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:Vi([h,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&x?R.createElement(Lf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},x):x}function N4(){let t=H4(),e=A4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:i},"ErrorBoundary")," or"," ",R.createElement("code",{style:i},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:a},n):null,o)}var M4=R.createElement(N4,null),L4=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?R.createElement(ns.Provider,{value:this.props.routeContext},R.createElement(iS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function D4({routeContext:t,match:e,children:n}){let r=R.useContext(Uu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(ns.Provider,{value:t},n)}function B4(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,i=n==null?void 0:n.errors;if(i!=null){let c=a.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);an(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,u=-1;if(n)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:m}=n,g=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){o=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,h)=>{let m,g=!1,b=null,v=null;n&&(m=i&&f.route.id?i[f.route.id]:void 0,b=f.route.errorElement||M4,o&&(u<0&&h===0?(oI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,h+1)),S=()=>{let x;return m?x=b:g?x=v:f.route.Component?x=R.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=c,R.createElement(D4,{match:f,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?R.createElement(L4,{location:n.location,revalidation:n.revalidation,component:b,error:m,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}function sS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U4(t){let e=R.useContext(Uu);return an(e,sS(t)),e}function z4(t){let e=R.useContext(_g);return an(e,sS(t)),e}function F4(t){let e=R.useContext(ns);return an(e,sS(t)),e}function oS(t){let e=F4(t),n=e.matches[e.matches.length-1];return an(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function V4(){return oS("useRouteId")}function H4(){var r;let t=R.useContext(iS),e=z4("useRouteError"),n=oS("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function q4(){let{router:t}=U4("useNavigate"),e=oS("useNavigate"),n=R.useRef(!1);return iI(()=>{n.current=!0}),R.useCallback(async(a,i={})=>{ci(n.current,aI),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var CR={};function oI(t,e,n){!e&&!CR[t]&&(CR[t]=!0,ci(!1,n))}R.memo(G4);function G4({routes:t,future:e,state:n}){return sI(t,void 0,n,e)}function vd(t){an(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function W4({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:i=!1}){an(!Df(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof n=="string"&&(n=Bu(n));let{pathname:c="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,b=R.useMemo(()=>{let v=Wi(c,o);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:g},navigationType:r}},[o,c,f,h,m,g,r]);return ci(b!=null,`<Router basename="${o}"> is not able to match the URL "${c}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:R.createElement(pi.Provider,{value:u},R.createElement(Lf.Provider,{children:e,value:b}))}function Z4({children:t,location:e}){return j4(B_(t),e)}function B_(t,e=[]){let n=[];return R.Children.forEach(t,(r,a)=>{if(!R.isValidElement(r))return;let i=[...e,a];if(r.type===R.Fragment){n.push.apply(n,B_(r.props.children,i));return}an(r.type===vd,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),an(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=B_(r.props.children,i)),n.push(o)}),n}var gm="get",ym="application/x-www-form-urlencoded";function wg(t){return t!=null&&typeof t.tagName=="string"}function K4(t){return wg(t)&&t.tagName.toLowerCase()==="button"}function Y4(t){return wg(t)&&t.tagName.toLowerCase()==="form"}function X4(t){return wg(t)&&t.tagName.toLowerCase()==="input"}function J4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Q4(t,e){return t.button===0&&(!e||e==="_self")&&!J4(t)}var kp=null;function eU(){if(kp===null)try{new FormData(document.createElement("form"),0),kp=!1}catch{kp=!0}return kp}var tU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $v(t){return t!=null&&!tU.has(t)?(ci(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ym}"`),null):t}function nU(t,e){let n,r,a,i,o;if(Y4(t)){let u=t.getAttribute("action");r=u?Wi(u,e):null,n=t.getAttribute("method")||gm,a=$v(t.getAttribute("enctype"))||ym,i=new FormData(t)}else if(K4(t)||X4(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||u.getAttribute("action");if(r=c?Wi(c,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||gm,a=$v(t.getAttribute("formenctype"))||$v(u.getAttribute("enctype"))||ym,i=new FormData(u,t),!eU()){let{name:f,type:h,value:m}=t;if(h==="image"){let g=f?`${f}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else f&&i.append(f,m)}}else{if(wg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gm,r=null,a=ym,o=t}return i&&a==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:o}}function lS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function rU(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aU(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function iU(t,e,n){let r=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let o=await rU(i,n);return o.links?o.links():[]}return[]}));return uU(r.flat(1).filter(aU).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function RR(t,e,n,r,a,i){let o=(c,f)=>n[f]?c.route.id!==n[f].route.id:!0,u=(c,f)=>{var h;return n[f].pathname!==c.pathname||((h=n[f].route.path)==null?void 0:h.endsWith("*"))&&n[f].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,f)=>o(c,f)||u(c,f)):i==="data"?e.filter((c,f)=>{var m;let h=r.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,f)||u(c,f))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function sU(t,e,{includeHydrateFallback:n}={}){return oU(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function oU(t){return[...new Set(t)]}function lU(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function uU(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let i=JSON.stringify(lU(a));return n.has(i)||(n.add(i),r.push({key:i,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var cU=new Set([100,101,204,205]);function dU(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Wi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function lI(){let t=R.useContext(Uu);return lS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function fU(){let t=R.useContext(_g);return lS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var uS=R.createContext(void 0);uS.displayName="FrameworkContext";function uI(){let t=R.useContext(uS);return lS(t,"You must render this element inside a <HydratedRouter> element"),t}function hU(t,e){let n=R.useContext(uS),[r,a]=R.useState(!1),[i,o]=R.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:f,onMouseLeave:h,onTouchStart:m}=e,g=R.useRef(null);R.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=x=>{x.forEach(C=>{o(C.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return g.current&&S.observe(g.current),()=>{S.disconnect()}}},[t]),R.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let b=()=>{a(!0)},v=()=>{a(!1),o(!1)};return n?t!=="intent"?[i,g,{}]:[i,g,{onFocus:id(u,b),onBlur:id(c,v),onMouseEnter:id(f,b),onMouseLeave:id(h,v),onTouchStart:id(m,b)}]:[!1,g,{}]}function id(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function pU({page:t,...e}){let{router:n}=lI(),r=R.useMemo(()=>X$(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(gU,{page:t,matches:r,...e}):null}function mU(t){let{manifest:e,routeModules:n}=uI(),[r,a]=R.useState([]);return R.useEffect(()=>{let i=!1;return iU(t,e,n).then(o=>{i||a(o)}),()=>{i=!0}},[t,e,n]),r}function gU({page:t,matches:e,...n}){let r=Qs(),{manifest:a,routeModules:i}=uI(),{basename:o}=lI(),{loaderData:u,matches:c}=fU(),f=R.useMemo(()=>RR(t,e,c,a,r,"data"),[t,e,c,a,r]),h=R.useMemo(()=>RR(t,e,c,a,r,"assets"),[t,e,c,a,r]),m=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,w=!1;if(e.forEach(x=>{var E;let C=a.routes[x.route.id];!C||!C.hasLoader||(!f.some(O=>O.route.id===x.route.id)&&x.route.id in u&&((E=i[x.route.id])!=null&&E.shouldRevalidate)||C.hasClientLoader?w=!0:v.add(x.route.id))}),v.size===0)return[];let S=dU(t,o);return w&&v.size>0&&S.searchParams.set("_routes",e.filter(x=>v.has(x.route.id)).map(x=>x.route.id).join(",")),[S.pathname+S.search]},[o,u,r,a,f,e,t,i]),g=R.useMemo(()=>sU(h,a),[h,a]),b=mU(h);return R.createElement(R.Fragment,null,m.map(v=>R.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),g.map(v=>R.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),b.map(({key:v,link:w})=>R.createElement("link",{key:v,...w})))}function yU(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var cI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cI&&(window.__reactRouterVersion="7.6.0")}catch{}function bU({basename:t,children:e,window:n}){let r=R.useRef();r.current==null&&(r.current=i4({window:n,v5Compat:!0}));let a=r.current,[i,o]=R.useState({action:a.action,location:a.location}),u=R.useCallback(c=>{R.startTransition(()=>o(c))},[o]);return R.useLayoutEffect(()=>a.listen(u),[a,u]),R.createElement(W4,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:a})}var dI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fI=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:i,replace:o,state:u,target:c,to:f,preventScrollReset:h,viewTransition:m,...g},b){let{basename:v}=R.useContext(pi),w=typeof f=="string"&&dI.test(f),S,x=!1;if(typeof f=="string"&&w&&(S=f,cI))try{let L=new URL(window.location.href),T=f.startsWith("//")?new URL(L.protocol+f):new URL(f),B=Wi(T.pathname,v);T.origin===L.origin&&B!=null?f=B+T.search+T.hash:x=!0}catch{ci(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=$4(f,{relative:a}),[E,O,A]=hU(r,g),N=SU(f,{replace:o,state:u,target:c,preventScrollReset:h,relative:a,viewTransition:m});function D(L){e&&e(L),L.defaultPrevented||N(L)}let P=R.createElement("a",{...g,...A,href:S||C,onClick:x||i?e:D,ref:yU(b,O),target:c,"data-discover":!w&&n==="render"?"true":void 0});return E&&!w?R.createElement(R.Fragment,null,P,R.createElement(pU,{page:C})):P});fI.displayName="Link";var vU=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:i,to:o,viewTransition:u,children:c,...f},h){let m=Uf(o,{relative:f.relative}),g=Qs(),b=R.useContext(_g),{navigator:v,basename:w}=R.useContext(pi),S=b!=null&&RU(m)&&u===!0,x=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,C=g.pathname,E=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(C=C.toLowerCase(),E=E?E.toLowerCase():null,x=x.toLowerCase()),E&&w&&(E=Wi(E,w)||E);const O=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let A=C===x||!a&&C.startsWith(x)&&C.charAt(O)==="/",N=E!=null&&(E===x||!a&&E.startsWith(x)&&E.charAt(x.length)==="/"),D={isActive:A,isPending:N,isTransitioning:S},P=A?e:void 0,L;typeof r=="function"?L=r(D):L=[r,A?"active":null,N?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let T=typeof i=="function"?i(D):i;return R.createElement(fI,{...f,"aria-current":P,className:L,ref:h,style:T,to:o,viewTransition:u},typeof c=="function"?c(D):c)});vU.displayName="NavLink";var _U=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:i,method:o=gm,action:u,onSubmit:c,relative:f,preventScrollReset:h,viewTransition:m,...g},b)=>{let v=TU(),w=CU(u,{relative:f}),S=o.toLowerCase()==="get"?"get":"post",x=typeof u=="string"&&dI.test(u),C=E=>{if(c&&c(E),E.defaultPrevented)return;E.preventDefault();let O=E.nativeEvent.submitter,A=(O==null?void 0:O.getAttribute("formmethod"))||o;v(O||E.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:a,state:i,relative:f,preventScrollReset:h,viewTransition:m})};return R.createElement("form",{ref:b,method:S,action:w,onSubmit:r?c:C,...g,"data-discover":!x&&t==="render"?"true":void 0})});_U.displayName="Form";function wU(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hI(t){let e=R.useContext(Uu);return an(e,wU(t)),e}function SU(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:o}={}){let u=Bf(),c=Qs(),f=Uf(t,{relative:i});return R.useCallback(h=>{if(Q4(h,e)){h.preventDefault();let m=n!==void 0?n:ef(c)===ef(f);u(t,{replace:m,state:r,preventScrollReset:a,relative:i,viewTransition:o})}},[c,u,f,n,r,e,t,a,i,o])}var xU=0,EU=()=>`__${String(++xU)}__`;function TU(){let{router:t}=hI("useSubmit"),{basename:e}=R.useContext(pi),n=V4();return R.useCallback(async(r,a={})=>{let{action:i,method:o,encType:u,formData:c,body:f}=nU(r,e);if(a.navigate===!1){let h=a.fetcherKey||EU();await t.fetch(h,n,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:f,formMethod:a.method||o,formEncType:a.encType||u,flushSync:a.flushSync})}else await t.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:f,formMethod:a.method||o,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function CU(t,{relative:e}={}){let{basename:n}=R.useContext(pi),r=R.useContext(ns);an(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...Uf(t||".",{relative:e})},o=Qs();if(t==null){i.search=o.search;let u=new URLSearchParams(i.search),c=u.getAll("index");if(c.some(h=>h==="")){u.delete("index"),c.filter(m=>m).forEach(m=>u.append("index",m));let h=u.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Vi([n,i.pathname])),ef(i)}function RU(t,e={}){let n=R.useContext(rI);an(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hI("useViewTransitionState"),a=Uf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Wi(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Wi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nm(a.pathname,o)!=null||Nm(a.pathname,i)!=null}[...cU];var pI=Y$();const Pp=hi(pI);function Zi(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const ri="$$material";function Mm(){return Mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mm.apply(null,arguments)}function AU(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function OU(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var kU=function(){function t(n){var r=this;this._insertTag=function(a){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(a,i),r.tags.push(a)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(OU(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var i=AU(a);try{i.insertRule(r,i.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var a;return(a=r.parentNode)==null?void 0:a.removeChild(r)}),this.tags=[],this.ctr=0},t}(),er="-ms-",Lm="-moz-",wt="-webkit-",mI="comm",cS="rule",dS="decl",PU="@import",gI="@keyframes",$U="@layer",IU=Math.abs,Sg=String.fromCharCode,jU=Object.assign;function NU(t,e){return Wn(t,0)^45?(((e<<2^Wn(t,0))<<2^Wn(t,1))<<2^Wn(t,2))<<2^Wn(t,3):0}function yI(t){return t.trim()}function MU(t,e){return(t=e.exec(t))?t[0]:t}function St(t,e,n){return t.replace(e,n)}function U_(t,e){return t.indexOf(e)}function Wn(t,e){return t.charCodeAt(e)|0}function tf(t,e,n){return t.slice(e,n)}function Xa(t){return t.length}function fS(t){return t.length}function $p(t,e){return e.push(t),t}function LU(t,e){return t.map(e).join("")}var xg=1,Cu=1,bI=0,Rr=0,xn=0,zu="";function Eg(t,e,n,r,a,i,o){return{value:t,root:e,parent:n,type:r,props:a,children:i,line:xg,column:Cu,length:o,return:""}}function sd(t,e){return jU(Eg("",null,null,"",null,null,0),t,{length:-t.length},e)}function DU(){return xn}function BU(){return xn=Rr>0?Wn(zu,--Rr):0,Cu--,xn===10&&(Cu=1,xg--),xn}function qr(){return xn=Rr<bI?Wn(zu,Rr++):0,Cu++,xn===10&&(Cu=1,xg++),xn}function ai(){return Wn(zu,Rr)}function bm(){return Rr}function zf(t,e){return tf(zu,t,e)}function nf(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function vI(t){return xg=Cu=1,bI=Xa(zu=t),Rr=0,[]}function _I(t){return zu="",t}function vm(t){return yI(zf(Rr-1,z_(t===91?t+2:t===40?t+1:t)))}function UU(t){for(;(xn=ai())&&xn<33;)qr();return nf(t)>2||nf(xn)>3?"":" "}function zU(t,e){for(;--e&&qr()&&!(xn<48||xn>102||xn>57&&xn<65||xn>70&&xn<97););return zf(t,bm()+(e<6&&ai()==32&&qr()==32))}function z_(t){for(;qr();)switch(xn){case t:return Rr;case 34:case 39:t!==34&&t!==39&&z_(xn);break;case 40:t===41&&z_(t);break;case 92:qr();break}return Rr}function FU(t,e){for(;qr()&&t+xn!==57;)if(t+xn===84&&ai()===47)break;return"/*"+zf(e,Rr-1)+"*"+Sg(t===47?t:qr())}function VU(t){for(;!nf(ai());)qr();return zf(t,Rr)}function HU(t){return _I(_m("",null,null,null,[""],t=vI(t),0,[0],t))}function _m(t,e,n,r,a,i,o,u,c){for(var f=0,h=0,m=o,g=0,b=0,v=0,w=1,S=1,x=1,C=0,E="",O=a,A=i,N=r,D=E;S;)switch(v=C,C=qr()){case 40:if(v!=108&&Wn(D,m-1)==58){U_(D+=St(vm(C),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:D+=vm(C);break;case 9:case 10:case 13:case 32:D+=UU(v);break;case 92:D+=zU(bm()-1,7);continue;case 47:switch(ai()){case 42:case 47:$p(qU(FU(qr(),bm()),e,n),c);break;default:D+="/"}break;case 123*w:u[f++]=Xa(D)*x;case 125*w:case 59:case 0:switch(C){case 0:case 125:S=0;case 59+h:x==-1&&(D=St(D,/\f/g,"")),b>0&&Xa(D)-m&&$p(b>32?OR(D+";",r,n,m-1):OR(St(D," ","")+";",r,n,m-2),c);break;case 59:D+=";";default:if($p(N=AR(D,e,n,f,h,a,u,E,O=[],A=[],m),i),C===123)if(h===0)_m(D,e,N,N,O,i,m,u,A);else switch(g===99&&Wn(D,3)===110?100:g){case 100:case 108:case 109:case 115:_m(t,N,N,r&&$p(AR(t,N,N,0,0,a,u,E,a,O=[],m),A),a,A,m,u,r?O:A);break;default:_m(D,N,N,N,[""],A,0,u,A)}}f=h=b=0,w=x=1,E=D="",m=o;break;case 58:m=1+Xa(D),b=v;default:if(w<1){if(C==123)--w;else if(C==125&&w++==0&&BU()==125)continue}switch(D+=Sg(C),C*w){case 38:x=h>0?1:(D+="\f",-1);break;case 44:u[f++]=(Xa(D)-1)*x,x=1;break;case 64:ai()===45&&(D+=vm(qr())),g=ai(),h=m=Xa(E=D+=VU(bm())),C++;break;case 45:v===45&&Xa(D)==2&&(w=0)}}return i}function AR(t,e,n,r,a,i,o,u,c,f,h){for(var m=a-1,g=a===0?i:[""],b=fS(g),v=0,w=0,S=0;v<r;++v)for(var x=0,C=tf(t,m+1,m=IU(w=o[v])),E=t;x<b;++x)(E=yI(w>0?g[x]+" "+C:St(C,/&\f/g,g[x])))&&(c[S++]=E);return Eg(t,e,n,a===0?cS:u,c,f,h)}function qU(t,e,n){return Eg(t,e,n,mI,Sg(DU()),tf(t,2,-2),0)}function OR(t,e,n,r){return Eg(t,e,n,dS,tf(t,0,r),tf(t,r+1,-1),r)}function yu(t,e){for(var n="",r=fS(t),a=0;a<r;a++)n+=e(t[a],a,t,e)||"";return n}function GU(t,e,n,r){switch(t.type){case $U:if(t.children.length)break;case PU:case dS:return t.return=t.return||t.value;case mI:return"";case gI:return t.return=t.value+"{"+yu(t.children,r)+"}";case cS:t.value=t.props.join(",")}return Xa(n=yu(t.children,r))?t.return=t.value+"{"+n+"}":""}function WU(t){var e=fS(t);return function(n,r,a,i){for(var o="",u=0;u<e;u++)o+=t[u](n,r,a,i)||"";return o}}function ZU(t){return function(e){e.root||(e=e.return)&&t(e)}}function wI(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var KU=function(e,n,r){for(var a=0,i=0;a=i,i=ai(),a===38&&i===12&&(n[r]=1),!nf(i);)qr();return zf(e,Rr)},YU=function(e,n){var r=-1,a=44;do switch(nf(a)){case 0:a===38&&ai()===12&&(n[r]=1),e[r]+=KU(Rr-1,n,r);break;case 2:e[r]+=vm(a);break;case 4:if(a===44){e[++r]=ai()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Sg(a)}while(a=qr());return e},XU=function(e,n){return _I(YU(vI(e),n))},kR=new WeakMap,JU=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,a=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!kR.get(r))&&!a){kR.set(e,!0);for(var i=[],o=XU(n,i),u=r.props,c=0,f=0;c<o.length;c++)for(var h=0;h<u.length;h++,f++)e.props[f]=i[c]?o[c].replace(/&\f/g,u[h]):u[h]+" "+o[c]}}},QU=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function SI(t,e){switch(NU(t,e)){case 5103:return wt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return wt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return wt+t+Lm+t+er+t+t;case 6828:case 4268:return wt+t+er+t+t;case 6165:return wt+t+er+"flex-"+t+t;case 5187:return wt+t+St(t,/(\w+).+(:[^]+)/,wt+"box-$1$2"+er+"flex-$1$2")+t;case 5443:return wt+t+er+"flex-item-"+St(t,/flex-|-self/,"")+t;case 4675:return wt+t+er+"flex-line-pack"+St(t,/align-content|flex-|-self/,"")+t;case 5548:return wt+t+er+St(t,"shrink","negative")+t;case 5292:return wt+t+er+St(t,"basis","preferred-size")+t;case 6060:return wt+"box-"+St(t,"-grow","")+wt+t+er+St(t,"grow","positive")+t;case 4554:return wt+St(t,/([^-])(transform)/g,"$1"+wt+"$2")+t;case 6187:return St(St(St(t,/(zoom-|grab)/,wt+"$1"),/(image-set)/,wt+"$1"),t,"")+t;case 5495:case 3959:return St(t,/(image-set\([^]*)/,wt+"$1$`$1");case 4968:return St(St(t,/(.+:)(flex-)?(.*)/,wt+"box-pack:$3"+er+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+wt+t+t;case 4095:case 3583:case 4068:case 2532:return St(t,/(.+)-inline(.+)/,wt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Xa(t)-1-e>6)switch(Wn(t,e+1)){case 109:if(Wn(t,e+4)!==45)break;case 102:return St(t,/(.+:)(.+)-([^]+)/,"$1"+wt+"$2-$3$1"+Lm+(Wn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~U_(t,"stretch")?SI(St(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Wn(t,e+1)!==115)break;case 6444:switch(Wn(t,Xa(t)-3-(~U_(t,"!important")&&10))){case 107:return St(t,":",":"+wt)+t;case 101:return St(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+wt+(Wn(t,14)===45?"inline-":"")+"box$3$1"+wt+"$2$3$1"+er+"$2box$3")+t}break;case 5936:switch(Wn(t,e+11)){case 114:return wt+t+er+St(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return wt+t+er+St(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return wt+t+er+St(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return wt+t+er+t+t}return t}var e3=function(e,n,r,a){if(e.length>-1&&!e.return)switch(e.type){case dS:e.return=SI(e.value,e.length);break;case gI:return yu([sd(e,{value:St(e.value,"@","@"+wt)})],a);case cS:if(e.length)return LU(e.props,function(i){switch(MU(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return yu([sd(e,{props:[St(i,/:(read-\w+)/,":"+Lm+"$1")]})],a);case"::placeholder":return yu([sd(e,{props:[St(i,/:(plac\w+)/,":"+wt+"input-$1")]}),sd(e,{props:[St(i,/:(plac\w+)/,":"+Lm+"$1")]}),sd(e,{props:[St(i,/:(plac\w+)/,er+"input-$1")]})],a)}return""})}},t3=[e3],n3=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var S=w.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var a=e.stylisPlugins||t3,i={},o,u=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(w){for(var S=w.getAttribute("data-emotion").split(" "),x=1;x<S.length;x++)i[S[x]]=!0;u.push(w)});var c,f=[JU,QU];{var h,m=[GU,ZU(function(w){h.insert(w)})],g=WU(f.concat(a,m)),b=function(S){return yu(HU(S),g)};c=function(S,x,C,E){h=C,b(S?S+"{"+x.styles+"}":x.styles),E&&(v.inserted[x.name]=!0)}}var v={key:n,sheet:new kU({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:c};return v.sheet.hydrate(u),v},Iv={exports:{}},Et={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PR;function r3(){if(PR)return Et;PR=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,a=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,u=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,m=t?Symbol.for("react.suspense"):60113,g=t?Symbol.for("react.suspense_list"):60120,b=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,w=t?Symbol.for("react.block"):60121,S=t?Symbol.for("react.fundamental"):60117,x=t?Symbol.for("react.responder"):60118,C=t?Symbol.for("react.scope"):60119;function E(A){if(typeof A=="object"&&A!==null){var N=A.$$typeof;switch(N){case e:switch(A=A.type,A){case c:case f:case r:case i:case a:case m:return A;default:switch(A=A&&A.$$typeof,A){case u:case h:case v:case b:case o:return A;default:return N}}case n:return N}}}function O(A){return E(A)===f}return Et.AsyncMode=c,Et.ConcurrentMode=f,Et.ContextConsumer=u,Et.ContextProvider=o,Et.Element=e,Et.ForwardRef=h,Et.Fragment=r,Et.Lazy=v,Et.Memo=b,Et.Portal=n,Et.Profiler=i,Et.StrictMode=a,Et.Suspense=m,Et.isAsyncMode=function(A){return O(A)||E(A)===c},Et.isConcurrentMode=O,Et.isContextConsumer=function(A){return E(A)===u},Et.isContextProvider=function(A){return E(A)===o},Et.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},Et.isForwardRef=function(A){return E(A)===h},Et.isFragment=function(A){return E(A)===r},Et.isLazy=function(A){return E(A)===v},Et.isMemo=function(A){return E(A)===b},Et.isPortal=function(A){return E(A)===n},Et.isProfiler=function(A){return E(A)===i},Et.isStrictMode=function(A){return E(A)===a},Et.isSuspense=function(A){return E(A)===m},Et.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===r||A===f||A===i||A===a||A===m||A===g||typeof A=="object"&&A!==null&&(A.$$typeof===v||A.$$typeof===b||A.$$typeof===o||A.$$typeof===u||A.$$typeof===h||A.$$typeof===S||A.$$typeof===x||A.$$typeof===C||A.$$typeof===w)},Et.typeOf=E,Et}var $R;function a3(){return $R||($R=1,Iv.exports=r3()),Iv.exports}var jv,IR;function i3(){if(IR)return jv;IR=1;var t=a3(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=r,i[t.Memo]=a;function o(v){return t.isMemo(v)?a:i[v.$$typeof]||e}var u=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,g=Object.prototype;function b(v,w,S){if(typeof w!="string"){if(g){var x=m(w);x&&x!==g&&b(v,x,S)}var C=c(w);f&&(C=C.concat(f(w)));for(var E=o(v),O=o(w),A=0;A<C.length;++A){var N=C[A];if(!n[N]&&!(S&&S[N])&&!(O&&O[N])&&!(E&&E[N])){var D=h(w,N);try{u(v,N,D)}catch{}}}}return v}return jv=b,jv}i3();var s3=!0;function xI(t,e,n){var r="";return n.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(r+=a+" ")}),r}var hS=function(e,n,r){var a=e.key+"-"+n.name;(r===!1||s3===!1)&&e.registered[a]===void 0&&(e.registered[a]=n.styles)},pS=function(e,n,r){hS(e,n,r);var a=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+a:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function o3(t){for(var e=0,n,r=0,a=t.length;a>=4;++r,a-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var l3={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},u3=/[A-Z]|^ms/g,c3=/_EMO_([^_]+?)_([^]*?)_EMO_/g,EI=function(e){return e.charCodeAt(1)===45},jR=function(e){return e!=null&&typeof e!="boolean"},Nv=wI(function(t){return EI(t)?t:t.replace(u3,"-$&").toLowerCase()}),NR=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(c3,function(r,a,i){return Ja={name:a,styles:i,next:Ja},a})}return l3[e]!==1&&!EI(e)&&typeof n=="number"&&n!==0?n+"px":n};function rf(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var a=n;if(a.anim===1)return Ja={name:a.name,styles:a.styles,next:Ja},a.name;var i=n;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)Ja={name:o.name,styles:o.styles,next:Ja},o=o.next;var u=i.styles+";";return u}return d3(t,e,n)}case"function":{if(t!==void 0){var c=Ja,f=n(t);return Ja=c,rf(t,e,f)}break}}var h=n;if(e==null)return h;var m=e[h];return m!==void 0?m:h}function d3(t,e,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=rf(t,e,n[a])+";";else for(var i in n){var o=n[i];if(typeof o!="object"){var u=o;e!=null&&e[u]!==void 0?r+=i+"{"+e[u]+"}":jR(u)&&(r+=Nv(i)+":"+NR(i,u)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var c=0;c<o.length;c++)jR(o[c])&&(r+=Nv(i)+":"+NR(i,o[c])+";");else{var f=rf(t,e,o);switch(i){case"animation":case"animationName":{r+=Nv(i)+":"+f+";";break}default:r+=i+"{"+f+"}"}}}return r}var MR=/label:\s*([^\s;{]+)\s*(;|$)/g,Ja;function Ff(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,a="";Ja=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,a+=rf(n,e,i);else{var o=i;a+=o[0]}for(var u=1;u<t.length;u++)if(a+=rf(n,e,t[u]),r){var c=i;a+=c[u]}MR.lastIndex=0;for(var f="",h;(h=MR.exec(a))!==null;)f+="-"+h[1];var m=o3(a)+f;return{name:m,styles:a,next:Ja}}var f3=function(e){return e()},TI=L_.useInsertionEffect?L_.useInsertionEffect:!1,CI=TI||f3,LR=TI||R.useLayoutEffect,RI=R.createContext(typeof HTMLElement<"u"?n3({key:"css"}):null);RI.Provider;var mS=function(e){return R.forwardRef(function(n,r){var a=R.useContext(RI);return e(n,a,r)})},Vf=R.createContext({}),gS={}.hasOwnProperty,F_="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",h3=function(e,n){var r={};for(var a in n)gS.call(n,a)&&(r[a]=n[a]);return r[F_]=e,r},p3=function(e){var n=e.cache,r=e.serialized,a=e.isStringTag;return hS(n,r,a),CI(function(){return pS(n,r,a)}),null},m3=mS(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var a=t[F_],i=[r],o="";typeof t.className=="string"?o=xI(e.registered,i,t.className):t.className!=null&&(o=t.className+" ");var u=Ff(i,void 0,R.useContext(Vf));o+=e.key+"-"+u.name;var c={};for(var f in t)gS.call(t,f)&&f!=="css"&&f!==F_&&(c[f]=t[f]);return c.className=o,n&&(c.ref=n),R.createElement(R.Fragment,null,R.createElement(p3,{cache:e,serialized:u,isStringTag:typeof a=="string"}),R.createElement(a,c))}),g3=m3,DR=function(e,n){var r=arguments;if(n==null||!gS.call(n,"css"))return R.createElement.apply(void 0,r);var a=r.length,i=new Array(a);i[0]=g3,i[1]=h3(e,n);for(var o=2;o<a;o++)i[o]=r[o];return R.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(DR||(DR={}));var y3=mS(function(t,e){var n=t.styles,r=Ff([n],void 0,R.useContext(Vf)),a=R.useRef();return LR(function(){var i=e.key+"-global",o=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),u=!1,c=document.querySelector('style[data-emotion="'+i+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),c!==null&&(u=!0,c.setAttribute("data-emotion",i),o.hydrate([c])),a.current=[o,u],function(){o.flush()}},[e]),LR(function(){var i=a.current,o=i[0],u=i[1];if(u){i[1]=!1;return}if(r.next!==void 0&&pS(e,r.next,!0),o.tags.length){var c=o.tags[o.tags.length-1].nextElementSibling;o.before=c,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function yS(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ff(e)}function Yo(){var t=yS.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var b3=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,v3=wI(function(t){return b3.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),_3=v3,w3=function(e){return e!=="theme"},BR=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?_3:w3},UR=function(e,n,r){var a;if(n){var i=n.shouldForwardProp;a=e.__emotion_forwardProp&&i?function(o){return e.__emotion_forwardProp(o)&&i(o)}:i}return typeof a!="function"&&r&&(a=e.__emotion_forwardProp),a},S3=function(e){var n=e.cache,r=e.serialized,a=e.isStringTag;return hS(n,r,a),CI(function(){return pS(n,r,a)}),null},x3=function t(e,n){var r=e.__emotion_real===e,a=r&&e.__emotion_base||e,i,o;n!==void 0&&(i=n.label,o=n.target);var u=UR(e,n,r),c=u||BR(a),f=!c("as");return function(){var h=arguments,m=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&m.push("label:"+i+";"),h[0]==null||h[0].raw===void 0)m.push.apply(m,h);else{var g=h[0];m.push(g[0]);for(var b=h.length,v=1;v<b;v++)m.push(h[v],g[v])}var w=mS(function(S,x,C){var E=f&&S.as||a,O="",A=[],N=S;if(S.theme==null){N={};for(var D in S)N[D]=S[D];N.theme=R.useContext(Vf)}typeof S.className=="string"?O=xI(x.registered,A,S.className):S.className!=null&&(O=S.className+" ");var P=Ff(m.concat(A),x.registered,N);O+=x.key+"-"+P.name,o!==void 0&&(O+=" "+o);var L=f&&u===void 0?BR(E):c,T={};for(var B in S)f&&B==="as"||L(B)&&(T[B]=S[B]);return T.className=O,C&&(T.ref=C),R.createElement(R.Fragment,null,R.createElement(S3,{cache:x,serialized:P,isStringTag:typeof E=="string"}),R.createElement(E,T))});return w.displayName=i!==void 0?i:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",w.defaultProps=e.defaultProps,w.__emotion_real=w,w.__emotion_base=a,w.__emotion_styles=m,w.__emotion_forwardProp=u,Object.defineProperty(w,"toString",{value:function(){return"."+o}}),w.withComponent=function(S,x){var C=t(S,Mm({},n,x,{shouldForwardProp:UR(w,x,!0)}));return C.apply(void 0,m)},w}},E3=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],V_=x3.bind(null);E3.forEach(function(t){V_[t]=V_(t)});function T3(t){return t==null||Object.keys(t).length===0}function AI(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?a=>e(T3(a)?n:a):e;return I.jsx(y3,{styles:r})}function OI(t,e){return V_(t,e)}function C3(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const zR=[];function FR(t){return zR[0]=t,Ff(zR)}var Mv={exports:{}},Mt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VR;function R3(){if(VR)return Mt;VR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function v(w){if(typeof w=="object"&&w!==null){var S=w.$$typeof;switch(S){case t:switch(w=w.type,w){case n:case a:case r:case c:case f:case g:return w;default:switch(w=w&&w.$$typeof,w){case o:case u:case m:case h:return w;case i:return w;default:return S}}case e:return S}}}return Mt.ContextConsumer=i,Mt.ContextProvider=o,Mt.Element=t,Mt.ForwardRef=u,Mt.Fragment=n,Mt.Lazy=m,Mt.Memo=h,Mt.Portal=e,Mt.Profiler=a,Mt.StrictMode=r,Mt.Suspense=c,Mt.SuspenseList=f,Mt.isContextConsumer=function(w){return v(w)===i},Mt.isContextProvider=function(w){return v(w)===o},Mt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},Mt.isForwardRef=function(w){return v(w)===u},Mt.isFragment=function(w){return v(w)===n},Mt.isLazy=function(w){return v(w)===m},Mt.isMemo=function(w){return v(w)===h},Mt.isPortal=function(w){return v(w)===e},Mt.isProfiler=function(w){return v(w)===a},Mt.isStrictMode=function(w){return v(w)===r},Mt.isSuspense=function(w){return v(w)===c},Mt.isSuspenseList=function(w){return v(w)===f},Mt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===a||w===r||w===c||w===f||typeof w=="object"&&w!==null&&(w.$$typeof===m||w.$$typeof===h||w.$$typeof===o||w.$$typeof===i||w.$$typeof===u||w.$$typeof===b||w.getModuleId!==void 0)},Mt.typeOf=v,Mt}var HR;function A3(){return HR||(HR=1,Mv.exports=R3()),Mv.exports}var kI=A3();function Qa(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function PI(t){if(R.isValidElement(t)||kI.isValidElementType(t)||!Qa(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=PI(t[n])}),e}function ir(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Qa(t)&&Qa(e)&&Object.keys(e).forEach(a=>{R.isValidElement(e[a])||kI.isValidElementType(e[a])?r[a]=e[a]:Qa(e[a])&&Object.prototype.hasOwnProperty.call(t,a)&&Qa(t[a])?r[a]=ir(t[a],e[a],n):n.clone?r[a]=Qa(e[a])?PI(e[a]):e[a]:r[a]=e[a]}),r}const O3=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function k3(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...a}=t,i=O3(e),o=Object.keys(i);function u(g){return`@media (min-width:${typeof e[g]=="number"?e[g]:g}${n})`}function c(g){return`@media (max-width:${(typeof e[g]=="number"?e[g]:g)-r/100}${n})`}function f(g,b){const v=o.indexOf(b);return`@media (min-width:${typeof e[g]=="number"?e[g]:g}${n}) and (max-width:${(v!==-1&&typeof e[o[v]]=="number"?e[o[v]]:b)-r/100}${n})`}function h(g){return o.indexOf(g)+1<o.length?f(g,o[o.indexOf(g)+1]):u(g)}function m(g){const b=o.indexOf(g);return b===0?u(o[1]):b===o.length-1?c(o[b]):f(g,o[o.indexOf(g)+1]).replace("@media","@media not all and")}return{keys:o,values:i,up:u,down:c,between:f,only:h,not:m,unit:n,...a}}function P3(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,a)=>{var o,u;const i=/min-width:\s*([0-9.]+)/;return+(((o=r.match(i))==null?void 0:o[1])||0)-+(((u=a.match(i))==null?void 0:u[1])||0)});return n.length?n.reduce((r,a)=>{const i=e[a];return delete r[a],r[a]=i,r},{...e}):e}function $3(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function I3(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,a]=n,i=Number.isNaN(+r)?r||0:+r;return t.containerQueries(a).up(i)}function j3(t){const e=(i,o)=>i.replace("@media",o?`@container ${o}`:"@container");function n(i,o){i.up=(...u)=>e(t.breakpoints.up(...u),o),i.down=(...u)=>e(t.breakpoints.down(...u),o),i.between=(...u)=>e(t.breakpoints.between(...u),o),i.only=(...u)=>e(t.breakpoints.only(...u),o),i.not=(...u)=>{const c=e(t.breakpoints.not(...u),o);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const r={},a=i=>(n(r,i),r);return n(a),{...t,containerQueries:a}}const N3={borderRadius:4};function Nd(t,e){return e?ir(t,e,{clone:!1}):t}const Tg={xs:0,sm:600,md:900,lg:1200,xl:1536},qR={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Tg[t]}px)`},M3={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:Tg[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Ki(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const i=r.breakpoints||qR;return e.reduce((o,u,c)=>(o[i.up(i.keys[c])]=n(e[c]),o),{})}if(typeof e=="object"){const i=r.breakpoints||qR;return Object.keys(e).reduce((o,u)=>{if($3(i.keys,u)){const c=I3(r.containerQueries?r:M3,u);c&&(o[c]=n(e[u],u))}else if(Object.keys(i.values||Tg).includes(u)){const c=i.up(u);o[c]=n(e[u],u)}else{const c=u;o[c]=e[c]}return o},{})}return n(e)}function L3(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,a)=>{const i=t.up(a);return r[i]={},r},{}))||{}}function D3(t,e){return t.reduce((n,r)=>{const a=n[r];return(!a||Object.keys(a).length===0)&&delete n[r],n},e)}function de(t){if(typeof t!="string")throw new Error(Zi(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Cg(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((a,i)=>a&&a[i]?a[i]:null,t);if(r!=null)return r}return e.split(".").reduce((r,a)=>r&&r[a]!=null?r[a]:null,t)}function Dm(t,e,n,r=n){let a;return typeof t=="function"?a=t(n):Array.isArray(t)?a=t[n]||r:a=Cg(t,n)||r,e&&(a=e(a,r,t)),a}function bn(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:a}=t,i=o=>{if(o[e]==null)return null;const u=o[e],c=o.theme,f=Cg(c,r)||{};return Ki(o,u,m=>{let g=Dm(f,a,m);return m===g&&typeof m=="string"&&(g=Dm(f,a,`${e}${m==="default"?"":de(m)}`,m)),n===!1?g:{[n]:g}})};return i.propTypes={},i.filterProps=[e],i}function B3(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const U3={m:"margin",p:"padding"},z3={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},GR={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},F3=B3(t=>{if(t.length>2)if(GR[t])t=GR[t];else return[t];const[e,n]=t.split(""),r=U3[e],a=z3[n]||"";return Array.isArray(a)?a.map(i=>r+i):[r+a]}),bS=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],vS=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...bS,...vS];function Hf(t,e,n,r){const a=Cg(t,e,!0)??n;return typeof a=="number"||typeof a=="string"?i=>typeof i=="string"?i:typeof a=="string"?a.startsWith("var(")&&i===0?0:a.startsWith("var(")&&i===1?a:`calc(${i} * ${a})`:a*i:Array.isArray(a)?i=>{if(typeof i=="string")return i;const o=Math.abs(i),u=a[o];return i>=0?u:typeof u=="number"?-u:typeof u=="string"&&u.startsWith("var(")?`calc(-1 * ${u})`:`-${u}`}:typeof a=="function"?a:()=>{}}function _S(t){return Hf(t,"spacing",8)}function qf(t,e){return typeof e=="string"||e==null?e:t(e)}function V3(t,e){return n=>t.reduce((r,a)=>(r[a]=qf(e,n),r),{})}function H3(t,e,n,r){if(!e.includes(n))return null;const a=F3(n),i=V3(a,r),o=t[n];return Ki(t,o,i)}function $I(t,e){const n=_S(t.theme);return Object.keys(t).map(r=>H3(t,e,r,n)).reduce(Nd,{})}function cn(t){return $I(t,bS)}cn.propTypes={};cn.filterProps=bS;function dn(t){return $I(t,vS)}dn.propTypes={};dn.filterProps=vS;function II(t=8,e=_S({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(i=>{const o=e(i);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Rg(...t){const e=t.reduce((r,a)=>(a.filterProps.forEach(i=>{r[i]=a}),r),{}),n=r=>Object.keys(r).reduce((a,i)=>e[i]?Nd(a,e[i](r)):a,{});return n.propTypes={},n.filterProps=t.reduce((r,a)=>r.concat(a.filterProps),[]),n}function ua(t){return typeof t!="number"?t:`${t}px solid`}function fa(t,e){return bn({prop:t,themeKey:"borders",transform:e})}const q3=fa("border",ua),G3=fa("borderTop",ua),W3=fa("borderRight",ua),Z3=fa("borderBottom",ua),K3=fa("borderLeft",ua),Y3=fa("borderColor"),X3=fa("borderTopColor"),J3=fa("borderRightColor"),Q3=fa("borderBottomColor"),e5=fa("borderLeftColor"),t5=fa("outline",ua),n5=fa("outlineColor"),Ag=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Hf(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:qf(e,r)});return Ki(t,t.borderRadius,n)}return null};Ag.propTypes={};Ag.filterProps=["borderRadius"];Rg(q3,G3,W3,Z3,K3,Y3,X3,J3,Q3,e5,Ag,t5,n5);const Og=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Hf(t.theme,"spacing",8),n=r=>({gap:qf(e,r)});return Ki(t,t.gap,n)}return null};Og.propTypes={};Og.filterProps=["gap"];const kg=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Hf(t.theme,"spacing",8),n=r=>({columnGap:qf(e,r)});return Ki(t,t.columnGap,n)}return null};kg.propTypes={};kg.filterProps=["columnGap"];const Pg=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Hf(t.theme,"spacing",8),n=r=>({rowGap:qf(e,r)});return Ki(t,t.rowGap,n)}return null};Pg.propTypes={};Pg.filterProps=["rowGap"];const r5=bn({prop:"gridColumn"}),a5=bn({prop:"gridRow"}),i5=bn({prop:"gridAutoFlow"}),s5=bn({prop:"gridAutoColumns"}),o5=bn({prop:"gridAutoRows"}),l5=bn({prop:"gridTemplateColumns"}),u5=bn({prop:"gridTemplateRows"}),c5=bn({prop:"gridTemplateAreas"}),d5=bn({prop:"gridArea"});Rg(Og,kg,Pg,r5,a5,i5,s5,o5,l5,u5,c5,d5);function bu(t,e){return e==="grey"?e:t}const f5=bn({prop:"color",themeKey:"palette",transform:bu}),h5=bn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:bu}),p5=bn({prop:"backgroundColor",themeKey:"palette",transform:bu});Rg(f5,h5,p5);function Fr(t){return t<=1&&t!==0?`${t*100}%`:t}const m5=bn({prop:"width",transform:Fr}),wS=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var a,i,o,u,c;const r=((o=(i=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:i.values)==null?void 0:o[n])||Tg[n];return r?((c=(u=t.theme)==null?void 0:u.breakpoints)==null?void 0:c.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Fr(n)}};return Ki(t,t.maxWidth,e)}return null};wS.filterProps=["maxWidth"];const g5=bn({prop:"minWidth",transform:Fr}),y5=bn({prop:"height",transform:Fr}),b5=bn({prop:"maxHeight",transform:Fr}),v5=bn({prop:"minHeight",transform:Fr});bn({prop:"size",cssProperty:"width",transform:Fr});bn({prop:"size",cssProperty:"height",transform:Fr});const _5=bn({prop:"boxSizing"});Rg(m5,wS,g5,y5,b5,v5,_5);const Gf={border:{themeKey:"borders",transform:ua},borderTop:{themeKey:"borders",transform:ua},borderRight:{themeKey:"borders",transform:ua},borderBottom:{themeKey:"borders",transform:ua},borderLeft:{themeKey:"borders",transform:ua},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ua},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ag},color:{themeKey:"palette",transform:bu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:bu},backgroundColor:{themeKey:"palette",transform:bu},p:{style:dn},pt:{style:dn},pr:{style:dn},pb:{style:dn},pl:{style:dn},px:{style:dn},py:{style:dn},padding:{style:dn},paddingTop:{style:dn},paddingRight:{style:dn},paddingBottom:{style:dn},paddingLeft:{style:dn},paddingX:{style:dn},paddingY:{style:dn},paddingInline:{style:dn},paddingInlineStart:{style:dn},paddingInlineEnd:{style:dn},paddingBlock:{style:dn},paddingBlockStart:{style:dn},paddingBlockEnd:{style:dn},m:{style:cn},mt:{style:cn},mr:{style:cn},mb:{style:cn},ml:{style:cn},mx:{style:cn},my:{style:cn},margin:{style:cn},marginTop:{style:cn},marginRight:{style:cn},marginBottom:{style:cn},marginLeft:{style:cn},marginX:{style:cn},marginY:{style:cn},marginInline:{style:cn},marginInlineStart:{style:cn},marginInlineEnd:{style:cn},marginBlock:{style:cn},marginBlockStart:{style:cn},marginBlockEnd:{style:cn},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Og},rowGap:{style:Pg},columnGap:{style:kg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Fr},maxWidth:{style:wS},minWidth:{transform:Fr},height:{transform:Fr},maxHeight:{transform:Fr},minHeight:{transform:Fr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function w5(...t){const e=t.reduce((r,a)=>r.concat(Object.keys(a)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function S5(t,e){return typeof t=="function"?t(e):t}function x5(){function t(n,r,a,i){const o={[n]:r,theme:a},u=i[n];if(!u)return{[n]:r};const{cssProperty:c=n,themeKey:f,transform:h,style:m}=u;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[n]:r};const g=Cg(a,f)||{};return m?m(o):Ki(o,r,v=>{let w=Dm(g,h,v);return v===w&&typeof v=="string"&&(w=Dm(g,h,`${n}${v==="default"?"":de(v)}`,v)),c===!1?w:{[c]:w}})}function e(n){const{sx:r,theme:a={}}=n||{};if(!r)return null;const i=a.unstable_sxConfig??Gf;function o(u){let c=u;if(typeof u=="function")c=u(a);else if(typeof u!="object")return u;if(!c)return null;const f=L3(a.breakpoints),h=Object.keys(f);let m=f;return Object.keys(c).forEach(g=>{const b=S5(c[g],a);if(b!=null)if(typeof b=="object")if(i[g])m=Nd(m,t(g,b,a,i));else{const v=Ki({theme:a},b,w=>({[g]:w}));w5(v,b)?m[g]=e({sx:b,theme:a}):m=Nd(m,v)}else m=Nd(m,t(g,b,a,i))}),P3(a,D3(h,m))}return Array.isArray(r)?r.map(o):o(r)}return e}const Fs=x5();Fs.filterProps=["sx"];function E5(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let a=n.getColorSchemeSelector(t);return a==="&"?e:((a.includes("data-")||a.includes("."))&&(a=`*:where(${a.replace(/\s*&$/,"")}) &`),{[a]:e})}return n.palette.mode===t?e:{}}function Wf(t={},...e){const{breakpoints:n={},palette:r={},spacing:a,shape:i={},...o}=t,u=k3(n),c=II(a);let f=ir({breakpoints:u,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:c,shape:{...N3,...i}},o);return f=j3(f),f.applyStyles=E5,f=e.reduce((h,m)=>ir(h,m),f),f.unstable_sxConfig={...Gf,...o==null?void 0:o.unstable_sxConfig},f.unstable_sx=function(m){return Fs({sx:m,theme:this})},f}function T5(t){return Object.keys(t).length===0}function jI(t=null){const e=R.useContext(Vf);return!e||T5(e)?t:e}const C5=Wf();function Zf(t=C5){return jI(t)}function R5({styles:t,themeId:e,defaultTheme:n={}}){const r=Zf(n),a=typeof t=="function"?t(e&&r[e]||r):t;return I.jsx(AI,{styles:a})}const A5=t=>{var r;const e={systemProps:{},otherProps:{}},n=((r=t==null?void 0:t.theme)==null?void 0:r.unstable_sxConfig)??Gf;return Object.keys(t).forEach(a=>{n[a]?e.systemProps[a]=t[a]:e.otherProps[a]=t[a]}),e};function SS(t){const{sx:e,...n}=t,{systemProps:r,otherProps:a}=A5(n);let i;return Array.isArray(e)?i=[r,...e]:typeof e=="function"?i=(...o)=>{const u=e(...o);return Qa(u)?{...r,...u}:r}:i={...r,...e},{...a,sx:i}}const WR=t=>t,O5=()=>{let t=WR;return{configure(e){t=e},generate(e){return t(e)},reset(){t=WR}}},NI=O5();function MI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=MI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Se(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=MI(t))&&(r&&(r+=" "),r+=e);return r}function k5(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:a}=t,i=OI("div",{shouldForwardProp:u=>u!=="theme"&&u!=="sx"&&u!=="as"})(Fs);return R.forwardRef(function(c,f){const h=Zf(n),{className:m,component:g="div",...b}=SS(c);return I.jsx(i,{as:g,ref:f,className:Se(m,a?a(r):r),theme:e&&h[e]||h,...b})})}const P5={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function et(t,e,n="Mui"){const r=P5[e];return r?`${n}-${r}`:`${NI.generate(t)}-${e}`}function tt(t,e,n="Mui"){const r={};return e.forEach(a=>{r[a]=et(t,a,n)}),r}function LI(t){const{variants:e,...n}=t,r={variants:e,style:FR(n),isProcessed:!0};return r.style===n||e&&e.forEach(a=>{typeof a.style!="function"&&(a.style=FR(a.style))}),r}const $5=Wf();function Lv(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function I5(t){return t?(e,n)=>n[t]:null}function j5(t,e,n){t.theme=M5(t.theme)?n:t.theme[e]||t.theme}function wm(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>wm(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:a,...i}=n;r=i}return DI(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function DI(t,e,n=[]){var a;let r;e:for(let i=0;i<e.length;i+=1){const o=e[i];if(typeof o.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(r))continue}else for(const u in o.props)if(t[u]!==o.props[u]&&((a=t.ownerState)==null?void 0:a[u])!==o.props[u])continue e;typeof o.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function BI(t={}){const{themeId:e,defaultTheme:n=$5,rootShouldForwardProp:r=Lv,slotShouldForwardProp:a=Lv}=t;function i(u){j5(u,e,n)}return(u,c={})=>{C3(u,A=>A.filter(N=>N!==Fs));const{name:f,slot:h,skipVariantsResolver:m,skipSx:g,overridesResolver:b=I5(D5(h)),...v}=c,w=m!==void 0?m:h&&h!=="Root"&&h!=="root"||!1,S=g||!1;let x=Lv;h==="Root"||h==="root"?x=r:h?x=a:L5(u)&&(x=void 0);const C=OI(u,{shouldForwardProp:x,label:N5(),...v}),E=A=>{if(typeof A=="function"&&A.__emotion_real!==A)return function(D){return wm(D,A)};if(Qa(A)){const N=LI(A);return N.variants?function(P){return wm(P,N)}:N.style}return A},O=(...A)=>{const N=[],D=A.map(E),P=[];if(N.push(i),f&&b&&P.push(function(Z){var M,z;const q=(z=(M=Z.theme.components)==null?void 0:M[f])==null?void 0:z.styleOverrides;if(!q)return null;const F={};for(const K in q)F[K]=wm(Z,q[K]);return b(Z,F)}),f&&!w&&P.push(function(Z){var F,M;const ne=Z.theme,q=(M=(F=ne==null?void 0:ne.components)==null?void 0:F[f])==null?void 0:M.variants;return q?DI(Z,q):null}),S||P.push(Fs),Array.isArray(D[0])){const B=D.shift(),Z=new Array(N.length).fill(""),ne=new Array(P.length).fill("");let q;q=[...Z,...B,...ne],q.raw=[...Z,...B.raw,...ne],N.unshift(q)}const L=[...N,...D,...P],T=C(...L);return u.muiName&&(T.muiName=u.muiName),T};return C.withConfig&&(O.withConfig=C.withConfig),O}}function N5(t,e){return void 0}function M5(t){for(const e in t)return!1;return!0}function L5(t){return typeof t=="string"&&t.charCodeAt(0)>96}function D5(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const UI=BI();function af(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const a=r;if(a==="components"||a==="slots")n[a]={...t[a],...n[a]};else if(a==="componentsProps"||a==="slotProps"){const i=t[a],o=e[a];if(!o)n[a]=i||{};else if(!i)n[a]=o;else{n[a]={...o};for(const u in i)if(Object.prototype.hasOwnProperty.call(i,u)){const c=u;n[a][c]=af(i[c],o[c])}}}else n[a]===void 0&&(n[a]=t[a])}return n}function B5(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:af(e.components[n].defaultProps,r)}function zI({props:t,name:e,defaultTheme:n,themeId:r}){let a=Zf(n);return r&&(a=a[r]||a),B5({theme:a,name:e,props:t})}const Yi=typeof window<"u"?R.useLayoutEffect:R.useEffect;function U5(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function xS(t,e=0,n=1){return U5(t,e,n)}function z5(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,a)=>a<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Vs(t){if(t.type)return t;if(t.charAt(0)==="#")return Vs(z5(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Zi(9,t));let r=t.substring(e+1,t.length-1),a;if(n==="color"){if(r=r.split(" "),a=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(a))throw new Error(Zi(10,a))}else r=r.split(",");return r=r.map(i=>parseFloat(i)),{type:n,values:r,colorSpace:a}}const F5=t=>{const e=Vs(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},_d=(t,e)=>{try{return F5(t)}catch{return t}};function $g(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((a,i)=>i<3?parseInt(a,10):a):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function FI(t){t=Vs(t);const{values:e}=t,n=e[0],r=e[1]/100,a=e[2]/100,i=r*Math.min(a,1-a),o=(f,h=(f+n/30)%12)=>a-i*Math.max(Math.min(h-3,9-h,1),-1);let u="rgb";const c=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(u+="a",c.push(e[3])),$g({type:u,values:c})}function H_(t){t=Vs(t);let e=t.type==="hsl"||t.type==="hsla"?Vs(FI(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function V5(t,e){const n=H_(t),r=H_(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function fn(t,e){return t=Vs(t),e=xS(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,$g(t)}function Ip(t,e,n){try{return fn(t,e)}catch{return t}}function ES(t,e){if(t=Vs(t),e=xS(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return $g(t)}function Ut(t,e,n){try{return ES(t,e)}catch{return t}}function TS(t,e){if(t=Vs(t),e=xS(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return $g(t)}function zt(t,e,n){try{return TS(t,e)}catch{return t}}function H5(t,e=.15){return H_(t)>.5?ES(t,e):TS(t,e)}function jp(t,e,n){try{return H5(t,e)}catch{return t}}const VI=R.createContext(null);function CS(){return R.useContext(VI)}const q5=typeof Symbol=="function"&&Symbol.for,G5=q5?Symbol.for("mui.nested"):"__THEME_NESTED__";function W5(t,e){return typeof e=="function"?e(t):{...t,...e}}function Z5(t){const{children:e,theme:n}=t,r=CS(),a=R.useMemo(()=>{const i=r===null?{...n}:W5(r,n);return i!=null&&(i[G5]=r!==null),i},[n,r]);return I.jsx(VI.Provider,{value:a,children:e})}const HI=R.createContext();function K5({value:t,...e}){return I.jsx(HI.Provider,{value:t??!0,...e})}const RS=()=>R.useContext(HI)??!1,qI=R.createContext(void 0);function Y5({value:t,children:e}){return I.jsx(qI.Provider,{value:t,children:e})}function X5(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const a=e.components[n];return a.defaultProps?af(a.defaultProps,r):!a.styleOverrides&&!a.variants?af(a,r):r}function J5({props:t,name:e}){const n=R.useContext(qI);return X5({props:t,name:e,theme:{components:n}})}const ZR={};function KR(t,e,n,r=!1){return R.useMemo(()=>{const a=t&&e[t]||e;if(typeof n=="function"){const i=n(a),o=t?{...e,[t]:i}:i;return r?()=>o:o}return t?{...e,[t]:n}:{...e,...n}},[t,e,n,r])}function GI(t){const{children:e,theme:n,themeId:r}=t,a=jI(ZR),i=CS()||ZR,o=KR(r,a,n),u=KR(r,i,n,!0),c=(r?o[r]:o).direction==="rtl";return I.jsx(Z5,{theme:u,children:I.jsx(Vf.Provider,{value:o,children:I.jsx(K5,{value:c,children:I.jsx(Y5,{value:r?o[r].components:o.components,children:e})})})})}const YR={theme:void 0};function Q5(t){let e,n;return function(a){let i=e;return(i===void 0||a.theme!==n)&&(YR.theme=a.theme,i=LI(t(YR)),e=i,n=a.theme),i}}const AS="mode",OS="color-scheme",ez="data-color-scheme";function tz(t){const{defaultMode:e="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:a=AS,colorSchemeStorageKey:i=OS,attribute:o=ez,colorSchemeNode:u="document.documentElement",nonce:c}=t||{};let f="",h=o;if(o==="class"&&(h=".%s"),o==="data"&&(h="[data-%s]"),h.startsWith(".")){const g=h.substring(1);f+=`${u}.classList.remove('${g}'.replace('%s', light), '${g}'.replace('%s', dark));
      ${u}.classList.add('${g}'.replace('%s', colorScheme));`}const m=h.match(/\[([^\]]+)\]/);if(m){const[g,b]=m[1].split("=");b||(f+=`${u}.removeAttribute('${g}'.replace('%s', light));
      ${u}.removeAttribute('${g}'.replace('%s', dark));`),f+=`
      ${u}.setAttribute('${g}'.replace('%s', colorScheme), ${b?`${b}.replace('%s', colorScheme)`:'""'});`}else f+=`${u}.setAttribute('${h}', colorScheme);`;return I.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${a}') || '${e}';
  const dark = localStorage.getItem('${i}-dark') || '${r}';
  const light = localStorage.getItem('${i}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${f}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function nz(){}const rz=({key:t,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(n){if(typeof window>"u")return;if(!e)return n;let r;try{r=e.localStorage.getItem(t)}catch{}return r||n},set:n=>{if(e)try{e.localStorage.setItem(t,n)}catch{}},subscribe:n=>{if(!e)return nz;const r=a=>{const i=a.newValue;a.key===t&&n(i)};return e.addEventListener("storage",r),()=>{e.removeEventListener("storage",r)}}});function Dv(){}function XR(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function WI(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function az(t){return WI(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function iz(t){const{defaultMode:e="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:a=[],modeStorageKey:i=AS,colorSchemeStorageKey:o=OS,storageWindow:u=typeof window>"u"?void 0:window,storageManager:c=rz,noSsr:f=!1}=t,h=a.join(","),m=a.length>1,g=R.useMemo(()=>c==null?void 0:c({key:i,storageWindow:u}),[c,i,u]),b=R.useMemo(()=>c==null?void 0:c({key:`${o}-light`,storageWindow:u}),[c,o,u]),v=R.useMemo(()=>c==null?void 0:c({key:`${o}-dark`,storageWindow:u}),[c,o,u]),[w,S]=R.useState(()=>{const P=(g==null?void 0:g.get(e))||e,L=(b==null?void 0:b.get(n))||n,T=(v==null?void 0:v.get(r))||r;return{mode:P,systemMode:XR(P),lightColorScheme:L,darkColorScheme:T}}),[x,C]=R.useState(f||!m);R.useEffect(()=>{C(!0)},[]);const E=az(w),O=R.useCallback(P=>{S(L=>{if(P===L.mode)return L;const T=P??e;return g==null||g.set(T),{...L,mode:T,systemMode:XR(T)}})},[g,e]),A=R.useCallback(P=>{P?typeof P=="string"?P&&!h.includes(P)?console.error(`\`${P}\` does not exist in \`theme.colorSchemes\`.`):S(L=>{const T={...L};return WI(L,B=>{B==="light"&&(b==null||b.set(P),T.lightColorScheme=P),B==="dark"&&(v==null||v.set(P),T.darkColorScheme=P)}),T}):S(L=>{const T={...L},B=P.light===null?n:P.light,Z=P.dark===null?r:P.dark;return B&&(h.includes(B)?(T.lightColorScheme=B,b==null||b.set(B)):console.error(`\`${B}\` does not exist in \`theme.colorSchemes\`.`)),Z&&(h.includes(Z)?(T.darkColorScheme=Z,v==null||v.set(Z)):console.error(`\`${Z}\` does not exist in \`theme.colorSchemes\`.`)),T}):S(L=>(b==null||b.set(n),v==null||v.set(r),{...L,lightColorScheme:n,darkColorScheme:r}))},[h,b,v,n,r]),N=R.useCallback(P=>{w.mode==="system"&&S(L=>{const T=P!=null&&P.matches?"dark":"light";return L.systemMode===T?L:{...L,systemMode:T}})},[w.mode]),D=R.useRef(N);return D.current=N,R.useEffect(()=>{if(typeof window.matchMedia!="function"||!m)return;const P=(...T)=>D.current(...T),L=window.matchMedia("(prefers-color-scheme: dark)");return L.addListener(P),P(L),()=>{L.removeListener(P)}},[m]),R.useEffect(()=>{if(m){const P=(g==null?void 0:g.subscribe(B=>{(!B||["light","dark","system"].includes(B))&&O(B||e)}))||Dv,L=(b==null?void 0:b.subscribe(B=>{(!B||h.match(B))&&A({light:B})}))||Dv,T=(v==null?void 0:v.subscribe(B=>{(!B||h.match(B))&&A({dark:B})}))||Dv;return()=>{P(),L(),T()}}},[A,O,h,e,u,m,g,b,v]),{...w,mode:x?w.mode:void 0,systemMode:x?w.systemMode:void 0,colorScheme:x?E:void 0,setMode:O,setColorScheme:A}}const sz="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function oz(t){const{themeId:e,theme:n={},modeStorageKey:r=AS,colorSchemeStorageKey:a=OS,disableTransitionOnChange:i=!1,defaultColorScheme:o,resolveTheme:u}=t,c={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},f=R.createContext(void 0),h=()=>R.useContext(f)||c,m={},g={};function b(x){var Xn,Kt,Jt,Wt;const{children:C,theme:E,modeStorageKey:O=r,colorSchemeStorageKey:A=a,disableTransitionOnChange:N=i,storageManager:D,storageWindow:P=typeof window>"u"?void 0:window,documentNode:L=typeof document>"u"?void 0:document,colorSchemeNode:T=typeof document>"u"?void 0:document.documentElement,disableNestedContext:B=!1,disableStyleSheetGeneration:Z=!1,defaultMode:ne="system",forceThemeRerender:q=!1,noSsr:F}=x,M=R.useRef(!1),z=CS(),K=R.useContext(f),V=!!K&&!B,j=R.useMemo(()=>E||(typeof n=="function"?n():n),[E]),G=j[e],J=G||j,{colorSchemes:Q=m,components:le=g,cssVarPrefix:ce}=J,fe=Object.keys(Q).filter(Vt=>!!Q[Vt]).join(","),Ae=R.useMemo(()=>fe.split(","),[fe]),Ee=typeof o=="string"?o:o.light,Oe=typeof o=="string"?o:o.dark,ye=Q[Ee]&&Q[Oe]?ne:((Kt=(Xn=Q[J.defaultColorScheme])==null?void 0:Xn.palette)==null?void 0:Kt.mode)||((Jt=J.palette)==null?void 0:Jt.mode),{mode:Me,setMode:ze,systemMode:at,lightColorScheme:$e,darkColorScheme:ut,colorScheme:vn,setColorScheme:Je}=iz({supportedColorSchemes:Ae,defaultLightColorScheme:Ee,defaultDarkColorScheme:Oe,modeStorageKey:O,colorSchemeStorageKey:A,defaultMode:ye,storageManager:D,storageWindow:P,noSsr:F});let mt=Me,gt=vn;V&&(mt=K.mode,gt=K.colorScheme);let Ft=gt||J.defaultColorScheme;J.vars&&!q&&(Ft=J.defaultColorScheme);const ct=R.useMemo(()=>{var En;const Vt=((En=J.generateThemeVars)==null?void 0:En.call(J))||J.vars,ke={...J,components:le,colorSchemes:Q,cssVarPrefix:ce,vars:Vt};if(typeof ke.generateSpacing=="function"&&(ke.spacing=ke.generateSpacing()),Ft){const Qt=Q[Ft];Qt&&typeof Qt=="object"&&Object.keys(Qt).forEach(on=>{Qt[on]&&typeof Qt[on]=="object"?ke[on]={...ke[on],...Qt[on]}:ke[on]=Qt[on]})}return u?u(ke):ke},[J,Ft,le,Q,ce]),we=J.colorSchemeSelector;Yi(()=>{if(gt&&T&&we&&we!=="media"){const Vt=we;let ke=we;if(Vt==="class"&&(ke=".%s"),Vt==="data"&&(ke="[data-%s]"),Vt!=null&&Vt.startsWith("data-")&&!Vt.includes("%s")&&(ke=`[${Vt}="%s"]`),ke.startsWith("."))T.classList.remove(...Ae.map(En=>ke.substring(1).replace("%s",En))),T.classList.add(ke.substring(1).replace("%s",gt));else{const En=ke.replace("%s",gt).match(/\[([^\]]+)\]/);if(En){const[Qt,on]=En[1].split("=");on||Ae.forEach(_e=>{T.removeAttribute(Qt.replace(gt,_e))}),T.setAttribute(Qt,on?on.replace(/"|'/g,""):"")}else T.setAttribute(ke,gt)}}},[gt,we,T,Ae]),R.useEffect(()=>{let Vt;if(N&&M.current&&L){const ke=L.createElement("style");ke.appendChild(L.createTextNode(sz)),L.head.appendChild(ke),window.getComputedStyle(L.body),Vt=setTimeout(()=>{L.head.removeChild(ke)},1)}return()=>{clearTimeout(Vt)}},[gt,N,L]),R.useEffect(()=>(M.current=!0,()=>{M.current=!1}),[]);const Yn=R.useMemo(()=>({allColorSchemes:Ae,colorScheme:gt,darkColorScheme:ut,lightColorScheme:$e,mode:mt,setColorScheme:Je,setMode:ze,systemMode:at}),[Ae,gt,ut,$e,mt,Je,ze,at,ct.colorSchemeSelector]);let Gt=!0;(Z||J.cssVariables===!1||V&&(z==null?void 0:z.cssVarPrefix)===ce)&&(Gt=!1);const Ar=I.jsxs(R.Fragment,{children:[I.jsx(GI,{themeId:G?e:void 0,theme:ct,children:C}),Gt&&I.jsx(AI,{styles:((Wt=ct.generateStyleSheets)==null?void 0:Wt.call(ct))||[]})]});return V?Ar:I.jsx(f.Provider,{value:Yn,children:Ar})}const v=typeof o=="string"?o:o.light,w=typeof o=="string"?o:o.dark;return{CssVarsProvider:b,useColorScheme:h,getInitColorSchemeScript:x=>tz({colorSchemeStorageKey:a,defaultLightColorScheme:v,defaultDarkColorScheme:w,modeStorageKey:r,...x})}}function lz(t=""){function e(...r){if(!r.length)return"";const a=r[0];return typeof a=="string"&&!a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${a}${e(...r.slice(1))})`:`, ${a}`}return(r,...a)=>`var(--${t?`${t}-`:""}${r}${e(...a)})`}const JR=(t,e,n,r=[])=>{let a=t;e.forEach((i,o)=>{o===e.length-1?Array.isArray(a)?a[Number(i)]=n:a&&typeof a=="object"&&(a[i]=n):a&&typeof a=="object"&&(a[i]||(a[i]=r.includes(i)?[]:{}),a=a[i])})},uz=(t,e,n)=>{function r(a,i=[],o=[]){Object.entries(a).forEach(([u,c])=>{(!n||n&&!n([...i,u]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?r(c,[...i,u],Array.isArray(c)?[...o,u]:o):e([...i,u],c,o))})}r(t)},cz=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Bv(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},a={},i={},o={};return uz(t,(u,c,f)=>{if((typeof c=="string"||typeof c=="number")&&(!r||!r(u,c))){const h=`--${n?`${n}-`:""}${u.join("-")}`,m=cz(u,c);Object.assign(a,{[h]:m}),JR(i,u,`var(${h})`,f),JR(o,u,`var(${h}, ${m})`,f)}},u=>u[0]==="vars"),{css:a,vars:i,varsWithDefaults:o}}function dz(t,e={}){const{getSelector:n=S,disableCssColorScheme:r,colorSchemeSelector:a}=e,{colorSchemes:i={},components:o,defaultColorScheme:u="light",...c}=t,{vars:f,css:h,varsWithDefaults:m}=Bv(c,e);let g=m;const b={},{[u]:v,...w}=i;if(Object.entries(w||{}).forEach(([E,O])=>{const{vars:A,css:N,varsWithDefaults:D}=Bv(O,e);g=ir(g,D),b[E]={css:N,vars:A}}),v){const{css:E,vars:O,varsWithDefaults:A}=Bv(v,e);g=ir(g,A),b[u]={css:E,vars:O}}function S(E,O){var N,D;let A=a;if(a==="class"&&(A=".%s"),a==="data"&&(A="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(A=`[${a}="%s"]`),E){if(A==="media")return t.defaultColorScheme===E?":root":{[`@media (prefers-color-scheme: ${((D=(N=i[E])==null?void 0:N.palette)==null?void 0:D.mode)||E})`]:{":root":O}};if(A)return t.defaultColorScheme===E?`:root, ${A.replace("%s",String(E))}`:A.replace("%s",String(E))}return":root"}return{vars:g,generateThemeVars:()=>{let E={...f};return Object.entries(b).forEach(([,{vars:O}])=>{E=ir(E,O)}),E},generateStyleSheets:()=>{var P,L;const E=[],O=t.defaultColorScheme||"light";function A(T,B){Object.keys(B).length&&E.push(typeof T=="string"?{[T]:{...B}}:T)}A(n(void 0,{...h}),h);const{[O]:N,...D}=b;if(N){const{css:T}=N,B=(L=(P=i[O])==null?void 0:P.palette)==null?void 0:L.mode,Z=!r&&B?{colorScheme:B,...T}:{...T};A(n(O,{...Z}),Z)}return Object.entries(D).forEach(([T,{css:B}])=>{var q,F;const Z=(F=(q=i[T])==null?void 0:q.palette)==null?void 0:F.mode,ne=!r&&Z?{colorScheme:Z,...B}:{...B};A(n(T,{...ne}),ne)}),E}}}function fz(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function nt(t,e,n=void 0){const r={};for(const a in t){const i=t[a];let o="",u=!0;for(let c=0;c<i.length;c+=1){const f=i[c];f&&(o+=(u===!0?"":" ")+e(f),u=!1,n&&n[f]&&(o+=" "+n[f]))}r[a]=o}return r}const hz=Wf(),pz=UI("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${de(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),mz=t=>zI({props:t,name:"MuiContainer",defaultTheme:hz}),gz=(t,e)=>{const n=c=>et(e,c),{classes:r,fixed:a,disableGutters:i,maxWidth:o}=t,u={root:["root",o&&`maxWidth${de(String(o))}`,a&&"fixed",i&&"disableGutters"]};return nt(u,n,r)};function yz(t={}){const{createStyledComponent:e=pz,useThemeProps:n=mz,componentName:r="MuiContainer"}=t,a=e(({theme:o,ownerState:u})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!u.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}}),({theme:o,ownerState:u})=>u.fixed&&Object.keys(o.breakpoints.values).reduce((c,f)=>{const h=f,m=o.breakpoints.values[h];return m!==0&&(c[o.breakpoints.up(h)]={maxWidth:`${m}${o.breakpoints.unit}`}),c},{}),({theme:o,ownerState:u})=>({...u.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},...u.maxWidth&&u.maxWidth!=="xs"&&{[o.breakpoints.up(u.maxWidth)]:{maxWidth:`${o.breakpoints.values[u.maxWidth]}${o.breakpoints.unit}`}}}));return R.forwardRef(function(u,c){const f=n(u),{className:h,component:m="div",disableGutters:g=!1,fixed:b=!1,maxWidth:v="lg",classes:w,...S}=f,x={...f,component:m,disableGutters:g,fixed:b,maxWidth:v},C=gz(x,r);return I.jsx(a,{as:m,ownerState:x,className:Se(C.root,h),ref:c,...S})})}function Md(t,e){var n,r,a;return R.isValidElement(t)&&e.indexOf(t.type.muiName??((a=(r=(n=t.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:a.muiName))!==-1}const bz=(t,e)=>t.filter(n=>e.includes(n)),Fu=(t,e,n)=>{const r=t.keys[0];Array.isArray(e)?e.forEach((a,i)=>{n((o,u)=>{i<=t.keys.length-1&&(i===0?Object.assign(o,u):o[t.up(t.keys[i])]=u)},a)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:bz(t.keys,Object.keys(e))).forEach(i=>{if(t.keys.includes(i)){const o=e[i];o!==void 0&&n((u,c)=>{r===i?Object.assign(u,c):u[t.up(i)]=c},o)}}):(typeof e=="number"||typeof e=="string")&&n((a,i)=>{Object.assign(a,i)},e)};function Bm(t){return`--Grid-${t}Spacing`}function Ig(t){return`--Grid-parent-${t}Spacing`}const QR="--Grid-columns",vu="--Grid-parent-columns",vz=({theme:t,ownerState:e})=>{const n={};return Fu(t.breakpoints,e.size,(r,a)=>{let i={};a==="grow"&&(i={flexBasis:0,flexGrow:1,maxWidth:"100%"}),a==="auto"&&(i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof a=="number"&&(i={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${a} / var(${vu}) - (var(${vu}) - ${a}) * (var(${Ig("column")}) / var(${vu})))`}),r(n,i)}),n},_z=({theme:t,ownerState:e})=>{const n={};return Fu(t.breakpoints,e.offset,(r,a)=>{let i={};a==="auto"&&(i={marginLeft:"auto"}),typeof a=="number"&&(i={marginLeft:a===0?"0px":`calc(100% * ${a} / var(${vu}) + var(${Ig("column")}) * ${a} / var(${vu}))`}),r(n,i)}),n},wz=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={[QR]:12};return Fu(t.breakpoints,e.columns,(r,a)=>{const i=a??12;r(n,{[QR]:i,"> *":{[vu]:i}})}),n},Sz=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return Fu(t.breakpoints,e.rowSpacing,(r,a)=>{var o;const i=typeof a=="string"?a:(o=t.spacing)==null?void 0:o.call(t,a);r(n,{[Bm("row")]:i,"> *":{[Ig("row")]:i}})}),n},xz=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return Fu(t.breakpoints,e.columnSpacing,(r,a)=>{var o;const i=typeof a=="string"?a:(o=t.spacing)==null?void 0:o.call(t,a);r(n,{[Bm("column")]:i,"> *":{[Ig("column")]:i}})}),n},Ez=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return Fu(t.breakpoints,e.direction,(r,a)=>{r(n,{flexDirection:a})}),n},Tz=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${Bm("row")}) var(${Bm("column")})`}}),Cz=t=>{const e=[];return Object.entries(t).forEach(([n,r])=>{r!==!1&&r!==void 0&&e.push(`grid-${n}-${String(r)}`)}),e},Rz=(t,e="xs")=>{function n(r){return r===void 0?!1:typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number"&&r>0}if(n(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const r=[];return Object.entries(t).forEach(([a,i])=>{n(i)&&r.push(`spacing-${a}-${String(i)}`)}),r}return[]},Az=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,n])=>`direction-${e}-${n}`):[`direction-xs-${String(t)}`];function Oz(t,e){t.item!==void 0&&delete t.item,t.zeroMinWidth!==void 0&&delete t.zeroMinWidth,e.keys.forEach(n=>{t[n]!==void 0&&delete t[n]})}const kz=Wf(),Pz=UI("div",{name:"MuiGrid",slot:"Root"});function $z(t){return zI({props:t,name:"MuiGrid",defaultTheme:kz})}function Iz(t={}){const{createStyledComponent:e=Pz,useThemeProps:n=$z,useTheme:r=Zf,componentName:a="MuiGrid"}=t,i=(f,h)=>{const{container:m,direction:g,spacing:b,wrap:v,size:w}=f,S={root:["root",m&&"container",v!=="wrap"&&`wrap-xs-${String(v)}`,...Az(g),...Cz(w),...m?Rz(b,h.breakpoints.keys[0]):[]]};return nt(S,x=>et(a,x),{})};function o(f,h,m=()=>!0){const g={};return f===null||(Array.isArray(f)?f.forEach((b,v)=>{b!==null&&m(b)&&h.keys[v]&&(g[h.keys[v]]=b)}):typeof f=="object"?Object.keys(f).forEach(b=>{const v=f[b];v!=null&&m(v)&&(g[b]=v)}):g[h.keys[0]]=f),g}const u=e(wz,xz,Sz,vz,Ez,Tz,_z),c=R.forwardRef(function(h,m){const g=r(),b=n(h),v=SS(b);Oz(v,g.breakpoints);const{className:w,children:S,columns:x=12,container:C=!1,component:E="div",direction:O="row",wrap:A="wrap",size:N={},offset:D={},spacing:P=0,rowSpacing:L=P,columnSpacing:T=P,unstable_level:B=0,...Z}=v,ne=o(N,g.breakpoints,G=>G!==!1),q=o(D,g.breakpoints),F=h.columns??(B?void 0:x),M=h.spacing??(B?void 0:P),z=h.rowSpacing??h.spacing??(B?void 0:L),K=h.columnSpacing??h.spacing??(B?void 0:T),V={...v,level:B,columns:F,container:C,direction:O,wrap:A,spacing:M,rowSpacing:z,columnSpacing:K,size:ne,offset:q},j=i(V,g);return I.jsx(u,{ref:m,as:E,ownerState:V,className:Se(j.root,w),...Z,children:R.Children.map(S,G=>{var J;return R.isValidElement(G)&&Md(G,["Grid"])&&C&&G.props.container?R.cloneElement(G,{unstable_level:((J=G.props)==null?void 0:J.unstable_level)??B+1}):G})})});return c.muiName="Grid",c}const sf={black:"#000",white:"#fff"},jz={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ml={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Ll={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},od={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Dl={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Bl={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ul={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function ZI(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:sf.white,default:sf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Nz=ZI();function KI(){return{text:{primary:sf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:sf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const eA=KI();function tA(t,e,n,r){const a=r.light||r,i=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=TS(t.main,a):e==="dark"&&(t.dark=ES(t.main,i)))}function Mz(t="light"){return t==="dark"?{main:Dl[200],light:Dl[50],dark:Dl[400]}:{main:Dl[700],light:Dl[400],dark:Dl[800]}}function Lz(t="light"){return t==="dark"?{main:Ml[200],light:Ml[50],dark:Ml[400]}:{main:Ml[500],light:Ml[300],dark:Ml[700]}}function Dz(t="light"){return t==="dark"?{main:Ll[500],light:Ll[300],dark:Ll[700]}:{main:Ll[700],light:Ll[400],dark:Ll[800]}}function Bz(t="light"){return t==="dark"?{main:Bl[400],light:Bl[300],dark:Bl[700]}:{main:Bl[700],light:Bl[500],dark:Bl[900]}}function Uz(t="light"){return t==="dark"?{main:Ul[400],light:Ul[300],dark:Ul[700]}:{main:Ul[800],light:Ul[500],dark:Ul[900]}}function zz(t="light"){return t==="dark"?{main:od[400],light:od[300],dark:od[700]}:{main:"#ed6c02",light:od[500],dark:od[900]}}function kS(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...a}=t,i=t.primary||Mz(e),o=t.secondary||Lz(e),u=t.error||Dz(e),c=t.info||Bz(e),f=t.success||Uz(e),h=t.warning||zz(e);function m(w){return V5(w,eA.text.primary)>=n?eA.text.primary:Nz.text.primary}const g=({color:w,name:S,mainShade:x=500,lightShade:C=300,darkShade:E=700})=>{if(w={...w},!w.main&&w[x]&&(w.main=w[x]),!w.hasOwnProperty("main"))throw new Error(Zi(11,S?` (${S})`:"",x));if(typeof w.main!="string")throw new Error(Zi(12,S?` (${S})`:"",JSON.stringify(w.main)));return tA(w,"light",C,r),tA(w,"dark",E,r),w.contrastText||(w.contrastText=m(w.main)),w};let b;return e==="light"?b=ZI():e==="dark"&&(b=KI()),ir({common:{...sf},mode:e,primary:g({color:i,name:"primary"}),secondary:g({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:u,name:"error"}),warning:g({color:h,name:"warning"}),info:g({color:c,name:"info"}),success:g({color:f,name:"success"}),grey:jz,contrastThreshold:n,getContrastText:m,augmentColor:g,tonalOffset:r,...b},a)}function Fz(t){const e={};return Object.entries(t).forEach(r=>{const[a,i]=r;typeof i=="object"&&(e[a]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),e}function Vz(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function Hz(t){return Math.round(t*1e5)/1e5}const nA={textTransform:"uppercase"},rA='"Roboto", "Helvetica", "Arial", sans-serif';function YI(t,e){const{fontFamily:n=rA,fontSize:r=14,fontWeightLight:a=300,fontWeightRegular:i=400,fontWeightMedium:o=500,fontWeightBold:u=700,htmlFontSize:c=16,allVariants:f,pxToRem:h,...m}=typeof e=="function"?e(t):e,g=r/14,b=h||(S=>`${S/c*g}rem`),v=(S,x,C,E,O)=>({fontFamily:n,fontWeight:S,fontSize:b(x),lineHeight:C,...n===rA?{letterSpacing:`${Hz(E/x)}em`}:{},...O,...f}),w={h1:v(a,96,1.167,-1.5),h2:v(a,60,1.2,-.5),h3:v(i,48,1.167,0),h4:v(i,34,1.235,.25),h5:v(i,24,1.334,0),h6:v(o,20,1.6,.15),subtitle1:v(i,16,1.75,.15),subtitle2:v(o,14,1.57,.1),body1:v(i,16,1.5,.15),body2:v(i,14,1.43,.15),button:v(o,14,1.75,.4,nA),caption:v(i,12,1.66,.4),overline:v(i,12,2.66,1,nA),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ir({htmlFontSize:c,pxToRem:b,fontFamily:n,fontSize:r,fontWeightLight:a,fontWeightRegular:i,fontWeightMedium:o,fontWeightBold:u,...w},m,{clone:!1})}const qz=.2,Gz=.14,Wz=.12;function Xt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${qz})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Gz})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Wz})`].join(",")}const Zz=["none",Xt(0,2,1,-1,0,1,1,0,0,1,3,0),Xt(0,3,1,-2,0,2,2,0,0,1,5,0),Xt(0,3,3,-2,0,3,4,0,0,1,8,0),Xt(0,2,4,-1,0,4,5,0,0,1,10,0),Xt(0,3,5,-1,0,5,8,0,0,1,14,0),Xt(0,3,5,-1,0,6,10,0,0,1,18,0),Xt(0,4,5,-2,0,7,10,1,0,2,16,1),Xt(0,5,5,-3,0,8,10,1,0,3,14,2),Xt(0,5,6,-3,0,9,12,1,0,3,16,2),Xt(0,6,6,-3,0,10,14,1,0,4,18,3),Xt(0,6,7,-4,0,11,15,1,0,4,20,3),Xt(0,7,8,-4,0,12,17,2,0,5,22,4),Xt(0,7,8,-4,0,13,19,2,0,5,24,4),Xt(0,7,9,-4,0,14,21,2,0,5,26,4),Xt(0,8,9,-5,0,15,22,2,0,6,28,5),Xt(0,8,10,-5,0,16,24,2,0,6,30,5),Xt(0,8,11,-5,0,17,26,2,0,6,32,5),Xt(0,9,11,-5,0,18,28,2,0,7,34,6),Xt(0,9,12,-6,0,19,29,2,0,7,36,6),Xt(0,10,13,-6,0,20,31,3,0,8,38,7),Xt(0,10,13,-6,0,21,33,3,0,8,40,7),Xt(0,10,14,-6,0,22,35,3,0,8,42,7),Xt(0,11,14,-7,0,23,36,3,0,9,44,8),Xt(0,11,15,-7,0,24,38,3,0,9,46,8)],Kz={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Yz={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function aA(t){return`${Math.round(t)}ms`}function Xz(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Jz(t){const e={...Kz,...t.easing},n={...Yz,...t.duration};return{getAutoHeightDuration:Xz,create:(a=["all"],i={})=>{const{duration:o=n.standard,easing:u=e.easeInOut,delay:c=0,...f}=i;return(Array.isArray(a)?a:[a]).map(h=>`${h} ${typeof o=="string"?o:aA(o)} ${u} ${typeof c=="string"?c:aA(c)}`).join(",")},...t,easing:e,duration:n}}const Qz={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function eF(t){return Qa(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function XI(t={}){const e={...t};function n(r){const a=Object.entries(r);for(let i=0;i<a.length;i++){const[o,u]=a[i];!eF(u)||o.startsWith("unstable_")?delete r[o]:Qa(u)&&(r[o]={...u},n(r[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function q_(t={},...e){const{breakpoints:n,mixins:r={},spacing:a,palette:i={},transitions:o={},typography:u={},shape:c,...f}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Zi(20));const h=kS(i),m=Wf(t);let g=ir(m,{mixins:Vz(m.breakpoints,r),palette:h,shadows:Zz.slice(),typography:YI(h,u),transitions:Jz(o),zIndex:{...Qz}});return g=ir(g,f),g=e.reduce((b,v)=>ir(b,v),g),g.unstable_sxConfig={...Gf,...f==null?void 0:f.unstable_sxConfig},g.unstable_sx=function(v){return Fs({sx:v,theme:this})},g.toRuntimeSource=XI,g}function G_(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const tF=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=G_(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function JI(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function QI(t){return t==="dark"?tF:[]}function nF(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...a}=t,i=kS(e);return{palette:i,opacity:{...JI(i.mode),...n},overlays:r||QI(i.mode),...a}}function rF(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const aF=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],iF=t=>(e,n)=>{const r=t.rootSelector||":root",a=t.colorSchemeSelector;let i=a;if(a==="class"&&(i=".%s"),a==="data"&&(i="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(i=`[${a}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const o={};return aF(t.cssVarPrefix).forEach(u=>{o[u]=n[u],delete n[u]}),i==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:i?{[i.replace("%s",e)]:o,[`${r}, ${i.replace("%s",e)}`]:n}:{[r]:{...n,...o}}}if(i&&i!=="media")return`${r}, ${i.replace("%s",String(e))}`}else if(e){if(i==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(i)return i.replace("%s",String(e))}return r};function sF(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function ae(t,e,n){!t[e]&&n&&(t[e]=n)}function wd(t){return typeof t!="string"||!t.startsWith("hsl")?t:FI(t)}function ji(t,e){`${e}Channel`in t||(t[`${e}Channel`]=_d(wd(t[e])))}function oF(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const qa=t=>{try{return t()}catch{}},lF=(t="mui")=>lz(t);function Uv(t,e,n,r){if(!e)return;e=e===!0?{}:e;const a=r==="dark"?"dark":"light";if(!n){t[r]=nF({...e,palette:{mode:a,...e==null?void 0:e.palette}});return}const{palette:i,...o}=q_({...n,palette:{mode:a,...e==null?void 0:e.palette}});return t[r]={...e,palette:i,opacity:{...JI(a),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||QI(a)},o}function uF(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:a=!1,cssVarPrefix:i="mui",shouldSkipGeneratingVar:o=rF,colorSchemeSelector:u=n.light&&n.dark?"media":void 0,rootSelector:c=":root",...f}=t,h=Object.keys(n)[0],m=r||(n.light&&h!=="light"?"light":h),g=lF(i),{[m]:b,light:v,dark:w,...S}=n,x={...S};let C=b;if((m==="dark"&&!("dark"in n)||m==="light"&&!("light"in n))&&(C=!0),!C)throw new Error(Zi(21,m));const E=Uv(x,C,f,m);v&&!x.light&&Uv(x,v,void 0,"light"),w&&!x.dark&&Uv(x,w,void 0,"dark");let O={defaultColorScheme:m,...E,cssVarPrefix:i,colorSchemeSelector:u,rootSelector:c,getCssVar:g,colorSchemes:x,font:{...Fz(E.typography),...E.font},spacing:oF(f.spacing)};Object.keys(O.colorSchemes).forEach(L=>{const T=O.colorSchemes[L].palette,B=Z=>{const ne=Z.split("-"),q=ne[1],F=ne[2];return g(Z,T[q][F])};if(T.mode==="light"&&(ae(T.common,"background","#fff"),ae(T.common,"onBackground","#000")),T.mode==="dark"&&(ae(T.common,"background","#000"),ae(T.common,"onBackground","#fff")),sF(T,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),T.mode==="light"){ae(T.Alert,"errorColor",Ut(T.error.light,.6)),ae(T.Alert,"infoColor",Ut(T.info.light,.6)),ae(T.Alert,"successColor",Ut(T.success.light,.6)),ae(T.Alert,"warningColor",Ut(T.warning.light,.6)),ae(T.Alert,"errorFilledBg",B("palette-error-main")),ae(T.Alert,"infoFilledBg",B("palette-info-main")),ae(T.Alert,"successFilledBg",B("palette-success-main")),ae(T.Alert,"warningFilledBg",B("palette-warning-main")),ae(T.Alert,"errorFilledColor",qa(()=>T.getContrastText(T.error.main))),ae(T.Alert,"infoFilledColor",qa(()=>T.getContrastText(T.info.main))),ae(T.Alert,"successFilledColor",qa(()=>T.getContrastText(T.success.main))),ae(T.Alert,"warningFilledColor",qa(()=>T.getContrastText(T.warning.main))),ae(T.Alert,"errorStandardBg",zt(T.error.light,.9)),ae(T.Alert,"infoStandardBg",zt(T.info.light,.9)),ae(T.Alert,"successStandardBg",zt(T.success.light,.9)),ae(T.Alert,"warningStandardBg",zt(T.warning.light,.9)),ae(T.Alert,"errorIconColor",B("palette-error-main")),ae(T.Alert,"infoIconColor",B("palette-info-main")),ae(T.Alert,"successIconColor",B("palette-success-main")),ae(T.Alert,"warningIconColor",B("palette-warning-main")),ae(T.AppBar,"defaultBg",B("palette-grey-100")),ae(T.Avatar,"defaultBg",B("palette-grey-400")),ae(T.Button,"inheritContainedBg",B("palette-grey-300")),ae(T.Button,"inheritContainedHoverBg",B("palette-grey-A100")),ae(T.Chip,"defaultBorder",B("palette-grey-400")),ae(T.Chip,"defaultAvatarColor",B("palette-grey-700")),ae(T.Chip,"defaultIconColor",B("palette-grey-700")),ae(T.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ae(T.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ae(T.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ae(T.LinearProgress,"primaryBg",zt(T.primary.main,.62)),ae(T.LinearProgress,"secondaryBg",zt(T.secondary.main,.62)),ae(T.LinearProgress,"errorBg",zt(T.error.main,.62)),ae(T.LinearProgress,"infoBg",zt(T.info.main,.62)),ae(T.LinearProgress,"successBg",zt(T.success.main,.62)),ae(T.LinearProgress,"warningBg",zt(T.warning.main,.62)),ae(T.Skeleton,"bg",`rgba(${B("palette-text-primaryChannel")} / 0.11)`),ae(T.Slider,"primaryTrack",zt(T.primary.main,.62)),ae(T.Slider,"secondaryTrack",zt(T.secondary.main,.62)),ae(T.Slider,"errorTrack",zt(T.error.main,.62)),ae(T.Slider,"infoTrack",zt(T.info.main,.62)),ae(T.Slider,"successTrack",zt(T.success.main,.62)),ae(T.Slider,"warningTrack",zt(T.warning.main,.62));const Z=jp(T.background.default,.8);ae(T.SnackbarContent,"bg",Z),ae(T.SnackbarContent,"color",qa(()=>T.getContrastText(Z))),ae(T.SpeedDialAction,"fabHoverBg",jp(T.background.paper,.15)),ae(T.StepConnector,"border",B("palette-grey-400")),ae(T.StepContent,"border",B("palette-grey-400")),ae(T.Switch,"defaultColor",B("palette-common-white")),ae(T.Switch,"defaultDisabledColor",B("palette-grey-100")),ae(T.Switch,"primaryDisabledColor",zt(T.primary.main,.62)),ae(T.Switch,"secondaryDisabledColor",zt(T.secondary.main,.62)),ae(T.Switch,"errorDisabledColor",zt(T.error.main,.62)),ae(T.Switch,"infoDisabledColor",zt(T.info.main,.62)),ae(T.Switch,"successDisabledColor",zt(T.success.main,.62)),ae(T.Switch,"warningDisabledColor",zt(T.warning.main,.62)),ae(T.TableCell,"border",zt(Ip(T.divider,1),.88)),ae(T.Tooltip,"bg",Ip(T.grey[700],.92))}if(T.mode==="dark"){ae(T.Alert,"errorColor",zt(T.error.light,.6)),ae(T.Alert,"infoColor",zt(T.info.light,.6)),ae(T.Alert,"successColor",zt(T.success.light,.6)),ae(T.Alert,"warningColor",zt(T.warning.light,.6)),ae(T.Alert,"errorFilledBg",B("palette-error-dark")),ae(T.Alert,"infoFilledBg",B("palette-info-dark")),ae(T.Alert,"successFilledBg",B("palette-success-dark")),ae(T.Alert,"warningFilledBg",B("palette-warning-dark")),ae(T.Alert,"errorFilledColor",qa(()=>T.getContrastText(T.error.dark))),ae(T.Alert,"infoFilledColor",qa(()=>T.getContrastText(T.info.dark))),ae(T.Alert,"successFilledColor",qa(()=>T.getContrastText(T.success.dark))),ae(T.Alert,"warningFilledColor",qa(()=>T.getContrastText(T.warning.dark))),ae(T.Alert,"errorStandardBg",Ut(T.error.light,.9)),ae(T.Alert,"infoStandardBg",Ut(T.info.light,.9)),ae(T.Alert,"successStandardBg",Ut(T.success.light,.9)),ae(T.Alert,"warningStandardBg",Ut(T.warning.light,.9)),ae(T.Alert,"errorIconColor",B("palette-error-main")),ae(T.Alert,"infoIconColor",B("palette-info-main")),ae(T.Alert,"successIconColor",B("palette-success-main")),ae(T.Alert,"warningIconColor",B("palette-warning-main")),ae(T.AppBar,"defaultBg",B("palette-grey-900")),ae(T.AppBar,"darkBg",B("palette-background-paper")),ae(T.AppBar,"darkColor",B("palette-text-primary")),ae(T.Avatar,"defaultBg",B("palette-grey-600")),ae(T.Button,"inheritContainedBg",B("palette-grey-800")),ae(T.Button,"inheritContainedHoverBg",B("palette-grey-700")),ae(T.Chip,"defaultBorder",B("palette-grey-700")),ae(T.Chip,"defaultAvatarColor",B("palette-grey-300")),ae(T.Chip,"defaultIconColor",B("palette-grey-300")),ae(T.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ae(T.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ae(T.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ae(T.LinearProgress,"primaryBg",Ut(T.primary.main,.5)),ae(T.LinearProgress,"secondaryBg",Ut(T.secondary.main,.5)),ae(T.LinearProgress,"errorBg",Ut(T.error.main,.5)),ae(T.LinearProgress,"infoBg",Ut(T.info.main,.5)),ae(T.LinearProgress,"successBg",Ut(T.success.main,.5)),ae(T.LinearProgress,"warningBg",Ut(T.warning.main,.5)),ae(T.Skeleton,"bg",`rgba(${B("palette-text-primaryChannel")} / 0.13)`),ae(T.Slider,"primaryTrack",Ut(T.primary.main,.5)),ae(T.Slider,"secondaryTrack",Ut(T.secondary.main,.5)),ae(T.Slider,"errorTrack",Ut(T.error.main,.5)),ae(T.Slider,"infoTrack",Ut(T.info.main,.5)),ae(T.Slider,"successTrack",Ut(T.success.main,.5)),ae(T.Slider,"warningTrack",Ut(T.warning.main,.5));const Z=jp(T.background.default,.98);ae(T.SnackbarContent,"bg",Z),ae(T.SnackbarContent,"color",qa(()=>T.getContrastText(Z))),ae(T.SpeedDialAction,"fabHoverBg",jp(T.background.paper,.15)),ae(T.StepConnector,"border",B("palette-grey-600")),ae(T.StepContent,"border",B("palette-grey-600")),ae(T.Switch,"defaultColor",B("palette-grey-300")),ae(T.Switch,"defaultDisabledColor",B("palette-grey-600")),ae(T.Switch,"primaryDisabledColor",Ut(T.primary.main,.55)),ae(T.Switch,"secondaryDisabledColor",Ut(T.secondary.main,.55)),ae(T.Switch,"errorDisabledColor",Ut(T.error.main,.55)),ae(T.Switch,"infoDisabledColor",Ut(T.info.main,.55)),ae(T.Switch,"successDisabledColor",Ut(T.success.main,.55)),ae(T.Switch,"warningDisabledColor",Ut(T.warning.main,.55)),ae(T.TableCell,"border",Ut(Ip(T.divider,1),.68)),ae(T.Tooltip,"bg",Ip(T.grey[700],.92))}ji(T.background,"default"),ji(T.background,"paper"),ji(T.common,"background"),ji(T.common,"onBackground"),ji(T,"divider"),Object.keys(T).forEach(Z=>{const ne=T[Z];Z!=="tonalOffset"&&ne&&typeof ne=="object"&&(ne.main&&ae(T[Z],"mainChannel",_d(wd(ne.main))),ne.light&&ae(T[Z],"lightChannel",_d(wd(ne.light))),ne.dark&&ae(T[Z],"darkChannel",_d(wd(ne.dark))),ne.contrastText&&ae(T[Z],"contrastTextChannel",_d(wd(ne.contrastText))),Z==="text"&&(ji(T[Z],"primary"),ji(T[Z],"secondary")),Z==="action"&&(ne.active&&ji(T[Z],"active"),ne.selected&&ji(T[Z],"selected")))})}),O=e.reduce((L,T)=>ir(L,T),O);const A={prefix:i,disableCssColorScheme:a,shouldSkipGeneratingVar:o,getSelector:iF(O)},{vars:N,generateThemeVars:D,generateStyleSheets:P}=dz(O,A);return O.vars=N,Object.entries(O.colorSchemes[O.defaultColorScheme]).forEach(([L,T])=>{O[L]=T}),O.generateThemeVars=D,O.generateStyleSheets=P,O.generateSpacing=function(){return II(f.spacing,_S(this))},O.getColorSchemeSelector=fz(u),O.spacing=O.generateSpacing(),O.shouldSkipGeneratingVar=o,O.unstable_sxConfig={...Gf,...f==null?void 0:f.unstable_sxConfig},O.unstable_sx=function(T){return Fs({sx:T,theme:this})},O.toRuntimeSource=XI,O}function iA(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:kS({...n===!0?{}:n.palette,mode:e})})}function jg(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:a=n?void 0:{light:!0},defaultColorScheme:i=n==null?void 0:n.mode,...o}=t,u=i||"light",c=a==null?void 0:a[u],f={...a,...n?{[u]:{...typeof c!="boolean"&&c,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return q_(t,...e);let h=n;"palette"in t||f[u]&&(f[u]!==!0?h=f[u].palette:u==="dark"&&(h={mode:"dark"}));const m=q_({...t,palette:h},...e);return m.defaultColorScheme=u,m.colorSchemes=f,m.palette.mode==="light"&&(m.colorSchemes.light={...f.light!==!0&&f.light,palette:m.palette},iA(m,"dark",f.dark)),m.palette.mode==="dark"&&(m.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:m.palette},iA(m,"light",f.light)),m}return!n&&!("light"in f)&&u==="light"&&(f.light=!0),uF({...o,colorSchemes:f,defaultColorScheme:u,...typeof r!="boolean"&&r},...e)}const PS=jg();function Kf(){const t=Zf(PS);return t[ri]||t}function ej(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Ma=t=>ej(t)&&t!=="classes",he=BI({themeId:ri,defaultTheme:PS,rootShouldForwardProp:Ma});function cF({theme:t,...e}){const n=ri in t?t[ri]:void 0;return I.jsx(GI,{...e,themeId:n?ri:void 0,theme:n||t})}const Np={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:dF}=oz({themeId:ri,theme:()=>jg({cssVariables:!0}),colorSchemeStorageKey:Np.colorSchemeStorageKey,modeStorageKey:Np.modeStorageKey,defaultColorScheme:{light:Np.defaultLightColorScheme,dark:Np.defaultDarkColorScheme},resolveTheme:t=>{const e={...t,typography:YI(t.palette,t.typography)};return e.unstable_sx=function(r){return Fs({sx:r,theme:this})},e}}),fF=dF;function hF({theme:t,...e}){const n=R.useMemo(()=>{if(typeof t=="function")return t;const r=ri in t?t[ri]:t;return"colorSchemes"in r?null:"vars"in r?t:{...t,vars:null}},[t]);return n?I.jsx(cF,{theme:n,...e}):I.jsx(fF,{theme:t,...e})}function pF(t){return I.jsx(R5,{...t,defaultTheme:PS,themeId:ri})}function $S(t){return function(n){return I.jsx(pF,{styles:typeof t=="function"?r=>t({theme:r,...n}):t})}}function mF(){return SS}function rt(t){return J5(t)}const W_=typeof $S({})=="function",gF=(t,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!t.vars&&{colorScheme:t.palette.mode}}),yF=t=>({color:(t.vars||t).palette.text.primary,...t.typography.body1,backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),tj=(t,e=!1)=>{var i,o;const n={};e&&t.colorSchemes&&typeof t.getColorSchemeSelector=="function"&&Object.entries(t.colorSchemes).forEach(([u,c])=>{var h,m;const f=t.getColorSchemeSelector(u);f.startsWith("@")?n[f]={":root":{colorScheme:(h=c.palette)==null?void 0:h.mode}}:n[f.replace(/\s*&/,"")]={colorScheme:(m=c.palette)==null?void 0:m.mode}});let r={html:gF(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:{margin:0,...yF(t),"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}},...n};const a=(o=(i=t.components)==null?void 0:i.MuiCssBaseline)==null?void 0:o.styleOverrides;return a&&(r=[r,a]),r},Sm="mui-ecs",bF=t=>{const e=tj(t,!1),n=Array.isArray(e)?e[0]:e;return!t.vars&&n&&(n.html[`:root:has(${Sm})`]={colorScheme:t.palette.mode}),t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([r,a])=>{var o,u;const i=t.getColorSchemeSelector(r);i.startsWith("@")?n[i]={[`:root:not(:has(.${Sm}))`]:{colorScheme:(o=a.palette)==null?void 0:o.mode}}:n[i.replace(/\s*&/,"")]={[`&:not(:has(.${Sm}))`]:{colorScheme:(u=a.palette)==null?void 0:u.mode}}}),e},vF=$S(W_?({theme:t,enableColorScheme:e})=>tj(t,e):({theme:t})=>bF(t));function _F(t){const e=rt({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return I.jsxs(R.Fragment,{children:[W_&&I.jsx(vF,{enableColorScheme:r}),!W_&&!r&&I.jsx("span",{className:Sm,style:{display:"none"}}),n]})}function sA(...t){return t.reduce((e,n)=>n==null?e:function(...a){e.apply(this,a),n.apply(this,a)},()=>{})}const xt=Q5;function wF(t){return et("MuiSvgIcon",t)}tt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const SF=t=>{const{color:e,fontSize:n,classes:r}=t,a={root:["root",e!=="inherit"&&`color${de(e)}`,`fontSize${de(n)}`]};return nt(a,wF,r)},xF=he("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${de(n.color)}`],e[`fontSize${de(n.fontSize)}`]]}})(xt(({theme:t})=>{var e,n,r,a,i,o,u,c,f,h,m,g,b,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(a=(e=t.transitions)==null?void 0:e.create)==null?void 0:a.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:w=>!w.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(i=t.typography)==null?void 0:i.pxToRem)==null?void 0:o.call(i,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((c=(u=t.typography)==null?void 0:u.pxToRem)==null?void 0:c.call(u,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((h=(f=t.typography)==null?void 0:f.pxToRem)==null?void 0:h.call(f,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,w])=>w&&w.main).map(([w])=>{var S,x;return{props:{color:w},style:{color:(x=(S=(t.vars??t).palette)==null?void 0:S[w])==null?void 0:x.main}}}),{props:{color:"action"},style:{color:(g=(m=(t.vars??t).palette)==null?void 0:m.action)==null?void 0:g.active}},{props:{color:"disabled"},style:{color:(v=(b=(t.vars??t).palette)==null?void 0:b.action)==null?void 0:v.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Z_=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSvgIcon"}),{children:a,className:i,color:o="inherit",component:u="svg",fontSize:c="medium",htmlColor:f,inheritViewBox:h=!1,titleAccess:m,viewBox:g="0 0 24 24",...b}=r,v=R.isValidElement(a)&&a.type==="svg",w={...r,color:o,component:u,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:g,hasSvgAsChild:v},S={};h||(S.viewBox=g);const x=SF(w);return I.jsxs(xF,{as:u,className:Se(x.root,i),focusable:"false",color:f,"aria-hidden":m?void 0:!0,role:m?"img":void 0,ref:n,...S,...b,...v&&a.props,ownerState:w,children:[v?a.props.children:a,m?I.jsx("title",{children:m}):null]})});Z_.muiName="SvgIcon";function ha(t,e){function n(r,a){return I.jsx(Z_,{"data-testid":void 0,ref:a,...r,children:t})}return n.muiName=Z_.muiName,R.memo(R.forwardRef(n))}function Ng(t,e=166){let n;function r(...a){const i=()=>{t.apply(this,a)};clearTimeout(n),n=setTimeout(i,e)}return r.clear=()=>{clearTimeout(n)},r}function da(t){return t&&t.ownerDocument||document}function Ia(t){return da(t).defaultView||window}function oA(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let lA=0;function EF(t){const[e,n]=R.useState(t),r=t||e;return R.useEffect(()=>{e==null&&(lA+=1,n(`mui-${lA}`))},[e]),r}const TF={...L_},uA=TF.useId;function Mg(t){if(uA!==void 0){const e=uA();return t??e}return EF(t)}function cA(t){const{controlled:e,default:n,name:r,state:a="value"}=t,{current:i}=R.useRef(e!==void 0),[o,u]=R.useState(n),c=i?e:o,f=R.useCallback(h=>{i||u(h)},[]);return[c,f]}function ii(t){const e=R.useRef(t);return Yi(()=>{e.current=t}),R.useRef((...n)=>(0,e.current)(...n)).current}function sr(...t){const e=R.useRef(void 0),n=R.useCallback(r=>{const a=t.map(i=>{if(i==null)return null;if(typeof i=="function"){const o=i,u=o(r);return typeof u=="function"?u:()=>{o(null)}}return i.current=r,()=>{i.current=null}});return()=>{a.forEach(i=>i==null?void 0:i())}},t);return R.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}function CF(t,e){const n=t.charCodeAt(2);return t[0]==="o"&&t[1]==="n"&&n>=65&&n<=90&&typeof e=="function"}function RF(t,e){if(!t)return e;function n(o,u){const c={};return Object.keys(u).forEach(f=>{CF(f,u[f])&&typeof o[f]=="function"&&(c[f]=(...h)=>{o[f](...h),u[f](...h)})}),c}if(typeof t=="function"||typeof e=="function")return o=>{const u=typeof e=="function"?e(o):e,c=typeof t=="function"?t({...o,...u}):t,f=Se(o==null?void 0:o.className,u==null?void 0:u.className,c==null?void 0:c.className),h=n(c,u);return{...u,...c,...h,...!!f&&{className:f},...(u==null?void 0:u.style)&&(c==null?void 0:c.style)&&{style:{...u.style,...c.style}},...(u==null?void 0:u.sx)&&(c==null?void 0:c.sx)&&{sx:[...Array.isArray(u.sx)?u.sx:[u.sx],...Array.isArray(c.sx)?c.sx:[c.sx]]}}};const r=e,a=n(t,r),i=Se(r==null?void 0:r.className,t==null?void 0:t.className);return{...e,...t,...a,...!!i&&{className:i},...(r==null?void 0:r.style)&&(t==null?void 0:t.style)&&{style:{...r.style,...t.style}},...(r==null?void 0:r.sx)&&(t==null?void 0:t.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(t.sx)?t.sx:[t.sx]]}}}function nj(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function K_(t,e){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},K_(t,e)}function rj(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,K_(t,e)}const dA={disabled:!1},Um=Vr.createContext(null);var AF=function(e){return e.scrollTop},Sd="unmounted",Oo="exited",ko="entering",tu="entered",Y_="exiting",mi=function(t){rj(e,t);function e(r,a){var i;i=t.call(this,r,a)||this;var o=a,u=o&&!o.isMounting?r.enter:r.appear,c;return i.appearStatus=null,r.in?u?(c=Oo,i.appearStatus=ko):c=tu:r.unmountOnExit||r.mountOnEnter?c=Sd:c=Oo,i.state={status:c},i.nextCallback=null,i}e.getDerivedStateFromProps=function(a,i){var o=a.in;return o&&i.status===Sd?{status:Oo}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(a){var i=null;if(a!==this.props){var o=this.state.status;this.props.in?o!==ko&&o!==tu&&(i=ko):(o===ko||o===tu)&&(i=Y_)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var a=this.props.timeout,i,o,u;return i=o=u=a,a!=null&&typeof a!="number"&&(i=a.exit,o=a.enter,u=a.appear!==void 0?a.appear:o),{exit:i,enter:o,appear:u}},n.updateStatus=function(a,i){if(a===void 0&&(a=!1),i!==null)if(this.cancelNextCallback(),i===ko){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Pp.findDOMNode(this);o&&AF(o)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Oo&&this.setState({status:Sd})},n.performEnter=function(a){var i=this,o=this.props.enter,u=this.context?this.context.isMounting:a,c=this.props.nodeRef?[u]:[Pp.findDOMNode(this),u],f=c[0],h=c[1],m=this.getTimeouts(),g=u?m.appear:m.enter;if(!a&&!o||dA.disabled){this.safeSetState({status:tu},function(){i.props.onEntered(f)});return}this.props.onEnter(f,h),this.safeSetState({status:ko},function(){i.props.onEntering(f,h),i.onTransitionEnd(g,function(){i.safeSetState({status:tu},function(){i.props.onEntered(f,h)})})})},n.performExit=function(){var a=this,i=this.props.exit,o=this.getTimeouts(),u=this.props.nodeRef?void 0:Pp.findDOMNode(this);if(!i||dA.disabled){this.safeSetState({status:Oo},function(){a.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:Y_},function(){a.props.onExiting(u),a.onTransitionEnd(o.exit,function(){a.safeSetState({status:Oo},function(){a.props.onExited(u)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(a,i){i=this.setNextCallback(i),this.setState(a,i)},n.setNextCallback=function(a){var i=this,o=!0;return this.nextCallback=function(u){o&&(o=!1,i.nextCallback=null,a(u))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(a,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:Pp.findDOMNode(this),u=a==null&&!this.props.addEndListener;if(!o||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],f=c[0],h=c[1];this.props.addEndListener(f,h)}a!=null&&setTimeout(this.nextCallback,a)},n.render=function(){var a=this.state.status;if(a===Sd)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var u=nj(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Vr.createElement(Um.Provider,{value:null},typeof o=="function"?o(a,u):Vr.cloneElement(Vr.Children.only(o),u))},e}(Vr.Component);mi.contextType=Um;mi.propTypes={};function zl(){}mi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:zl,onEntering:zl,onEntered:zl,onExit:zl,onExiting:zl,onExited:zl};mi.UNMOUNTED=Sd;mi.EXITED=Oo;mi.ENTERING=ko;mi.ENTERED=tu;mi.EXITING=Y_;function OF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IS(t,e){var n=function(i){return e&&R.isValidElement(i)?e(i):i},r=Object.create(null);return t&&R.Children.map(t,function(a){return a}).forEach(function(a){r[a.key]=n(a)}),r}function kF(t,e){t=t||{},e=e||{};function n(h){return h in e?e[h]:t[h]}var r=Object.create(null),a=[];for(var i in t)i in e?a.length&&(r[i]=a,a=[]):a.push(i);var o,u={};for(var c in e){if(r[c])for(o=0;o<r[c].length;o++){var f=r[c][o];u[r[c][o]]=n(f)}u[c]=n(c)}for(o=0;o<a.length;o++)u[a[o]]=n(a[o]);return u}function No(t,e,n){return n[e]!=null?n[e]:t.props[e]}function PF(t,e){return IS(t.children,function(n){return R.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:No(n,"appear",t),enter:No(n,"enter",t),exit:No(n,"exit",t)})})}function $F(t,e,n){var r=IS(t.children),a=kF(e,r);return Object.keys(a).forEach(function(i){var o=a[i];if(R.isValidElement(o)){var u=i in e,c=i in r,f=e[i],h=R.isValidElement(f)&&!f.props.in;c&&(!u||h)?a[i]=R.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:No(o,"exit",t),enter:No(o,"enter",t)}):!c&&u&&!h?a[i]=R.cloneElement(o,{in:!1}):c&&u&&R.isValidElement(f)&&(a[i]=R.cloneElement(o,{onExited:n.bind(null,o),in:f.props.in,exit:No(o,"exit",t),enter:No(o,"enter",t)}))}}),a}var IF=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},jF={component:"div",childFactory:function(e){return e}},jS=function(t){rj(e,t);function e(r,a){var i;i=t.call(this,r,a)||this;var o=i.handleExited.bind(OF(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(a,i){var o=i.children,u=i.handleExited,c=i.firstRender;return{children:c?PF(a,u):$F(a,o,u),firstRender:!1}},n.handleExited=function(a,i){var o=IS(this.props.children);a.key in o||(a.props.onExited&&a.props.onExited(i),this.mounted&&this.setState(function(u){var c=Mm({},u.children);return delete c[a.key],{children:c}}))},n.render=function(){var a=this.props,i=a.component,o=a.childFactory,u=nj(a,["component","childFactory"]),c=this.state.contextValue,f=IF(this.state.children).map(o);return delete u.appear,delete u.enter,delete u.exit,i===null?Vr.createElement(Um.Provider,{value:c},f):Vr.createElement(Um.Provider,{value:c},Vr.createElement(i,u,f))},e}(Vr.Component);jS.propTypes={};jS.defaultProps=jF;const fA={};function aj(t,e){const n=R.useRef(fA);return n.current===fA&&(n.current=t(e)),n}const NF=[];function MF(t){R.useEffect(t,NF)}class NS{constructor(){ra(this,"currentId",null);ra(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});ra(this,"disposeEffect",()=>this.clear)}static create(){return new NS}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function ij(){const t=aj(NS.create).current;return MF(t.disposeEffect),t}const sj=t=>t.scrollTop;function zm(t,e){const{timeout:n,easing:r,style:a={}}=t;return{duration:a.transitionDuration??(typeof n=="number"?n:n[e.mode]||0),easing:a.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:a.transitionDelay}}function LF(t){return et("MuiPaper",t)}tt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const DF=t=>{const{square:e,elevation:n,variant:r,classes:a}=t,i={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return nt(i,LF,a)},BF=he("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(xt(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Xi=R.forwardRef(function(e,n){var b;const r=rt({props:e,name:"MuiPaper"}),a=Kf(),{className:i,component:o="div",elevation:u=1,square:c=!1,variant:f="elevation",...h}=r,m={...r,component:o,elevation:u,square:c,variant:f},g=DF(m);return I.jsx(BF,{as:o,ownerState:m,className:Se(g.root,i),ref:n,...h,style:{...f==="elevation"&&{"--Paper-shadow":(a.vars||a).shadows[u],...a.vars&&{"--Paper-overlay":(b=a.vars.overlays)==null?void 0:b[u]},...!a.vars&&a.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${fn("#fff",G_(u))}, ${fn("#fff",G_(u))})`}},...h.style}})});function UF(t){return typeof t=="string"}function oj(t,e,n){return t===void 0||UF(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function lj(t,e,n){return typeof t=="function"?t(e,n):t}function uj(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function hA(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function cj(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:a,className:i}=t;if(!e){const b=Se(n==null?void 0:n.className,i,a==null?void 0:a.className,r==null?void 0:r.className),v={...n==null?void 0:n.style,...a==null?void 0:a.style,...r==null?void 0:r.style},w={...n,...a,...r};return b.length>0&&(w.className=b),Object.keys(v).length>0&&(w.style=v),{props:w,internalRef:void 0}}const o=uj({...a,...r}),u=hA(r),c=hA(a),f=e(o),h=Se(f==null?void 0:f.className,n==null?void 0:n.className,i,a==null?void 0:a.className,r==null?void 0:r.className),m={...f==null?void 0:f.style,...n==null?void 0:n.style,...a==null?void 0:a.style,...r==null?void 0:r.style},g={...f,...n,...c,...u};return h.length>0&&(g.className=h),Object.keys(m).length>0&&(g.style=m),{props:g,internalRef:f.ref}}function Dt(t,e){const{className:n,elementType:r,ownerState:a,externalForwardedProps:i,internalForwardedProps:o,shouldForwardComponentProp:u=!1,...c}=e,{component:f,slots:h={[t]:void 0},slotProps:m={[t]:void 0},...g}=i,b=h[t]||r,v=lj(m[t],a),{props:{component:w,...S},internalRef:x}=cj({className:n,...c,externalForwardedProps:t==="root"?g:void 0,externalSlotProps:v}),C=sr(x,v==null?void 0:v.ref,e.ref),E=t==="root"?w||f:w,O=oj(b,{...t==="root"&&!f&&!h[t]&&o,...t!=="root"&&!h[t]&&o,...S,...E&&!u&&{as:E},...E&&u&&{component:E},ref:C},a);return[b,O]}function pA(t){try{return t.matches(":focus-visible")}catch{}return!1}class Fm{constructor(){ra(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Fm}static use(){const e=aj(Fm.create).current,[n,r]=R.useState(!1);return e.shouldMount=n,e.setShouldMount=r,R.useEffect(e.mountEffect,[n]),e}mount(){return this.mounted||(this.mounted=FF(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...e)})}stop(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...e)})}pulsate(...e){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...e)})}}function zF(){return Fm.use()}function FF(){let t,e;const n=new Promise((r,a)=>{t=r,e=a});return n.resolve=t,n.reject=e,n}function VF(t){const{className:e,classes:n,pulsate:r=!1,rippleX:a,rippleY:i,rippleSize:o,in:u,onExited:c,timeout:f}=t,[h,m]=R.useState(!1),g=Se(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),b={width:o,height:o,top:-(o/2)+i,left:-(o/2)+a},v=Se(n.child,h&&n.childLeaving,r&&n.childPulsate);return!u&&!h&&m(!0),R.useEffect(()=>{if(!u&&c!=null){const w=setTimeout(c,f);return()=>{clearTimeout(w)}}},[c,u,f]),I.jsx("span",{className:g,style:b,children:I.jsx("span",{className:v})})}const la=tt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),X_=550,HF=80,qF=Yo`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,GF=Yo`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,WF=Yo`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,ZF=he("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),KF=he(VF,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${la.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${qF};
    animation-duration: ${X_}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  &.${la.ripplePulsate} {
    animation-duration: ${({theme:t})=>t.transitions.duration.shorter}ms;
  }

  & .${la.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${la.childLeaving} {
    opacity: 0;
    animation-name: ${GF};
    animation-duration: ${X_}ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
  }

  & .${la.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${WF};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:t})=>t.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,YF=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiTouchRipple"}),{center:a=!1,classes:i={},className:o,...u}=r,[c,f]=R.useState([]),h=R.useRef(0),m=R.useRef(null);R.useEffect(()=>{m.current&&(m.current(),m.current=null)},[c]);const g=R.useRef(!1),b=ij(),v=R.useRef(null),w=R.useRef(null),S=R.useCallback(O=>{const{pulsate:A,rippleX:N,rippleY:D,rippleSize:P,cb:L}=O;f(T=>[...T,I.jsx(KF,{classes:{ripple:Se(i.ripple,la.ripple),rippleVisible:Se(i.rippleVisible,la.rippleVisible),ripplePulsate:Se(i.ripplePulsate,la.ripplePulsate),child:Se(i.child,la.child),childLeaving:Se(i.childLeaving,la.childLeaving),childPulsate:Se(i.childPulsate,la.childPulsate)},timeout:X_,pulsate:A,rippleX:N,rippleY:D,rippleSize:P},h.current)]),h.current+=1,m.current=L},[i]),x=R.useCallback((O={},A={},N=()=>{})=>{const{pulsate:D=!1,center:P=a||A.pulsate,fakeElement:L=!1}=A;if((O==null?void 0:O.type)==="mousedown"&&g.current){g.current=!1;return}(O==null?void 0:O.type)==="touchstart"&&(g.current=!0);const T=L?null:w.current,B=T?T.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Z,ne,q;if(P||O===void 0||O.clientX===0&&O.clientY===0||!O.clientX&&!O.touches)Z=Math.round(B.width/2),ne=Math.round(B.height/2);else{const{clientX:F,clientY:M}=O.touches&&O.touches.length>0?O.touches[0]:O;Z=Math.round(F-B.left),ne=Math.round(M-B.top)}if(P)q=Math.sqrt((2*B.width**2+B.height**2)/3),q%2===0&&(q+=1);else{const F=Math.max(Math.abs((T?T.clientWidth:0)-Z),Z)*2+2,M=Math.max(Math.abs((T?T.clientHeight:0)-ne),ne)*2+2;q=Math.sqrt(F**2+M**2)}O!=null&&O.touches?v.current===null&&(v.current=()=>{S({pulsate:D,rippleX:Z,rippleY:ne,rippleSize:q,cb:N})},b.start(HF,()=>{v.current&&(v.current(),v.current=null)})):S({pulsate:D,rippleX:Z,rippleY:ne,rippleSize:q,cb:N})},[a,S,b]),C=R.useCallback(()=>{x({},{pulsate:!0})},[x]),E=R.useCallback((O,A)=>{if(b.clear(),(O==null?void 0:O.type)==="touchend"&&v.current){v.current(),v.current=null,b.start(0,()=>{E(O,A)});return}v.current=null,f(N=>N.length>0?N.slice(1):N),m.current=A},[b]);return R.useImperativeHandle(n,()=>({pulsate:C,start:x,stop:E}),[C,x,E]),I.jsx(ZF,{className:Se(la.root,i.root,o),ref:w,...u,children:I.jsx(jS,{component:null,exit:!0,children:c})})});function XF(t){return et("MuiButtonBase",t)}const JF=tt("MuiButtonBase",["root","disabled","focusVisible"]),QF=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:a}=t,o=nt({root:["root",e&&"disabled",n&&"focusVisible"]},XF,a);return n&&r&&(o.root+=` ${r}`),o},e6=he("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${JF.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Ru=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiButtonBase"}),{action:a,centerRipple:i=!1,children:o,className:u,component:c="button",disabled:f=!1,disableRipple:h=!1,disableTouchRipple:m=!1,focusRipple:g=!1,focusVisibleClassName:b,LinkComponent:v="a",onBlur:w,onClick:S,onContextMenu:x,onDragLeave:C,onFocus:E,onFocusVisible:O,onKeyDown:A,onKeyUp:N,onMouseDown:D,onMouseLeave:P,onMouseUp:L,onTouchEnd:T,onTouchMove:B,onTouchStart:Z,tabIndex:ne=0,TouchRippleProps:q,touchRippleRef:F,type:M,...z}=r,K=R.useRef(null),V=zF(),j=sr(V.ref,F),[G,J]=R.useState(!1);f&&G&&J(!1),R.useImperativeHandle(a,()=>({focusVisible:()=>{J(!0),K.current.focus()}}),[]);const Q=V.shouldMount&&!h&&!f;R.useEffect(()=>{G&&g&&!h&&V.pulsate()},[h,g,G,V]);const le=Ni(V,"start",D,m),ce=Ni(V,"stop",x,m),fe=Ni(V,"stop",C,m),Ae=Ni(V,"stop",L,m),Ee=Ni(V,"stop",we=>{G&&we.preventDefault(),P&&P(we)},m),Oe=Ni(V,"start",Z,m),ye=Ni(V,"stop",T,m),Me=Ni(V,"stop",B,m),ze=Ni(V,"stop",we=>{pA(we.target)||J(!1),w&&w(we)},!1),at=ii(we=>{K.current||(K.current=we.currentTarget),pA(we.target)&&(J(!0),O&&O(we)),E&&E(we)}),$e=()=>{const we=K.current;return c&&c!=="button"&&!(we.tagName==="A"&&we.href)},ut=ii(we=>{g&&!we.repeat&&G&&we.key===" "&&V.stop(we,()=>{V.start(we)}),we.target===we.currentTarget&&$e()&&we.key===" "&&we.preventDefault(),A&&A(we),we.target===we.currentTarget&&$e()&&we.key==="Enter"&&!f&&(we.preventDefault(),S&&S(we))}),vn=ii(we=>{g&&we.key===" "&&G&&!we.defaultPrevented&&V.stop(we,()=>{V.pulsate(we)}),N&&N(we),S&&we.target===we.currentTarget&&$e()&&we.key===" "&&!we.defaultPrevented&&S(we)});let Je=c;Je==="button"&&(z.href||z.to)&&(Je=v);const mt={};Je==="button"?(mt.type=M===void 0?"button":M,mt.disabled=f):(!z.href&&!z.to&&(mt.role="button"),f&&(mt["aria-disabled"]=f));const gt=sr(n,K),Ft={...r,centerRipple:i,component:c,disabled:f,disableRipple:h,disableTouchRipple:m,focusRipple:g,tabIndex:ne,focusVisible:G},ct=QF(Ft);return I.jsxs(e6,{as:Je,className:Se(ct.root,u),ownerState:Ft,onBlur:ze,onClick:S,onContextMenu:ce,onFocus:at,onKeyDown:ut,onKeyUp:vn,onMouseDown:le,onMouseLeave:Ee,onMouseUp:Ae,onDragLeave:fe,onTouchEnd:ye,onTouchMove:Me,onTouchStart:Oe,ref:gt,tabIndex:f?-1:ne,type:M,...mt,...z,children:[o,Q?I.jsx(YF,{ref:j,center:i,...q}):null]})});function Ni(t,e,n,r=!1){return ii(a=>(n&&n(a),r||t[e](a),!0))}function t6(t){return typeof t.main=="string"}function n6(t,e=[]){if(!t6(t))return!1;for(const n of e)if(!t.hasOwnProperty(n)||typeof t[n]!="string")return!1;return!0}function fr(t=[]){return([,e])=>e&&n6(e,t)}function r6(t){return et("MuiCircularProgress",t)}tt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Ts=44,J_=Yo`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Q_=Yo`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,a6=typeof J_!="string"?yS`
        animation: ${J_} 1.4s linear infinite;
      `:null,i6=typeof Q_!="string"?yS`
        animation: ${Q_} 1.4s ease-in-out infinite;
      `:null,s6=t=>{const{classes:e,variant:n,color:r,disableShrink:a}=t,i={root:["root",n,`color${de(r)}`],svg:["svg"],circle:["circle",`circle${de(n)}`,a&&"circleDisableShrink"]};return nt(i,r6,e)},o6=he("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${de(n.color)}`]]}})(xt(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:a6||{animation:`${J_} 1.4s linear infinite`}},...Object.entries(t.palette).filter(fr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))]}))),l6=he("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),u6=he("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${de(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(xt(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:i6||{animation:`${Q_} 1.4s ease-in-out infinite`}}]}))),Yf=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiCircularProgress"}),{className:a,color:i="primary",disableShrink:o=!1,size:u=40,style:c,thickness:f=3.6,value:h=0,variant:m="indeterminate",...g}=r,b={...r,color:i,disableShrink:o,size:u,thickness:f,value:h,variant:m},v=s6(b),w={},S={},x={};if(m==="determinate"){const C=2*Math.PI*((Ts-f)/2);w.strokeDasharray=C.toFixed(3),x["aria-valuenow"]=Math.round(h),w.strokeDashoffset=`${((100-h)/100*C).toFixed(3)}px`,S.transform="rotate(-90deg)"}return I.jsx(o6,{className:Se(v.root,a),style:{width:u,height:u,...S,...c},ownerState:b,ref:n,role:"progressbar",...x,...g,children:I.jsx(l6,{className:v.svg,ownerState:b,viewBox:`${Ts/2} ${Ts/2} ${Ts} ${Ts}`,children:I.jsx(u6,{className:v.circle,style:w,ownerState:b,cx:Ts,cy:Ts,r:(Ts-f)/2,fill:"none",strokeWidth:f})})})});function c6(t){return et("MuiIconButton",t)}const mA=tt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),d6=t=>{const{classes:e,disabled:n,color:r,edge:a,size:i,loading:o}=t,u={root:["root",o&&"loading",n&&"disabled",r!=="default"&&`color${de(r)}`,a&&`edge${de(a)}`,`size${de(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return nt(u,c6,e)},f6=he(Ru,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,n.color!=="default"&&e[`color${de(n.color)}`],n.edge&&e[`edge${de(n.edge)}`],e[`size${de(n.size)}`]]}})(xt(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:fn(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),xt(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(fr()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(fr()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:fn((t.vars||t).palette[e].main,t.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${mA.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${mA.loading}`]:{color:"transparent"}}))),h6=he("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),dj=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiIconButton"}),{edge:a=!1,children:i,className:o,color:u="default",disabled:c=!1,disableFocusRipple:f=!1,size:h="medium",id:m,loading:g=null,loadingIndicator:b,...v}=r,w=Mg(m),S=b??I.jsx(Yf,{"aria-labelledby":w,color:"inherit",size:16}),x={...r,edge:a,color:u,disabled:c,disableFocusRipple:f,loading:g,loadingIndicator:S,size:h},C=d6(x);return I.jsxs(f6,{id:g?w:m,className:Se(C.root,o),centerRipple:!0,focusRipple:!f,disabled:c||g,ref:n,...v,ownerState:x,children:[typeof g=="boolean"&&I.jsx("span",{className:C.loadingWrapper,style:{display:"contents"},children:I.jsx(h6,{className:C.loadingIndicator,ownerState:x,children:g&&S})}),i]})});function p6(t){return et("MuiTypography",t)}const gA=tt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),m6={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},g6=mF(),y6=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:a,variant:i,classes:o}=t,u={root:["root",i,t.align!=="inherit"&&`align${de(e)}`,n&&"gutterBottom",r&&"noWrap",a&&"paragraph"]};return nt(u,p6,o)},b6=he("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${de(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(xt(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([n,r])=>n!=="inherit"&&r&&typeof r=="object").map(([n,r])=>({props:{variant:n},style:r})),...Object.entries(t.palette).filter(fr()).map(([n])=>({props:{color:n},style:{color:(t.vars||t).palette[n].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,n])=>typeof n=="string").map(([n])=>({props:{color:`text${de(n)}`},style:{color:(t.vars||t).palette.text[n]}})),{props:({ownerState:n})=>n.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:n})=>n.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:n})=>n.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:n})=>n.paragraph,style:{marginBottom:16}}]}})),yA={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},$t=R.forwardRef(function(e,n){const{color:r,...a}=rt({props:e,name:"MuiTypography"}),i=!m6[r],o=g6({...a,...i&&{color:r}}),{align:u="inherit",className:c,component:f,gutterBottom:h=!1,noWrap:m=!1,paragraph:g=!1,variant:b="body1",variantMapping:v=yA,...w}=o,S={...o,align:u,color:r,className:c,component:f,gutterBottom:h,noWrap:m,paragraph:g,variant:b,variantMapping:v},x=f||(g?"p":v[b]||yA[b])||"span",C=y6(S);return I.jsx(b6,{as:x,ref:n,className:Se(C.root,c),...w,ownerState:S,style:{...u!=="inherit"&&{"--Typography-textAlign":u},...w.style}})});function of(t){var m;const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:a=!1,...i}=t,o=a?{}:lj(n,r),{props:u,internalRef:c}=cj({...i,externalSlotProps:o}),f=sr(c,o==null?void 0:o.ref,(m=t.additionalProps)==null?void 0:m.ref);return oj(e,{...u,ref:f},r)}function Xf(t){var e;return parseInt(R.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}function v6(t){return typeof t=="function"?t():t}const _6=R.forwardRef(function(e,n){const{children:r,container:a,disablePortal:i=!1}=e,[o,u]=R.useState(null),c=sr(R.isValidElement(r)?Xf(r):null,n);if(Yi(()=>{i||u(v6(a)||document.body)},[a,i]),Yi(()=>{if(o&&!i)return oA(n,o),()=>{oA(n,null)}},[n,o,i]),i){if(R.isValidElement(r)){const f={ref:c};return R.cloneElement(r,f)}return r}return o&&pI.createPortal(r,o)}),w6=ha(I.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function S6(t){return et("MuiChip",t)}const lt=tt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),x6=t=>{const{classes:e,disabled:n,size:r,color:a,iconColor:i,onDelete:o,clickable:u,variant:c}=t,f={root:["root",c,n&&"disabled",`size${de(r)}`,`color${de(a)}`,u&&"clickable",u&&`clickableColor${de(a)}`,o&&"deletable",o&&`deletableColor${de(a)}`,`${c}${de(a)}`],label:["label",`label${de(r)}`],avatar:["avatar",`avatar${de(r)}`,`avatarColor${de(a)}`],icon:["icon",`icon${de(r)}`,`iconColor${de(i)}`],deleteIcon:["deleteIcon",`deleteIcon${de(r)}`,`deleteIconColor${de(a)}`,`deleteIcon${de(c)}Color${de(a)}`]};return nt(f,S6,e)},E6=he("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,iconColor:a,clickable:i,onDelete:o,size:u,variant:c}=n;return[{[`& .${lt.avatar}`]:e.avatar},{[`& .${lt.avatar}`]:e[`avatar${de(u)}`]},{[`& .${lt.avatar}`]:e[`avatarColor${de(r)}`]},{[`& .${lt.icon}`]:e.icon},{[`& .${lt.icon}`]:e[`icon${de(u)}`]},{[`& .${lt.icon}`]:e[`iconColor${de(a)}`]},{[`& .${lt.deleteIcon}`]:e.deleteIcon},{[`& .${lt.deleteIcon}`]:e[`deleteIcon${de(u)}`]},{[`& .${lt.deleteIcon}`]:e[`deleteIconColor${de(r)}`]},{[`& .${lt.deleteIcon}`]:e[`deleteIcon${de(c)}Color${de(r)}`]},e.root,e[`size${de(u)}`],e[`color${de(r)}`],i&&e.clickable,i&&r!=="default"&&e[`clickableColor${de(r)})`],o&&e.deletable,o&&r!=="default"&&e[`deletableColor${de(r)}`],e[c],e[`${c}${de(r)}`]]}})(xt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${lt.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${lt.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:e,fontSize:t.typography.pxToRem(12)},[`& .${lt.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${lt.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${lt.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${lt.icon}`]:{marginLeft:5,marginRight:-6},[`& .${lt.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:fn(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:fn(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${lt.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${lt.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(fr(["contrastText"])).map(([n])=>({props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${lt.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].contrastTextChannel} / 0.7)`:fn(t.palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}})),{props:n=>n.iconColor===n.color,style:{[`& .${lt.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:e}}},{props:n=>n.iconColor===n.color&&n.color!=="default",style:{[`& .${lt.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${lt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:fn(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(fr(["dark"])).map(([n])=>({props:{color:n,onDelete:!0},style:{[`&.${lt.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:fn(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${lt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:fn(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(fr(["dark"])).map(([n])=>({props:{color:n,clickable:!0},style:{[`&:hover, &.${lt.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${lt.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${lt.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${lt.avatar}`]:{marginLeft:4},[`& .${lt.avatarSmall}`]:{marginLeft:2},[`& .${lt.icon}`]:{marginLeft:4},[`& .${lt.iconSmall}`]:{marginLeft:2},[`& .${lt.deleteIcon}`]:{marginRight:5},[`& .${lt.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(fr()).map(([n])=>({props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:fn(t.palette[n].main,.7)}`,[`&.${lt.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:fn(t.palette[n].main,t.palette.action.hoverOpacity)},[`&.${lt.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.focusOpacity})`:fn(t.palette[n].main,t.palette.action.focusOpacity)},[`& .${lt.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:fn(t.palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}))]}})),T6=he("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${de(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function bA(t){return t.key==="Backspace"||t.key==="Delete"}const C6=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiChip"}),{avatar:a,className:i,clickable:o,color:u="default",component:c,deleteIcon:f,disabled:h=!1,icon:m,label:g,onClick:b,onDelete:v,onKeyDown:w,onKeyUp:S,size:x="medium",variant:C="filled",tabIndex:E,skipFocusWhenDisabled:O=!1,...A}=r,N=R.useRef(null),D=sr(N,n),P=V=>{V.stopPropagation(),v&&v(V)},L=V=>{V.currentTarget===V.target&&bA(V)&&V.preventDefault(),w&&w(V)},T=V=>{V.currentTarget===V.target&&v&&bA(V)&&v(V),S&&S(V)},B=o!==!1&&b?!0:o,Z=B||v?Ru:c||"div",ne={...r,component:Z,disabled:h,size:x,color:u,iconColor:R.isValidElement(m)&&m.props.color||u,onDelete:!!v,clickable:B,variant:C},q=x6(ne),F=Z===Ru?{component:c||"div",focusVisibleClassName:q.focusVisible,...v&&{disableRipple:!0}}:{};let M=null;v&&(M=f&&R.isValidElement(f)?R.cloneElement(f,{className:Se(f.props.className,q.deleteIcon),onClick:P}):I.jsx(w6,{className:q.deleteIcon,onClick:P}));let z=null;a&&R.isValidElement(a)&&(z=R.cloneElement(a,{className:Se(q.avatar,a.props.className)}));let K=null;return m&&R.isValidElement(m)&&(K=R.cloneElement(m,{className:Se(q.icon,m.props.className)})),I.jsxs(E6,{as:Z,className:Se(q.root,i),disabled:B&&h?!0:void 0,onClick:b,onKeyDown:L,onKeyUp:T,ref:D,tabIndex:O&&h?-1:E,ownerState:ne,...F,...A,children:[z||K,I.jsx(T6,{className:q.label,ownerState:ne,children:g}),M]})});function Mp(t){return parseInt(t,10)||0}const R6={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function A6(t){for(const e in t)return!1;return!0}function vA(t){return A6(t)||t.outerHeightStyle===0&&!t.overflowing}const O6=R.forwardRef(function(e,n){const{onChange:r,maxRows:a,minRows:i=1,style:o,value:u,...c}=e,{current:f}=R.useRef(u!=null),h=R.useRef(null),m=sr(n,h),g=R.useRef(null),b=R.useRef(null),v=R.useCallback(()=>{const E=h.current,O=b.current;if(!E||!O)return;const N=Ia(E).getComputedStyle(E);if(N.width==="0px")return{outerHeightStyle:0,overflowing:!1};O.style.width=N.width,O.value=E.value||e.placeholder||"x",O.value.slice(-1)===`
`&&(O.value+=" ");const D=N.boxSizing,P=Mp(N.paddingBottom)+Mp(N.paddingTop),L=Mp(N.borderBottomWidth)+Mp(N.borderTopWidth),T=O.scrollHeight;O.value="x";const B=O.scrollHeight;let Z=T;i&&(Z=Math.max(Number(i)*B,Z)),a&&(Z=Math.min(Number(a)*B,Z)),Z=Math.max(Z,B);const ne=Z+(D==="border-box"?P+L:0),q=Math.abs(Z-T)<=1;return{outerHeightStyle:ne,overflowing:q}},[a,i,e.placeholder]),w=ii(()=>{const E=h.current,O=v();if(!E||!O||vA(O))return!1;const A=O.outerHeightStyle;return g.current!=null&&g.current!==A}),S=R.useCallback(()=>{const E=h.current,O=v();if(!E||!O||vA(O))return;const A=O.outerHeightStyle;g.current!==A&&(g.current=A,E.style.height=`${A}px`),E.style.overflow=O.overflowing?"hidden":""},[v]),x=R.useRef(-1);Yi(()=>{const E=Ng(S),O=h==null?void 0:h.current;if(!O)return;const A=Ia(O);A.addEventListener("resize",E);let N;return typeof ResizeObserver<"u"&&(N=new ResizeObserver(()=>{w()&&(N.unobserve(O),cancelAnimationFrame(x.current),S(),x.current=requestAnimationFrame(()=>{N.observe(O)}))}),N.observe(O)),()=>{E.clear(),cancelAnimationFrame(x.current),A.removeEventListener("resize",E),N&&N.disconnect()}},[v,S,w]),Yi(()=>{S()});const C=E=>{f||S();const O=E.target,A=O.value.length,N=O.value.endsWith(`
`),D=O.selectionStart===A;N&&D&&O.setSelectionRange(A,A),r&&r(E)};return I.jsxs(R.Fragment,{children:[I.jsx("textarea",{value:u,onChange:C,ref:m,rows:i,style:o,...c}),I.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:b,tabIndex:-1,style:{...R6.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function lf(t){return typeof t=="string"}function Vu({props:t,states:e,muiFormControl:n}){return e.reduce((r,a)=>(r[a]=t[a],n&&typeof t[a]>"u"&&(r[a]=n[a]),r),{})}const MS=R.createContext(void 0);function Hu(){return R.useContext(MS)}function _A(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Vm(t,e=!1){return t&&(_A(t.value)&&t.value!==""||e&&_A(t.defaultValue)&&t.defaultValue!=="")}function k6(t){return t.startAdornment}function P6(t){return et("MuiInputBase",t)}const Au=tt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var wA;const Lg=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${de(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Dg=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},$6=t=>{const{classes:e,color:n,disabled:r,error:a,endAdornment:i,focused:o,formControl:u,fullWidth:c,hiddenLabel:f,multiline:h,readOnly:m,size:g,startAdornment:b,type:v}=t,w={root:["root",`color${de(n)}`,r&&"disabled",a&&"error",c&&"fullWidth",o&&"focused",u&&"formControl",g&&g!=="medium"&&`size${de(g)}`,h&&"multiline",b&&"adornedStart",i&&"adornedEnd",f&&"hiddenLabel",m&&"readOnly"],input:["input",r&&"disabled",v==="search"&&"inputTypeSearch",h&&"inputMultiline",g==="small"&&"inputSizeSmall",f&&"inputHiddenLabel",b&&"inputAdornedStart",i&&"inputAdornedEnd",m&&"readOnly"]};return nt(w,P6,e)},Bg=he("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Lg})(xt(({theme:t})=>({...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Au.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:n})=>e.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),Ug=he("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Dg})(xt(({theme:t})=>{const e=t.palette.mode==="light",n={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},a=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Au.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${Au.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:({ownerState:i})=>!i.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:i})=>i.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),SA=$S({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),LS=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiInputBase"}),{"aria-describedby":a,autoComplete:i,autoFocus:o,className:u,color:c,components:f={},componentsProps:h={},defaultValue:m,disabled:g,disableInjectingGlobalStyles:b,endAdornment:v,error:w,fullWidth:S=!1,id:x,inputComponent:C="input",inputProps:E={},inputRef:O,margin:A,maxRows:N,minRows:D,multiline:P=!1,name:L,onBlur:T,onChange:B,onClick:Z,onFocus:ne,onKeyDown:q,onKeyUp:F,placeholder:M,readOnly:z,renderSuffix:K,rows:V,size:j,slotProps:G={},slots:J={},startAdornment:Q,type:le="text",value:ce,...fe}=r,Ae=E.value!=null?E.value:ce,{current:Ee}=R.useRef(Ae!=null),Oe=R.useRef(),ye=R.useCallback(ke=>{},[]),Me=sr(Oe,O,E.ref,ye),[ze,at]=R.useState(!1),$e=Hu(),ut=Vu({props:r,muiFormControl:$e,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ut.focused=$e?$e.focused:ze,R.useEffect(()=>{!$e&&g&&ze&&(at(!1),T&&T())},[$e,g,ze,T]);const vn=$e&&$e.onFilled,Je=$e&&$e.onEmpty,mt=R.useCallback(ke=>{Vm(ke)?vn&&vn():Je&&Je()},[vn,Je]);Yi(()=>{Ee&&mt({value:Ae})},[Ae,mt,Ee]);const gt=ke=>{ne&&ne(ke),E.onFocus&&E.onFocus(ke),$e&&$e.onFocus?$e.onFocus(ke):at(!0)},Ft=ke=>{T&&T(ke),E.onBlur&&E.onBlur(ke),$e&&$e.onBlur?$e.onBlur(ke):at(!1)},ct=(ke,...En)=>{if(!Ee){const Qt=ke.target||Oe.current;if(Qt==null)throw new Error(Zi(1));mt({value:Qt.value})}E.onChange&&E.onChange(ke,...En),B&&B(ke,...En)};R.useEffect(()=>{mt(Oe.current)},[]);const we=ke=>{Oe.current&&ke.currentTarget===ke.target&&Oe.current.focus(),Z&&Z(ke)};let Yn=C,Gt=E;P&&Yn==="input"&&(V?Gt={type:void 0,minRows:V,maxRows:V,...Gt}:Gt={type:void 0,maxRows:N,minRows:D,...Gt},Yn=O6);const Ar=ke=>{mt(ke.animationName==="mui-auto-fill-cancel"?Oe.current:{value:"x"})};R.useEffect(()=>{$e&&$e.setAdornedStart(!!Q)},[$e,Q]);const Xn={...r,color:ut.color||"primary",disabled:ut.disabled,endAdornment:v,error:ut.error,focused:ut.focused,formControl:$e,fullWidth:S,hiddenLabel:ut.hiddenLabel,multiline:P,size:ut.size,startAdornment:Q,type:le},Kt=$6(Xn),Jt=J.root||f.Root||Bg,Wt=G.root||h.root||{},Vt=J.input||f.Input||Ug;return Gt={...Gt,...G.input??h.input},I.jsxs(R.Fragment,{children:[!b&&typeof SA=="function"&&(wA||(wA=I.jsx(SA,{}))),I.jsxs(Jt,{...Wt,ref:n,onClick:we,...fe,...!lf(Jt)&&{ownerState:{...Xn,...Wt.ownerState}},className:Se(Kt.root,Wt.className,u,z&&"MuiInputBase-readOnly"),children:[Q,I.jsx(MS.Provider,{value:null,children:I.jsx(Vt,{"aria-invalid":ut.error,"aria-describedby":a,autoComplete:i,autoFocus:o,defaultValue:m,disabled:ut.disabled,id:x,onAnimationStart:Ar,name:L,placeholder:M,readOnly:z,required:ut.required,rows:V,value:Ae,onKeyDown:q,onKeyUp:F,type:le,...Gt,...!lf(Vt)&&{as:Yn,ownerState:{...Xn,...Gt.ownerState}},ref:Me,className:Se(Kt.input,Gt.className,z&&"MuiInputBase-readOnly"),onBlur:Ft,onChange:ct,onFocus:gt})}),v,K?K({...ut,startAdornment:Q}):null]})]})});function I6(t){return et("MuiInput",t)}const ld={...Au,...tt("MuiInput",["root","underline","input"])};function j6(t){return et("MuiOutlinedInput",t)}const Ga={...Au,...tt("MuiOutlinedInput",["root","notchedOutline","input"])};function N6(t){return et("MuiFilledInput",t)}const xo={...Au,...tt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},M6=ha(I.jsx("path",{d:"M7 10l5 5 5-5z"})),L6=ha(I.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function D6(t){return et("MuiAvatar",t)}tt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const B6=t=>{const{classes:e,variant:n,colorDefault:r}=t;return nt({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},D6,e)},U6=he("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(xt(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),z6=he("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),F6=he(L6,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function V6({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[a,i]=R.useState(!1);return R.useEffect(()=>{if(!n&&!r)return;i(!1);let o=!0;const u=new Image;return u.onload=()=>{o&&i("loaded")},u.onerror=()=>{o&&i("error")},u.crossOrigin=t,u.referrerPolicy=e,u.src=n,r&&(u.srcset=r),()=>{o=!1}},[t,e,n,r]),a}const xA=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiAvatar"}),{alt:a,children:i,className:o,component:u="div",slots:c={},slotProps:f={},imgProps:h,sizes:m,src:g,srcSet:b,variant:v="circular",...w}=r;let S=null;const x={...r,component:u,variant:v},C=V6({...h,...typeof f.img=="function"?f.img(x):f.img,src:g,srcSet:b}),E=g||b,O=E&&C!=="error";x.colorDefault=!O,delete x.ownerState;const A=B6(x),[N,D]=Dt("root",{ref:n,className:Se(A.root,o),elementType:U6,externalForwardedProps:{slots:c,slotProps:f,component:u,...w},ownerState:x}),[P,L]=Dt("img",{className:A.img,elementType:z6,externalForwardedProps:{slots:c,slotProps:{img:{...h,...f.img}}},additionalProps:{alt:a,src:g,srcSet:b,sizes:m},ownerState:x}),[T,B]=Dt("fallback",{className:A.fallback,elementType:F6,externalForwardedProps:{slots:c,slotProps:f},shouldForwardComponentProp:!0,ownerState:x});return O?S=I.jsx(P,{...L}):i||i===0?S=i:E&&a?S=a[0]:S=I.jsx(T,{...B}),I.jsx(N,{...D,children:S})}),H6={entering:{opacity:1},entered:{opacity:1}},q6=R.forwardRef(function(e,n){const r=Kf(),a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:o=!0,children:u,easing:c,in:f,onEnter:h,onEntered:m,onEntering:g,onExit:b,onExited:v,onExiting:w,style:S,timeout:x=a,TransitionComponent:C=mi,...E}=e,O=R.useRef(null),A=sr(O,Xf(u),n),N=q=>F=>{if(q){const M=O.current;F===void 0?q(M):q(M,F)}},D=N(g),P=N((q,F)=>{sj(q);const M=zm({style:S,timeout:x,easing:c},{mode:"enter"});q.style.webkitTransition=r.transitions.create("opacity",M),q.style.transition=r.transitions.create("opacity",M),h&&h(q,F)}),L=N(m),T=N(w),B=N(q=>{const F=zm({style:S,timeout:x,easing:c},{mode:"exit"});q.style.webkitTransition=r.transitions.create("opacity",F),q.style.transition=r.transitions.create("opacity",F),b&&b(q)}),Z=N(v),ne=q=>{i&&i(O.current,q)};return I.jsx(C,{appear:o,in:f,nodeRef:O,onEnter:P,onEntered:L,onEntering:D,onExit:B,onExited:Z,onExiting:T,addEndListener:ne,timeout:x,...E,children:(q,{ownerState:F,...M})=>R.cloneElement(u,{style:{opacity:0,visibility:q==="exited"&&!f?"hidden":void 0,...H6[q],...S,...u.props.style},ref:A,...M})})});function G6(t){return et("MuiBackdrop",t)}tt("MuiBackdrop",["root","invisible"]);const W6=t=>{const{classes:e,invisible:n}=t;return nt({root:["root",n&&"invisible"]},G6,e)},Z6=he("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),K6=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiBackdrop"}),{children:a,className:i,component:o="div",invisible:u=!1,open:c,components:f={},componentsProps:h={},slotProps:m={},slots:g={},TransitionComponent:b,transitionDuration:v,...w}=r,S={...r,component:o,invisible:u},x=W6(S),C={transition:b,root:f.Root,...g},E={...h,...m},O={slots:C,slotProps:E},[A,N]=Dt("root",{elementType:Z6,externalForwardedProps:O,className:Se(x.root,i),ownerState:S}),[D,P]=Dt("transition",{elementType:q6,externalForwardedProps:O,ownerState:S});return I.jsx(D,{in:c,timeout:v,...w,...P,children:I.jsx(A,{"aria-hidden":!0,...N,classes:x,ref:n,children:a})})}),Y6=tt("MuiBox",["root"]),X6=jg(),ht=k5({themeId:ri,defaultTheme:X6,defaultClassName:Y6.root,generateClassName:NI.generate});function J6(t){return et("MuiButton",t)}const Eo=tt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),fj=R.createContext({}),hj=R.createContext(void 0),Q6=t=>{const{color:e,disableElevation:n,fullWidth:r,size:a,variant:i,loading:o,loadingPosition:u,classes:c}=t,f={root:["root",o&&"loading",i,`${i}${de(e)}`,`size${de(a)}`,`${i}Size${de(a)}`,`color${de(e)}`,n&&"disableElevation",r&&"fullWidth",o&&`loadingPosition${de(u)}`],startIcon:["icon","startIcon",`iconSize${de(a)}`],endIcon:["icon","endIcon",`iconSize${de(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=nt(f,J6,c);return{...c,...h}},pj=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],eV=he(Ru,{shouldForwardProp:t=>Ma(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${de(n.color)}`],e[`size${de(n.size)}`],e[`${n.variant}Size${de(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth,n.loading&&e.loading]}})(xt(({theme:t})=>{const e=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],n=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Eo.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${Eo.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${Eo.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Eo.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(fr()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(t.vars||t).palette[r].main,"--variant-outlinedColor":(t.vars||t).palette[r].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[r].mainChannel} / 0.5)`:fn(t.palette[r].main,.5),"--variant-containedColor":(t.vars||t).palette[r].contrastText,"--variant-containedBg":(t.vars||t).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[r].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:fn(t.palette[r].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[r].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[r].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:fn(t.palette[r].main,t.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:fn(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:fn(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Eo.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Eo.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${Eo.loading}`]:{color:"transparent"}}}]}})),tV=he("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,n.loading&&e.startIconLoadingStart,e[`iconSize${de(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...pj]})),nV=he("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,n.loading&&e.endIconLoadingEnd,e[`iconSize${de(n.size)}`]]}})(({theme:t})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...pj]})),rV=he("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),EA=he("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Hi=R.forwardRef(function(e,n){const r=R.useContext(fj),a=R.useContext(hj),i=af(r,e),o=rt({props:i,name:"MuiButton"}),{children:u,color:c="primary",component:f="button",className:h,disabled:m=!1,disableElevation:g=!1,disableFocusRipple:b=!1,endIcon:v,focusVisibleClassName:w,fullWidth:S=!1,id:x,loading:C=null,loadingIndicator:E,loadingPosition:O="center",size:A="medium",startIcon:N,type:D,variant:P="text",...L}=o,T=Mg(x),B=E??I.jsx(Yf,{"aria-labelledby":T,color:"inherit",size:16}),Z={...o,color:c,component:f,disabled:m,disableElevation:g,disableFocusRipple:b,fullWidth:S,loading:C,loadingIndicator:B,loadingPosition:O,size:A,type:D,variant:P},ne=Q6(Z),q=(N||C&&O==="start")&&I.jsx(tV,{className:ne.startIcon,ownerState:Z,children:N||I.jsx(EA,{className:ne.loadingIconPlaceholder,ownerState:Z})}),F=(v||C&&O==="end")&&I.jsx(nV,{className:ne.endIcon,ownerState:Z,children:v||I.jsx(EA,{className:ne.loadingIconPlaceholder,ownerState:Z})}),M=a||"",z=typeof C=="boolean"?I.jsx("span",{className:ne.loadingWrapper,style:{display:"contents"},children:C&&I.jsx(rV,{className:ne.loadingIndicator,ownerState:Z,children:B})}):null;return I.jsxs(eV,{ownerState:Z,className:Se(r.className,ne.root,h,M),component:f,disabled:m||C,focusRipple:!b,focusVisibleClassName:Se(ne.focusVisible,w),ref:n,type:D,id:C?T:x,...L,classes:ne,children:[q,O!=="end"&&z,u,O==="end"&&z,F]})});function aV(t){return R.Children.toArray(t).filter(e=>R.isValidElement(e))}function iV(t){return et("MuiButtonGroup",t)}const Ze=tt("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","horizontal","vertical","colorPrimary","colorSecondary","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),sV=(t,e)=>{const{ownerState:n}=t;return[{[`& .${Ze.grouped}`]:e.grouped},{[`& .${Ze.grouped}`]:e[`grouped${de(n.orientation)}`]},{[`& .${Ze.grouped}`]:e[`grouped${de(n.variant)}`]},{[`& .${Ze.grouped}`]:e[`grouped${de(n.variant)}${de(n.orientation)}`]},{[`& .${Ze.grouped}`]:e[`grouped${de(n.variant)}${de(n.color)}`]},{[`& .${Ze.firstButton}`]:e.firstButton},{[`& .${Ze.lastButton}`]:e.lastButton},{[`& .${Ze.middleButton}`]:e.middleButton},e.root,e[n.variant],n.disableElevation===!0&&e.disableElevation,n.fullWidth&&e.fullWidth,n.orientation==="vertical"&&e.vertical]},oV=t=>{const{classes:e,color:n,disabled:r,disableElevation:a,fullWidth:i,orientation:o,variant:u}=t,c={root:["root",u,o,i&&"fullWidth",a&&"disableElevation",`color${de(n)}`],grouped:["grouped",`grouped${de(o)}`,`grouped${de(u)}`,`grouped${de(u)}${de(o)}`,`grouped${de(u)}${de(n)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return nt(c,iV,e)},lV=he("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:sV})(xt(({theme:t})=>({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{variant:"contained"},style:{boxShadow:(t.vars||t).shadows[2]}},{props:{disableElevation:!0},style:{boxShadow:"none"}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${Ze.lastButton},& .${Ze.middleButton}`]:{borderTopRightRadius:0,borderTopLeftRadius:0},[`& .${Ze.firstButton},& .${Ze.middleButton}`]:{borderBottomRightRadius:0,borderBottomLeftRadius:0}}},{props:{orientation:"horizontal"},style:{[`& .${Ze.firstButton},& .${Ze.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${Ze.lastButton},& .${Ze.middleButton}`]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},{props:{variant:"text",orientation:"horizontal"},style:{[`& .${Ze.firstButton},& .${Ze.middleButton}`]:{borderRight:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Ze.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},{props:{variant:"text",orientation:"vertical"},style:{[`& .${Ze.firstButton},& .${Ze.middleButton}`]:{borderBottom:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Ze.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},...Object.entries(t.palette).filter(fr()).flatMap(([e])=>[{props:{variant:"text",color:e},style:{[`& .${Ze.firstButton},& .${Ze.middleButton}`]:{borderColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / 0.5)`:fn(t.palette[e].main,.5)}}}]),{props:{variant:"outlined",orientation:"horizontal"},style:{[`& .${Ze.firstButton},& .${Ze.middleButton}`]:{borderRightColor:"transparent","&:hover":{borderRightColor:"currentColor"}},[`& .${Ze.lastButton},& .${Ze.middleButton}`]:{marginLeft:-1}}},{props:{variant:"outlined",orientation:"vertical"},style:{[`& .${Ze.firstButton},& .${Ze.middleButton}`]:{borderBottomColor:"transparent","&:hover":{borderBottomColor:"currentColor"}},[`& .${Ze.lastButton},& .${Ze.middleButton}`]:{marginTop:-1}}},{props:{variant:"contained",orientation:"horizontal"},style:{[`& .${Ze.firstButton},& .${Ze.middleButton}`]:{borderRight:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${Ze.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},{props:{variant:"contained",orientation:"vertical"},style:{[`& .${Ze.firstButton},& .${Ze.middleButton}`]:{borderBottom:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${Ze.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},...Object.entries(t.palette).filter(fr(["dark"])).map(([e])=>({props:{variant:"contained",color:e},style:{[`& .${Ze.firstButton},& .${Ze.middleButton}`]:{borderColor:(t.vars||t).palette[e].dark}}}))],[`& .${Ze.grouped}`]:{minWidth:40,boxShadow:"none",props:{variant:"contained"},style:{"&:hover":{boxShadow:"none"}}}}))),uV=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiButtonGroup"}),{children:a,className:i,color:o="primary",component:u="div",disabled:c=!1,disableElevation:f=!1,disableFocusRipple:h=!1,disableRipple:m=!1,fullWidth:g=!1,orientation:b="horizontal",size:v="medium",variant:w="outlined",...S}=r,x={...r,color:o,component:u,disabled:c,disableElevation:f,disableFocusRipple:h,disableRipple:m,fullWidth:g,orientation:b,size:v,variant:w},C=oV(x),E=R.useMemo(()=>({className:C.grouped,color:o,disabled:c,disableElevation:f,disableFocusRipple:h,disableRipple:m,fullWidth:g,size:v,variant:w}),[o,c,f,h,m,g,v,w,C.grouped]),O=aV(a),A=O.length,N=D=>{const P=D===0,L=D===A-1;return P&&L?"":P?C.firstButton:L?C.lastButton:C.middleButton};return I.jsx(lV,{as:u,role:"group",className:Se(C.root,i),ref:n,ownerState:x,...S,children:I.jsx(fj.Provider,{value:E,children:O.map((D,P)=>I.jsx(hj.Provider,{value:N(P),children:D},P))})})});function cV(t){return et("MuiCard",t)}tt("MuiCard",["root"]);const dV=t=>{const{classes:e}=t;return nt({root:["root"]},cV,e)},fV=he(Xi,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),hV=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiCard"}),{className:a,raised:i=!1,...o}=r,u={...r,raised:i},c=dV(u);return I.jsx(fV,{className:Se(c.root,a),elevation:i?8:void 0,ref:n,ownerState:u,...o})});function pV(t){return et("MuiCardContent",t)}tt("MuiCardContent",["root"]);const mV=t=>{const{classes:e}=t;return nt({root:["root"]},pV,e)},gV=he("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),yV=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiCardContent"}),{className:a,component:i="div",...o}=r,u={...r,component:i},c=mV(u);return I.jsx(gV,{as:i,className:Se(c.root,a),ownerState:u,ref:n,...o})});function bV(t){return et("MuiCardMedia",t)}tt("MuiCardMedia",["root","media","img"]);const vV=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return nt({root:["root",n&&"media",r&&"img"]},bV,e)},_V=he("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:a}=n;return[e.root,r&&e.media,a&&e.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),wV=["video","audio","picture","iframe","img"],SV=["picture","img"],xV=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiCardMedia"}),{children:a,className:i,component:o="div",image:u,src:c,style:f,...h}=r,m=wV.includes(o),g=!m&&u?{backgroundImage:`url("${u}")`,...f}:f,b={...r,component:o,isMediaComponent:m,isImageComponent:SV.includes(o)},v=vV(b);return I.jsx(_V,{className:Se(v.root,i),as:o,role:!m&&u?"img":void 0,ref:n,style:g,ownerState:b,src:m?u||c:void 0,...h,children:a})}),DS=yz({createStyledComponent:he("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${de(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>rt({props:t,name:"MuiContainer"})});function mj(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function EV(t){const e=da(t);return e.body===t?Ia(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Ld(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function TA(t){return parseInt(Ia(t).getComputedStyle(t).paddingRight,10)||0}function TV(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function CA(t,e,n,r,a){const i=[e,n,...r];[].forEach.call(t.children,o=>{const u=!i.includes(o),c=!TV(o);u&&c&&Ld(o,a)})}function zv(t,e){let n=-1;return t.some((r,a)=>e(r)?(n=a,!0):!1),n}function CV(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(EV(r)){const o=mj(Ia(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${TA(r)+o}px`;const u=da(r).querySelectorAll(".mui-fixed");[].forEach.call(u,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${TA(c)+o}px`})}let i;if(r.parentNode instanceof DocumentFragment)i=da(r).body;else{const o=r.parentElement,u=Ia(r);i=(o==null?void 0:o.nodeName)==="HTML"&&u.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach(({value:i,el:o,property:u})=>{i?o.style.setProperty(u,i):o.style.removeProperty(u)})}}function RV(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class AV{constructor(){this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Ld(e.modalRef,!1);const a=RV(n);CA(n,e.mount,e.modalRef,a,!0);const i=zv(this.containers,o=>o.container===n);return i!==-1?(this.containers[i].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:a}),r)}mount(e,n){const r=zv(this.containers,i=>i.modals.includes(e)),a=this.containers[r];a.restore||(a.restore=CV(a,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const a=zv(this.containers,o=>o.modals.includes(e)),i=this.containers[a];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(r,1),i.modals.length===0)i.restore&&i.restore(),e.modalRef&&Ld(e.modalRef,n),CA(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(a,1);else{const o=i.modals[i.modals.length-1];o.modalRef&&Ld(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const OV=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function kV(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function PV(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function $V(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||PV(t))}function IV(t){const e=[],n=[];return Array.from(t.querySelectorAll(OV)).forEach((r,a)=>{const i=kV(r);i===-1||!$V(r)||(i===0?e.push(r):n.push({documentOrder:a,tabIndex:i,node:r}))}),n.sort((r,a)=>r.tabIndex===a.tabIndex?r.documentOrder-a.documentOrder:r.tabIndex-a.tabIndex).map(r=>r.node).concat(e)}function jV(){return!0}function NV(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:a=!1,getTabbable:i=IV,isEnabled:o=jV,open:u}=t,c=R.useRef(!1),f=R.useRef(null),h=R.useRef(null),m=R.useRef(null),g=R.useRef(null),b=R.useRef(!1),v=R.useRef(null),w=sr(Xf(e),v),S=R.useRef(null);R.useEffect(()=>{!u||!v.current||(b.current=!n)},[n,u]),R.useEffect(()=>{if(!u||!v.current)return;const E=da(v.current);return v.current.contains(E.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),b.current&&v.current.focus()),()=>{a||(m.current&&m.current.focus&&(c.current=!0,m.current.focus()),m.current=null)}},[u]),R.useEffect(()=>{if(!u||!v.current)return;const E=da(v.current),O=D=>{S.current=D,!(r||!o()||D.key!=="Tab")&&E.activeElement===v.current&&D.shiftKey&&(c.current=!0,h.current&&h.current.focus())},A=()=>{var L,T;const D=v.current;if(D===null)return;if(!E.hasFocus()||!o()||c.current){c.current=!1;return}if(D.contains(E.activeElement)||r&&E.activeElement!==f.current&&E.activeElement!==h.current)return;if(E.activeElement!==g.current)g.current=null;else if(g.current!==null)return;if(!b.current)return;let P=[];if((E.activeElement===f.current||E.activeElement===h.current)&&(P=i(v.current)),P.length>0){const B=!!((L=S.current)!=null&&L.shiftKey&&((T=S.current)==null?void 0:T.key)==="Tab"),Z=P[0],ne=P[P.length-1];typeof Z!="string"&&typeof ne!="string"&&(B?ne.focus():Z.focus())}else D.focus()};E.addEventListener("focusin",A),E.addEventListener("keydown",O,!0);const N=setInterval(()=>{E.activeElement&&E.activeElement.tagName==="BODY"&&A()},50);return()=>{clearInterval(N),E.removeEventListener("focusin",A),E.removeEventListener("keydown",O,!0)}},[n,r,a,o,u,i]);const x=E=>{m.current===null&&(m.current=E.relatedTarget),b.current=!0,g.current=E.target;const O=e.props.onFocus;O&&O(E)},C=E=>{m.current===null&&(m.current=E.relatedTarget),b.current=!0};return I.jsxs(R.Fragment,{children:[I.jsx("div",{tabIndex:u?0:-1,onFocus:C,ref:f,"data-testid":"sentinelStart"}),R.cloneElement(e,{ref:w,onFocus:x}),I.jsx("div",{tabIndex:u?0:-1,onFocus:C,ref:h,"data-testid":"sentinelEnd"})]})}function MV(t){return typeof t=="function"?t():t}function LV(t){return t?t.props.hasOwnProperty("in"):!1}const RA=()=>{},Lp=new AV;function DV(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:a=!1,onTransitionEnter:i,onTransitionExited:o,children:u,onClose:c,open:f,rootRef:h}=t,m=R.useRef({}),g=R.useRef(null),b=R.useRef(null),v=sr(b,h),[w,S]=R.useState(!f),x=LV(u);let C=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(C=!1);const E=()=>da(g.current),O=()=>(m.current.modalRef=b.current,m.current.mount=g.current,m.current),A=()=>{Lp.mount(O(),{disableScrollLock:r}),b.current&&(b.current.scrollTop=0)},N=ii(()=>{const F=MV(e)||E().body;Lp.add(O(),F),b.current&&A()}),D=()=>Lp.isTopModal(O()),P=ii(F=>{g.current=F,F&&(f&&D()?A():b.current&&Ld(b.current,C))}),L=R.useCallback(()=>{Lp.remove(O(),C)},[C]);R.useEffect(()=>()=>{L()},[L]),R.useEffect(()=>{f?N():(!x||!a)&&L()},[f,L,x,a,N]);const T=F=>M=>{var z;(z=F.onKeyDown)==null||z.call(F,M),!(M.key!=="Escape"||M.which===229||!D())&&(n||(M.stopPropagation(),c&&c(M,"escapeKeyDown")))},B=F=>M=>{var z;(z=F.onClick)==null||z.call(F,M),M.target===M.currentTarget&&c&&c(M,"backdropClick")};return{getRootProps:(F={})=>{const M=uj(t);delete M.onTransitionEnter,delete M.onTransitionExited;const z={...M,...F};return{role:"presentation",...z,onKeyDown:T(z),ref:v}},getBackdropProps:(F={})=>{const M=F;return{"aria-hidden":!0,...M,onClick:B(M),open:f}},getTransitionProps:()=>{const F=()=>{S(!1),i&&i()},M=()=>{S(!0),o&&o(),a&&L()};return{onEnter:sA(F,(u==null?void 0:u.props.onEnter)??RA),onExited:sA(M,(u==null?void 0:u.props.onExited)??RA)}},rootRef:v,portalRef:P,isTopModal:D,exited:w,hasTransition:x}}function BV(t){return et("MuiModal",t)}tt("MuiModal",["root","hidden","backdrop"]);const UV=t=>{const{open:e,exited:n,classes:r}=t;return nt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},BV,r)},zV=he("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(xt(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),FV=he(K6,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),VV=R.forwardRef(function(e,n){const r=rt({name:"MuiModal",props:e}),{BackdropComponent:a=FV,BackdropProps:i,classes:o,className:u,closeAfterTransition:c=!1,children:f,container:h,component:m,components:g={},componentsProps:b={},disableAutoFocus:v=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:S=!1,disablePortal:x=!1,disableRestoreFocus:C=!1,disableScrollLock:E=!1,hideBackdrop:O=!1,keepMounted:A=!1,onClose:N,onTransitionEnter:D,onTransitionExited:P,open:L,slotProps:T={},slots:B={},theme:Z,...ne}=r,q={...r,closeAfterTransition:c,disableAutoFocus:v,disableEnforceFocus:w,disableEscapeKeyDown:S,disablePortal:x,disableRestoreFocus:C,disableScrollLock:E,hideBackdrop:O,keepMounted:A},{getRootProps:F,getBackdropProps:M,getTransitionProps:z,portalRef:K,isTopModal:V,exited:j,hasTransition:G}=DV({...q,rootRef:n}),J={...q,exited:j},Q=UV(J),le={};if(f.props.tabIndex===void 0&&(le.tabIndex="-1"),G){const{onEnter:ye,onExited:Me}=z();le.onEnter=ye,le.onExited=Me}const ce={slots:{root:g.Root,backdrop:g.Backdrop,...B},slotProps:{...b,...T}},[fe,Ae]=Dt("root",{ref:n,elementType:zV,externalForwardedProps:{...ce,...ne,component:m},getSlotProps:F,ownerState:J,className:Se(u,Q==null?void 0:Q.root,!J.open&&J.exited&&(Q==null?void 0:Q.hidden))}),[Ee,Oe]=Dt("backdrop",{ref:i==null?void 0:i.ref,elementType:a,externalForwardedProps:ce,shouldForwardComponentProp:!0,additionalProps:i,getSlotProps:ye=>M({...ye,onClick:Me=>{ye!=null&&ye.onClick&&ye.onClick(Me)}}),className:Se(i==null?void 0:i.className,Q==null?void 0:Q.backdrop),ownerState:J});return!A&&!L&&(!G||j)?null:I.jsx(_6,{ref:K,container:h,disablePortal:x,children:I.jsxs(fe,{...Ae,children:[!O&&a?I.jsx(Ee,{...Oe}):null,I.jsx(NV,{disableEnforceFocus:w,disableAutoFocus:v,disableRestoreFocus:C,isEnabled:V,open:L,children:R.cloneElement(f,le)})]})})});function HV(t){return et("MuiDivider",t)}tt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const qV=t=>{const{absolute:e,children:n,classes:r,flexItem:a,light:i,orientation:o,textAlign:u,variant:c}=t;return nt({root:["root",e&&"absolute",c,i&&"light",o==="vertical"&&"vertical",a&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",u==="right"&&o!=="vertical"&&"textAlignRight",u==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},HV,r)},GV=he("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(xt(({theme:t})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:fn(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),WV=he("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(xt(({theme:t})=>({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}))),Ji=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiDivider"}),{absolute:a=!1,children:i,className:o,orientation:u="horizontal",component:c=i||u==="vertical"?"div":"hr",flexItem:f=!1,light:h=!1,role:m=c!=="hr"?"separator":void 0,textAlign:g="center",variant:b="fullWidth",...v}=r,w={...r,absolute:a,component:c,flexItem:f,light:h,orientation:u,role:m,textAlign:g,variant:b},S=qV(w);return I.jsx(GV,{as:c,className:Se(S.root,o),role:m,ref:n,ownerState:w,"aria-orientation":m==="separator"&&(c!=="hr"||u==="vertical")?u:void 0,...v,children:i?I.jsx(WV,{className:S.wrapper,ownerState:w,children:i}):null})});Ji&&(Ji.muiSkipListHighlight=!0);const ZV=t=>{const{classes:e,disableUnderline:n,startAdornment:r,endAdornment:a,size:i,hiddenLabel:o,multiline:u}=t,c={root:["root",!n&&"underline",r&&"adornedStart",a&&"adornedEnd",i==="small"&&`size${de(i)}`,o&&"hiddenLabel",u&&"multiline"],input:["input"]},f=nt(c,N6,e);return{...e,...f}},KV=he(Bg,{shouldForwardProp:t=>Ma(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Lg(t,e),!n.disableUnderline&&e.underline]}})(xt(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${xo.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${xo.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:i},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${xo.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${xo.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${xo.disabled}, .${xo.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${xo.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(fr()).map(([o])=>{var u;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(u=(t.vars||t).palette[o])==null?void 0:u.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:u})=>o.multiline&&u==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),YV=he(Ug,{name:"MuiFilledInput",slot:"Input",overridesResolver:Dg})(xt(({theme:t})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),BS=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFilledInput"}),{disableUnderline:a=!1,components:i={},componentsProps:o,fullWidth:u=!1,hiddenLabel:c,inputComponent:f="input",multiline:h=!1,slotProps:m,slots:g={},type:b="text",...v}=r,w={...r,disableUnderline:a,fullWidth:u,inputComponent:f,multiline:h,type:b},S=ZV(r),x={root:{ownerState:w},input:{ownerState:w}},C=m??o?ir(x,m??o):x,E=g.root??i.Root??KV,O=g.input??i.Input??YV;return I.jsx(LS,{slots:{root:E,input:O},slotProps:C,fullWidth:u,inputComponent:f,multiline:h,ref:n,type:b,...v,classes:S})});BS.muiName="Input";function XV(t){return et("MuiFormControl",t)}tt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const JV=t=>{const{classes:e,margin:n,fullWidth:r}=t,a={root:["root",n!=="none"&&`margin${de(n)}`,r&&"fullWidth"]};return nt(a,XV,e)},QV=he("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`margin${de(n.margin)}`],n.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),e9=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormControl"}),{children:a,className:i,color:o="primary",component:u="div",disabled:c=!1,error:f=!1,focused:h,fullWidth:m=!1,hiddenLabel:g=!1,margin:b="none",required:v=!1,size:w="medium",variant:S="outlined",...x}=r,C={...r,color:o,component:u,disabled:c,error:f,fullWidth:m,hiddenLabel:g,margin:b,required:v,size:w,variant:S},E=JV(C),[O,A]=R.useState(()=>{let F=!1;return a&&R.Children.forEach(a,M=>{if(!Md(M,["Input","Select"]))return;const z=Md(M,["Select"])?M.props.input:M;z&&k6(z.props)&&(F=!0)}),F}),[N,D]=R.useState(()=>{let F=!1;return a&&R.Children.forEach(a,M=>{Md(M,["Input","Select"])&&(Vm(M.props,!0)||Vm(M.props.inputProps,!0))&&(F=!0)}),F}),[P,L]=R.useState(!1);c&&P&&L(!1);const T=h!==void 0&&!c?h:P;let B;R.useRef(!1);const Z=R.useCallback(()=>{D(!0)},[]),ne=R.useCallback(()=>{D(!1)},[]),q=R.useMemo(()=>({adornedStart:O,setAdornedStart:A,color:o,disabled:c,error:f,filled:N,focused:T,fullWidth:m,hiddenLabel:g,size:w,onBlur:()=>{L(!1)},onFocus:()=>{L(!0)},onEmpty:ne,onFilled:Z,registerEffect:B,required:v,variant:S}),[O,o,c,f,N,T,m,g,B,ne,Z,v,w,S]);return I.jsx(MS.Provider,{value:q,children:I.jsx(QV,{as:u,ownerState:C,className:Se(E.root,i),ref:n,...x,children:a})})});function t9(t){return et("MuiFormHelperText",t)}const AA=tt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var OA;const n9=t=>{const{classes:e,contained:n,size:r,disabled:a,error:i,filled:o,focused:u,required:c}=t,f={root:["root",a&&"disabled",i&&"error",r&&`size${de(r)}`,n&&"contained",u&&"focused",o&&"filled",c&&"required"]};return nt(f,t9,e)},r9=he("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${de(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(xt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${AA.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${AA.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),a9=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormHelperText"}),{children:a,className:i,component:o="p",disabled:u,error:c,filled:f,focused:h,margin:m,required:g,variant:b,...v}=r,w=Hu(),S=Vu({props:r,muiFormControl:w,states:["variant","size","disabled","error","filled","focused","required"]}),x={...r,component:o,contained:S.variant==="filled"||S.variant==="outlined",variant:S.variant,size:S.size,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required};delete x.ownerState;const C=n9(x);return I.jsx(r9,{as:o,className:Se(C.root,i),ref:n,...v,ownerState:x,children:a===" "?OA||(OA=I.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):a})});function i9(t){return et("MuiFormLabel",t)}const Dd=tt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),s9=t=>{const{classes:e,color:n,focused:r,disabled:a,error:i,filled:o,required:u}=t,c={root:["root",`color${de(n)}`,a&&"disabled",i&&"error",o&&"filled",r&&"focused",u&&"required"],asterisk:["asterisk",i&&"error"]};return nt(c,i9,e)},o9=he("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color==="secondary"&&e.colorSecondary,n.filled&&e.filled]}})(xt(({theme:t})=>({color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(fr()).map(([e])=>({props:{color:e},style:{[`&.${Dd.focused}`]:{color:(t.vars||t).palette[e].main}}})),{props:{},style:{[`&.${Dd.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Dd.error}`]:{color:(t.vars||t).palette.error.main}}}]}))),l9=he("span",{name:"MuiFormLabel",slot:"Asterisk"})(xt(({theme:t})=>({[`&.${Dd.error}`]:{color:(t.vars||t).palette.error.main}}))),u9=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormLabel"}),{children:a,className:i,color:o,component:u="label",disabled:c,error:f,filled:h,focused:m,required:g,...b}=r,v=Hu(),w=Vu({props:r,muiFormControl:v,states:["color","required","focused","disabled","error","filled"]}),S={...r,color:w.color||"primary",component:u,disabled:w.disabled,error:w.error,filled:w.filled,focused:w.focused,required:w.required},x=s9(S);return I.jsxs(o9,{as:u,ownerState:S,className:Se(x.root,i),ref:n,...b,children:[a,w.required&&I.jsxs(l9,{ownerState:S,"aria-hidden":!0,className:x.asterisk,children:[" ","*"]})]})}),US=Iz({createStyledComponent:he("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:t=>rt({props:t,name:"MuiGrid"}),useTheme:Kf});function ew(t){return`scale(${t}, ${t**2})`}const c9={entering:{opacity:1,transform:ew(1)},entered:{opacity:1,transform:"none"}},Fv=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),tw=R.forwardRef(function(e,n){const{addEndListener:r,appear:a=!0,children:i,easing:o,in:u,onEnter:c,onEntered:f,onEntering:h,onExit:m,onExited:g,onExiting:b,style:v,timeout:w="auto",TransitionComponent:S=mi,...x}=e,C=ij(),E=R.useRef(),O=Kf(),A=R.useRef(null),N=sr(A,Xf(i),n),D=F=>M=>{if(F){const z=A.current;M===void 0?F(z):F(z,M)}},P=D(h),L=D((F,M)=>{sj(F);const{duration:z,delay:K,easing:V}=zm({style:v,timeout:w,easing:o},{mode:"enter"});let j;w==="auto"?(j=O.transitions.getAutoHeightDuration(F.clientHeight),E.current=j):j=z,F.style.transition=[O.transitions.create("opacity",{duration:j,delay:K}),O.transitions.create("transform",{duration:Fv?j:j*.666,delay:K,easing:V})].join(","),c&&c(F,M)}),T=D(f),B=D(b),Z=D(F=>{const{duration:M,delay:z,easing:K}=zm({style:v,timeout:w,easing:o},{mode:"exit"});let V;w==="auto"?(V=O.transitions.getAutoHeightDuration(F.clientHeight),E.current=V):V=M,F.style.transition=[O.transitions.create("opacity",{duration:V,delay:z}),O.transitions.create("transform",{duration:Fv?V:V*.666,delay:Fv?z:z||V*.333,easing:K})].join(","),F.style.opacity=0,F.style.transform=ew(.75),m&&m(F)}),ne=D(g),q=F=>{w==="auto"&&C.start(E.current||0,F),r&&r(A.current,F)};return I.jsx(S,{appear:a,in:u,nodeRef:A,onEnter:L,onEntered:T,onEntering:P,onExit:Z,onExited:ne,onExiting:B,addEndListener:q,timeout:w==="auto"?null:w,...x,children:(F,{ownerState:M,...z})=>R.cloneElement(i,{style:{opacity:0,transform:ew(.75),visibility:F==="exited"&&!u?"hidden":void 0,...c9[F],...v,...i.props.style},ref:N,...z})})});tw&&(tw.muiSupportAuto=!0);const d9=t=>{const{classes:e,disableUnderline:n}=t,a=nt({root:["root",!n&&"underline"],input:["input"]},I6,e);return{...e,...a}},f9=he(Bg,{shouldForwardProp:t=>Ma(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Lg(t,e),!n.disableUnderline&&e.underline]}})(xt(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ld.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ld.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ld.disabled}, .${ld.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${ld.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(fr()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}}))]}})),h9=he(Ug,{name:"MuiInput",slot:"Input",overridesResolver:Dg})({}),zS=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiInput"}),{disableUnderline:a=!1,components:i={},componentsProps:o,fullWidth:u=!1,inputComponent:c="input",multiline:f=!1,slotProps:h,slots:m={},type:g="text",...b}=r,v=d9(r),S={root:{ownerState:{disableUnderline:a}}},x=h??o?ir(h??o,S):S,C=m.root??i.Root??f9,E=m.input??i.Input??h9;return I.jsx(LS,{slots:{root:C,input:E},slotProps:x,fullWidth:u,inputComponent:c,multiline:f,ref:n,type:g,...b,classes:v})});zS.muiName="Input";function p9(t){return et("MuiInputLabel",t)}tt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const m9=t=>{const{classes:e,formControl:n,size:r,shrink:a,disableAnimation:i,variant:o,required:u}=t,c={root:["root",n&&"formControl",!i&&"animated",a&&"shrink",r&&r!=="medium"&&`size${de(r)}`,o],asterisk:[u&&"asterisk"]},f=nt(c,p9,e);return{...e,...f}},g9=he(u9,{shouldForwardProp:t=>Ma(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Dd.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(xt(({theme:t})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:n,size:r})=>e==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:n})=>e==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),y9=R.forwardRef(function(e,n){const r=rt({name:"MuiInputLabel",props:e}),{disableAnimation:a=!1,margin:i,shrink:o,variant:u,className:c,...f}=r,h=Hu();let m=o;typeof m>"u"&&h&&(m=h.filled||h.focused||h.adornedStart);const g=Vu({props:r,muiFormControl:h,states:["size","variant","required","focused"]}),b={...r,disableAnimation:a,formControl:h,shrink:m,size:g.size,variant:g.variant,required:g.required,focused:g.focused},v=m9(b);return I.jsx(g9,{"data-shrink":m,ref:n,className:Se(v.root,c),...f,ownerState:b,classes:v})}),_u=R.createContext({});function b9(t){return et("MuiList",t)}tt("MuiList",["root","padding","dense","subheader"]);const v9=t=>{const{classes:e,disablePadding:n,dense:r,subheader:a}=t;return nt({root:["root",!n&&"padding",r&&"dense",a&&"subheader"]},b9,e)},_9=he("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),FS=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiList"}),{children:a,className:i,component:o="ul",dense:u=!1,disablePadding:c=!1,subheader:f,...h}=r,m=R.useMemo(()=>({dense:u}),[u]),g={...r,component:o,dense:u,disablePadding:c},b=v9(g);return I.jsx(_u.Provider,{value:m,children:I.jsxs(_9,{as:o,className:Se(b.root,i),ref:n,ownerState:g,...h,children:[f,a]})})});function w9(t){return et("MuiListItem",t)}tt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const S9=tt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function x9(t){return et("MuiListItemSecondaryAction",t)}tt("MuiListItemSecondaryAction",["root","disableGutters"]);const E9=t=>{const{disableGutters:e,classes:n}=t;return nt({root:["root",e&&"disableGutters"]},x9,n)},T9=he("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),gj=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiListItemSecondaryAction"}),{className:a,...i}=r,o=R.useContext(_u),u={...r,disableGutters:o.disableGutters},c=E9(u);return I.jsx(T9,{className:Se(c.root,a),ownerState:u,ref:n,...i})});gj.muiName="ListItemSecondaryAction";const C9=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.hasSecondaryAction&&e.secondaryAction]},R9=t=>{const{alignItems:e,classes:n,dense:r,disableGutters:a,disablePadding:i,divider:o,hasSecondaryAction:u}=t;return nt({root:["root",r&&"dense",!a&&"gutters",!i&&"padding",o&&"divider",e==="flex-start"&&"alignItemsFlexStart",u&&"secondaryAction"],container:["container"]},w9,n)},A9=he("div",{name:"MuiListItem",slot:"Root",overridesResolver:C9})(xt(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${S9.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),O9=he("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),yj=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiListItem"}),{alignItems:a="center",children:i,className:o,component:u,components:c={},componentsProps:f={},ContainerComponent:h="li",ContainerProps:{className:m,...g}={},dense:b=!1,disableGutters:v=!1,disablePadding:w=!1,divider:S=!1,secondaryAction:x,slotProps:C={},slots:E={},...O}=r,A=R.useContext(_u),N=R.useMemo(()=>({dense:b||A.dense||!1,alignItems:a,disableGutters:v}),[a,A.dense,b,v]),D=R.useRef(null),P=R.Children.toArray(i),L=P.length&&Md(P[P.length-1],["ListItemSecondaryAction"]),T={...r,alignItems:a,dense:N.dense,disableGutters:v,disablePadding:w,divider:S,hasSecondaryAction:L},B=R9(T),Z=sr(D,n),ne=E.root||c.Root||A9,q=C.root||f.root||{},F={className:Se(B.root,q.className,o),...O};let M=u||"li";return L?(M=!F.component&&!u?"div":M,h==="li"&&(M==="li"?M="div":F.component==="li"&&(F.component="div")),I.jsx(_u.Provider,{value:N,children:I.jsxs(O9,{as:h,className:Se(B.container,m),ref:Z,ownerState:T,...g,children:[I.jsx(ne,{...q,...!lf(ne)&&{as:M,ownerState:{...T,...q.ownerState}},...F,children:P}),P.pop()]})})):I.jsx(_u.Provider,{value:N,children:I.jsxs(ne,{...q,as:M,ref:Z,...!lf(ne)&&{ownerState:{...T,...q.ownerState}},...F,children:[P,x&&I.jsx(gj,{children:x})]})})});function k9(t){return et("MuiListItemText",t)}const Dp=tt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),P9=t=>{const{classes:e,inset:n,primary:r,secondary:a,dense:i}=t;return nt({root:["root",n&&"inset",i&&"dense",r&&a&&"multiline"],primary:["primary"],secondary:["secondary"]},k9,e)},$9=he("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Dp.primary}`]:e.primary},{[`& .${Dp.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${gA.root}:where(& .${Dp.primary})`]:{display:"block"},[`.${gA.root}:where(& .${Dp.secondary})`]:{display:"block"},variants:[{props:({ownerState:t})=>t.primary&&t.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:56}}]}),bj=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiListItemText"}),{children:a,className:i,disableTypography:o=!1,inset:u=!1,primary:c,primaryTypographyProps:f,secondary:h,secondaryTypographyProps:m,slots:g={},slotProps:b={},...v}=r,{dense:w}=R.useContext(_u);let S=c??a,x=h;const C={...r,disableTypography:o,inset:u,primary:!!S,secondary:!!x,dense:w},E=P9(C),O={slots:g,slotProps:{primary:f,secondary:m,...b}},[A,N]=Dt("root",{className:Se(E.root,i),elementType:$9,externalForwardedProps:{...O,...v},ownerState:C,ref:n}),[D,P]=Dt("primary",{className:E.primary,elementType:$t,externalForwardedProps:O,ownerState:C}),[L,T]=Dt("secondary",{className:E.secondary,elementType:$t,externalForwardedProps:O,ownerState:C});return S!=null&&S.type!==$t&&!o&&(S=I.jsx(D,{variant:w?"body2":"body1",component:P!=null&&P.variant?void 0:"span",...P,children:S})),x!=null&&x.type!==$t&&!o&&(x=I.jsx(L,{variant:"body2",color:"textSecondary",...T,children:x})),I.jsxs(A,{...N,children:[S,x]})});function Vv(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function kA(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function vj(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.startsWith(e.keys.join(""))}function ud(t,e,n,r,a,i){let o=!1,u=a(t,e,e?n:!1);for(;u;){if(u===t.firstChild){if(o)return!1;o=!0}const c=r?!1:u.disabled||u.getAttribute("aria-disabled")==="true";if(!u.hasAttribute("tabindex")||!vj(u,i)||c)u=a(t,u,n);else return u.focus(),!0}return!1}const I9=R.forwardRef(function(e,n){const{actions:r,autoFocus:a=!1,autoFocusItem:i=!1,children:o,className:u,disabledItemsFocusable:c=!1,disableListWrap:f=!1,onKeyDown:h,variant:m="selectedMenu",...g}=e,b=R.useRef(null),v=R.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Yi(()=>{a&&b.current.focus()},[a]),R.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(E,{direction:O})=>{const A=!b.current.style.width;if(E.clientHeight<b.current.clientHeight&&A){const N=`${mj(Ia(E))}px`;b.current.style[O==="rtl"?"paddingLeft":"paddingRight"]=N,b.current.style.width=`calc(100% + ${N})`}return b.current}}),[]);const w=E=>{const O=b.current,A=E.key;if(E.ctrlKey||E.metaKey||E.altKey){h&&h(E);return}const D=da(O).activeElement;if(A==="ArrowDown")E.preventDefault(),ud(O,D,f,c,Vv);else if(A==="ArrowUp")E.preventDefault(),ud(O,D,f,c,kA);else if(A==="Home")E.preventDefault(),ud(O,null,f,c,Vv);else if(A==="End")E.preventDefault(),ud(O,null,f,c,kA);else if(A.length===1){const P=v.current,L=A.toLowerCase(),T=performance.now();P.keys.length>0&&(T-P.lastTime>500?(P.keys=[],P.repeating=!0,P.previousKeyMatched=!0):P.repeating&&L!==P.keys[0]&&(P.repeating=!1)),P.lastTime=T,P.keys.push(L);const B=D&&!P.repeating&&vj(D,P);P.previousKeyMatched&&(B||ud(O,D,!1,c,Vv,P))?E.preventDefault():P.previousKeyMatched=!1}h&&h(E)},S=sr(b,n);let x=-1;R.Children.forEach(o,(E,O)=>{if(!R.isValidElement(E)){x===O&&(x+=1,x>=o.length&&(x=-1));return}E.props.disabled||(m==="selectedMenu"&&E.props.selected||x===-1)&&(x=O),x===O&&(E.props.disabled||E.props.muiSkipListHighlight||E.type.muiSkipListHighlight)&&(x+=1,x>=o.length&&(x=-1))});const C=R.Children.map(o,(E,O)=>{if(O===x){const A={};return i&&(A.autoFocus=!0),E.props.tabIndex===void 0&&m==="selectedMenu"&&(A.tabIndex=0),R.cloneElement(E,A)}return E});return I.jsx(FS,{role:"menu",ref:S,className:u,onKeyDown:w,tabIndex:a?0:-1,...g,children:C})});function j9(t){return et("MuiPopover",t)}tt("MuiPopover",["root","paper"]);function PA(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function $A(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function IA(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Bp(t){return typeof t=="function"?t():t}const N9=t=>{const{classes:e}=t;return nt({root:["root"],paper:["paper"]},j9,e)},M9=he(VV,{name:"MuiPopover",slot:"Root"})({}),_j=he(Xi,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),L9=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiPopover"}),{action:a,anchorEl:i,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:c="anchorEl",children:f,className:h,container:m,elevation:g=8,marginThreshold:b=16,open:v,PaperProps:w={},slots:S={},slotProps:x={},transformOrigin:C={vertical:"top",horizontal:"left"},TransitionComponent:E,transitionDuration:O="auto",TransitionProps:A={},disableScrollLock:N=!1,...D}=r,P=R.useRef(),L={...r,anchorOrigin:o,anchorReference:c,elevation:g,marginThreshold:b,transformOrigin:C,TransitionComponent:E,transitionDuration:O,TransitionProps:A},T=N9(L),B=R.useCallback(()=>{if(c==="anchorPosition")return u;const ye=Bp(i),ze=(ye&&ye.nodeType===1?ye:da(P.current).body).getBoundingClientRect();return{top:ze.top+PA(ze,o.vertical),left:ze.left+$A(ze,o.horizontal)}},[i,o.horizontal,o.vertical,u,c]),Z=R.useCallback(ye=>({vertical:PA(ye,C.vertical),horizontal:$A(ye,C.horizontal)}),[C.horizontal,C.vertical]),ne=R.useCallback(ye=>{const Me={width:ye.offsetWidth,height:ye.offsetHeight},ze=Z(Me);if(c==="none")return{top:null,left:null,transformOrigin:IA(ze)};const at=B();let $e=at.top-ze.vertical,ut=at.left-ze.horizontal;const vn=$e+Me.height,Je=ut+Me.width,mt=Ia(Bp(i)),gt=mt.innerHeight-b,Ft=mt.innerWidth-b;if(b!==null&&$e<b){const ct=$e-b;$e-=ct,ze.vertical+=ct}else if(b!==null&&vn>gt){const ct=vn-gt;$e-=ct,ze.vertical+=ct}if(b!==null&&ut<b){const ct=ut-b;ut-=ct,ze.horizontal+=ct}else if(Je>Ft){const ct=Je-Ft;ut-=ct,ze.horizontal+=ct}return{top:`${Math.round($e)}px`,left:`${Math.round(ut)}px`,transformOrigin:IA(ze)}},[i,c,B,Z,b]),[q,F]=R.useState(v),M=R.useCallback(()=>{const ye=P.current;if(!ye)return;const Me=ne(ye);Me.top!==null&&ye.style.setProperty("top",Me.top),Me.left!==null&&(ye.style.left=Me.left),ye.style.transformOrigin=Me.transformOrigin,F(!0)},[ne]);R.useEffect(()=>(N&&window.addEventListener("scroll",M),()=>window.removeEventListener("scroll",M)),[i,N,M]);const z=()=>{M()},K=()=>{F(!1)};R.useEffect(()=>{v&&M()}),R.useImperativeHandle(a,()=>v?{updatePosition:()=>{M()}}:null,[v,M]),R.useEffect(()=>{if(!v)return;const ye=Ng(()=>{M()}),Me=Ia(Bp(i));return Me.addEventListener("resize",ye),()=>{ye.clear(),Me.removeEventListener("resize",ye)}},[i,v,M]);let V=O;const j={slots:{transition:E,...S},slotProps:{transition:A,paper:w,...x}},[G,J]=Dt("transition",{elementType:tw,externalForwardedProps:j,ownerState:L,getSlotProps:ye=>({...ye,onEntering:(Me,ze)=>{var at;(at=ye.onEntering)==null||at.call(ye,Me,ze),z()},onExited:Me=>{var ze;(ze=ye.onExited)==null||ze.call(ye,Me),K()}}),additionalProps:{appear:!0,in:v}});O==="auto"&&!G.muiSupportAuto&&(V=void 0);const Q=m||(i?da(Bp(i)).body:void 0),[le,{slots:ce,slotProps:fe,...Ae}]=Dt("root",{ref:n,elementType:M9,externalForwardedProps:{...j,...D},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:S.backdrop},slotProps:{backdrop:RF(typeof x.backdrop=="function"?x.backdrop(L):x.backdrop,{invisible:!0})},container:Q,open:v},ownerState:L,className:Se(T.root,h)}),[Ee,Oe]=Dt("paper",{ref:P,className:T.paper,elementType:_j,externalForwardedProps:j,shouldForwardComponentProp:!0,additionalProps:{elevation:g,style:q?void 0:{opacity:0}},ownerState:L});return I.jsx(le,{...Ae,...!lf(le)&&{slots:ce,slotProps:fe,disableScrollLock:N},children:I.jsx(G,{...J,timeout:V,children:I.jsx(Ee,{...Oe,children:f})})})});function D9(t){return et("MuiMenu",t)}tt("MuiMenu",["root","paper","list"]);const B9={vertical:"top",horizontal:"right"},U9={vertical:"top",horizontal:"left"},z9=t=>{const{classes:e}=t;return nt({root:["root"],paper:["paper"],list:["list"]},D9,e)},F9=he(L9,{shouldForwardProp:t=>Ma(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),V9=he(_j,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),H9=he(I9,{name:"MuiMenu",slot:"List"})({outline:0}),q9=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:i,className:o,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:f,open:h,PaperProps:m={},PopoverClasses:g,transitionDuration:b="auto",TransitionProps:{onEntering:v,...w}={},variant:S="selectedMenu",slots:x={},slotProps:C={},...E}=r,O=RS(),A={...r,autoFocus:a,disableAutoFocusItem:u,MenuListProps:c,onEntering:v,PaperProps:m,transitionDuration:b,TransitionProps:w,variant:S},N=z9(A),D=a&&!u&&h,P=R.useRef(null),L=(V,j)=>{P.current&&P.current.adjustStyleForScrollbar(V,{direction:O?"rtl":"ltr"}),v&&v(V,j)},T=V=>{V.key==="Tab"&&(V.preventDefault(),f&&f(V,"tabKeyDown"))};let B=-1;R.Children.map(i,(V,j)=>{R.isValidElement(V)&&(V.props.disabled||(S==="selectedMenu"&&V.props.selected||B===-1)&&(B=j))});const Z={slots:x,slotProps:{list:c,transition:w,paper:m,...C}},ne=of({elementType:x.root,externalSlotProps:C.root,ownerState:A,className:[N.root,o]}),[q,F]=Dt("paper",{className:N.paper,elementType:V9,externalForwardedProps:Z,shouldForwardComponentProp:!0,ownerState:A}),[M,z]=Dt("list",{className:Se(N.list,c.className),elementType:H9,shouldForwardComponentProp:!0,externalForwardedProps:Z,getSlotProps:V=>({...V,onKeyDown:j=>{var G;T(j),(G=V.onKeyDown)==null||G.call(V,j)}}),ownerState:A}),K=typeof Z.slotProps.transition=="function"?Z.slotProps.transition(A):Z.slotProps.transition;return I.jsx(F9,{onClose:f,anchorOrigin:{vertical:"bottom",horizontal:O?"right":"left"},transformOrigin:O?B9:U9,slots:{root:x.root,paper:q,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:ne,paper:F,backdrop:typeof C.backdrop=="function"?C.backdrop(A):C.backdrop,transition:{...K,onEntering:(...V)=>{var j;L(...V),(j=K==null?void 0:K.onEntering)==null||j.call(K,...V)}}},open:h,ref:n,transitionDuration:b,ownerState:A,...E,classes:g,children:I.jsx(M,{actions:P,autoFocus:a&&(B===-1||u),autoFocusItem:D,variant:S,...z,children:i})})});function G9(t){return et("MuiNativeSelect",t)}const VS=tt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),W9=t=>{const{classes:e,variant:n,disabled:r,multiple:a,open:i,error:o}=t,u={select:["select",n,r&&"disabled",a&&"multiple",o&&"error"],icon:["icon",`icon${de(n)}`,i&&"iconOpen",r&&"disabled"]};return nt(u,G9,e)},wj=he("select")(({theme:t})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${VS.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]})),Z9=he(wj,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ma,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${VS.multiple}`]:e.multiple}]}})({}),Sj=he("svg")(({theme:t})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${VS.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),K9=he(Sj,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${de(n.variant)}`],n.open&&e.iconOpen]}})({}),Y9=R.forwardRef(function(e,n){const{className:r,disabled:a,error:i,IconComponent:o,inputRef:u,variant:c="standard",...f}=e,h={...e,disabled:a,variant:c,error:i},m=W9(h);return I.jsxs(R.Fragment,{children:[I.jsx(Z9,{ownerState:h,className:Se(m.select,r),disabled:a,ref:u||n,...f}),e.multiple?null:I.jsx(K9,{as:o,ownerState:h,className:m.icon})]})});var jA;const X9=he("fieldset",{shouldForwardProp:Ma})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),J9=he("legend",{shouldForwardProp:Ma})(xt(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]})));function Q9(t){const{children:e,classes:n,className:r,label:a,notched:i,...o}=t,u=a!=null&&a!=="",c={...t,notched:i,withLabel:u};return I.jsx(X9,{"aria-hidden":!0,className:r,ownerState:c,...o,children:I.jsx(J9,{ownerState:c,children:u?I.jsx("span",{children:a}):jA||(jA=I.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const eH=t=>{const{classes:e}=t,r=nt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},j6,e);return{...e,...r}},tH=he(Bg,{shouldForwardProp:t=>Ma(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Lg})(xt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Ga.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ga.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Ga.focused} .${Ga.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(fr()).map(([n])=>({props:{color:n},style:{[`&.${Ga.focused} .${Ga.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}})),{props:{},style:{[`&.${Ga.error} .${Ga.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Ga.disabled} .${Ga.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),nH=he(Q9,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(xt(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),rH=he(Ug,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Dg})(xt(({theme:t})=>({padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),HS=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiOutlinedInput"}),{components:a={},fullWidth:i=!1,inputComponent:o="input",label:u,multiline:c=!1,notched:f,slots:h={},slotProps:m={},type:g="text",...b}=r,v=eH(r),w=Hu(),S=Vu({props:r,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x={...r,color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:w,fullWidth:i,hiddenLabel:S.hiddenLabel,multiline:c,size:S.size,type:g},C=h.root??a.Root??tH,E=h.input??a.Input??rH,[O,A]=Dt("notchedOutline",{elementType:nH,className:v.notchedOutline,shouldForwardComponentProp:!0,ownerState:x,externalForwardedProps:{slots:h,slotProps:m},additionalProps:{label:u!=null&&u!==""&&S.required?I.jsxs(R.Fragment,{children:[u," ","*"]}):u}});return I.jsx(LS,{slots:{root:C,input:E},slotProps:m,renderSuffix:N=>I.jsx(O,{...A,notched:typeof f<"u"?f:!!(N.startAdornment||N.filled||N.focused)}),fullWidth:i,inputComponent:o,multiline:c,ref:n,type:g,...b,classes:{...v,notchedOutline:null}})});HS.muiName="Input";function xj(t){return et("MuiSelect",t)}const cd=tt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var NA;const aH=he(wj,{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${cd.select}`]:e.select},{[`&.${cd.select}`]:e[n.variant]},{[`&.${cd.error}`]:e.error},{[`&.${cd.multiple}`]:e.multiple}]}})({[`&.${cd.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),iH=he(Sj,{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${de(n.variant)}`],n.open&&e.iconOpen]}})({}),sH=he("input",{shouldForwardProp:t=>ej(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function MA(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function oH(t){return t==null||typeof t=="string"&&!t.trim()}const lH=t=>{const{classes:e,variant:n,disabled:r,multiple:a,open:i,error:o}=t,u={select:["select",n,r&&"disabled",a&&"multiple",o&&"error"],icon:["icon",`icon${de(n)}`,i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return nt(u,xj,e)},uH=R.forwardRef(function(e,n){var on;const{"aria-describedby":r,"aria-label":a,autoFocus:i,autoWidth:o,children:u,className:c,defaultOpen:f,defaultValue:h,disabled:m,displayEmpty:g,error:b=!1,IconComponent:v,inputRef:w,labelId:S,MenuProps:x={},multiple:C,name:E,onBlur:O,onChange:A,onClose:N,onFocus:D,onOpen:P,open:L,readOnly:T,renderValue:B,required:Z,SelectDisplayProps:ne={},tabIndex:q,type:F,value:M,variant:z="standard",...K}=e,[V,j]=cA({controlled:M,default:h,name:"Select"}),[G,J]=cA({controlled:L,default:f,name:"Select"}),Q=R.useRef(null),le=R.useRef(null),[ce,fe]=R.useState(null),{current:Ae}=R.useRef(L!=null),[Ee,Oe]=R.useState(),ye=sr(n,w),Me=R.useCallback(_e=>{le.current=_e,_e&&fe(_e)},[]),ze=ce==null?void 0:ce.parentNode;R.useImperativeHandle(ye,()=>({focus:()=>{le.current.focus()},node:Q.current,value:V}),[V]),R.useEffect(()=>{f&&G&&ce&&!Ae&&(Oe(o?null:ze.clientWidth),le.current.focus())},[ce,o]),R.useEffect(()=>{i&&le.current.focus()},[i]),R.useEffect(()=>{if(!S)return;const _e=da(le.current).getElementById(S);if(_e){const yt=()=>{getSelection().isCollapsed&&le.current.focus()};return _e.addEventListener("click",yt),()=>{_e.removeEventListener("click",yt)}}},[S]);const at=(_e,yt)=>{_e?P&&P(yt):N&&N(yt),Ae||(Oe(o?null:ze.clientWidth),J(_e))},$e=_e=>{_e.button===0&&(_e.preventDefault(),le.current.focus(),at(!0,_e))},ut=_e=>{at(!1,_e)},vn=R.Children.toArray(u),Je=_e=>{const yt=vn.find(Zt=>Zt.props.value===_e.target.value);yt!==void 0&&(j(yt.props.value),A&&A(_e,yt))},mt=_e=>yt=>{let Zt;if(yt.currentTarget.hasAttribute("tabindex")){if(C){Zt=Array.isArray(V)?V.slice():[];const pa=V.indexOf(_e.props.value);pa===-1?Zt.push(_e.props.value):Zt.splice(pa,1)}else Zt=_e.props.value;if(_e.props.onClick&&_e.props.onClick(yt),V!==Zt&&(j(Zt),A)){const pa=yt.nativeEvent||yt,Ba=new pa.constructor(pa.type,pa);Object.defineProperty(Ba,"target",{writable:!0,value:{value:Zt,name:E}}),A(Ba,_e)}C||at(!1,yt)}},gt=_e=>{T||[" ","ArrowUp","ArrowDown","Enter"].includes(_e.key)&&(_e.preventDefault(),at(!0,_e))},Ft=ce!==null&&G,ct=_e=>{!Ft&&O&&(Object.defineProperty(_e,"target",{writable:!0,value:{value:V,name:E}}),O(_e))};delete K["aria-invalid"];let we,Yn;const Gt=[];let Ar=!1;(Vm({value:V})||g)&&(B?we=B(V):Ar=!0);const Xn=vn.map(_e=>{if(!R.isValidElement(_e))return null;let yt;if(C){if(!Array.isArray(V))throw new Error(Zi(2));yt=V.some(Zt=>MA(Zt,_e.props.value)),yt&&Ar&&Gt.push(_e.props.children)}else yt=MA(V,_e.props.value),yt&&Ar&&(Yn=_e.props.children);return R.cloneElement(_e,{"aria-selected":yt?"true":"false",onClick:mt(_e),onKeyUp:Zt=>{Zt.key===" "&&Zt.preventDefault(),_e.props.onKeyUp&&_e.props.onKeyUp(Zt)},role:"option",selected:yt,value:void 0,"data-value":_e.props.value})});Ar&&(C?Gt.length===0?we=null:we=Gt.reduce((_e,yt,Zt)=>(_e.push(yt),Zt<Gt.length-1&&_e.push(", "),_e),[]):we=Yn);let Kt=Ee;!o&&Ae&&ce&&(Kt=ze.clientWidth);let Jt;typeof q<"u"?Jt=q:Jt=m?null:0;const Wt=ne.id||(E?`mui-component-select-${E}`:void 0),Vt={...e,variant:z,value:V,open:Ft,error:b},ke=lH(Vt),En={...x.PaperProps,...(on=x.slotProps)==null?void 0:on.paper},Qt=Mg();return I.jsxs(R.Fragment,{children:[I.jsx(aH,{as:"div",ref:Me,tabIndex:Jt,role:"combobox","aria-controls":Ft?Qt:void 0,"aria-disabled":m?"true":void 0,"aria-expanded":Ft?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[S,Wt].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":Z?"true":void 0,"aria-invalid":b?"true":void 0,onKeyDown:gt,onMouseDown:m||T?null:$e,onBlur:ct,onFocus:D,...ne,ownerState:Vt,className:Se(ne.className,ke.select,c),id:Wt,children:oH(we)?NA||(NA=I.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):we}),I.jsx(sH,{"aria-invalid":b,value:Array.isArray(V)?V.join(","):V,name:E,ref:Q,"aria-hidden":!0,onChange:Je,tabIndex:-1,disabled:m,className:ke.nativeInput,autoFocus:i,required:Z,...K,ownerState:Vt}),I.jsx(iH,{as:v,className:ke.icon,ownerState:Vt}),I.jsx(q9,{id:`menu-${E||""}`,anchorEl:ze,open:Ft,onClose:ut,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...x,slotProps:{...x.slotProps,list:{"aria-labelledby":S,role:"listbox","aria-multiselectable":C?"true":void 0,disableListWrap:!0,id:Qt,...x.MenuListProps},paper:{...En,style:{minWidth:Kt,...En!=null?En.style:null}}},children:Xn})]})}),cH=t=>{const{classes:e}=t,r=nt({root:["root"]},xj,e);return{...e,...r}},qS={name:"MuiSelect",slot:"Root",shouldForwardProp:t=>Ma(t)&&t!=="variant"},dH=he(zS,qS)(""),fH=he(HS,qS)(""),hH=he(BS,qS)(""),Ej=R.forwardRef(function(e,n){const r=rt({name:"MuiSelect",props:e}),{autoWidth:a=!1,children:i,classes:o={},className:u,defaultOpen:c=!1,displayEmpty:f=!1,IconComponent:h=M6,id:m,input:g,inputProps:b,label:v,labelId:w,MenuProps:S,multiple:x=!1,native:C=!1,onClose:E,onOpen:O,open:A,renderValue:N,SelectDisplayProps:D,variant:P="outlined",...L}=r,T=C?Y9:uH,B=Hu(),Z=Vu({props:r,muiFormControl:B,states:["variant","error"]}),ne=Z.variant||P,q={...r,variant:ne,classes:o},F=cH(q),{root:M,...z}=F,K=g||{standard:I.jsx(dH,{ownerState:q}),outlined:I.jsx(fH,{label:v,ownerState:q}),filled:I.jsx(hH,{ownerState:q})}[ne],V=sr(n,Xf(K));return I.jsx(R.Fragment,{children:R.cloneElement(K,{inputComponent:T,inputProps:{children:i,error:Z.error,IconComponent:h,variant:ne,type:void 0,multiple:x,...C?{id:m}:{autoWidth:a,defaultOpen:c,displayEmpty:f,labelId:w,MenuProps:S,onClose:E,onOpen:O,open:A,renderValue:N,SelectDisplayProps:{id:m,...D}},...b,classes:b?ir(z,b.classes):z,...g?g.props.inputProps:{}},...(x&&C||f)&&ne==="outlined"?{notched:!0}:{},ref:V,className:Se(K.props.className,u,F.root),...!g&&{variant:ne},...L})})});Ej.muiName="Select";function pH(t){return et("MuiTab",t)}const aa=tt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),mH=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:a,icon:i,label:o,selected:u,disabled:c}=t,f={root:["root",i&&o&&"labelIcon",`textColor${de(n)}`,r&&"fullWidth",a&&"wrapped",u&&"selected",c&&"disabled"],icon:["iconWrapper","icon"]};return nt(f,pH,e)},gH=he(Ru,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${de(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped,{[`& .${aa.iconWrapper}`]:e.iconWrapper},{[`& .${aa.icon}`]:e.icon}]}})(xt(({theme:t})=>({...t.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="top",style:{[`& > .${aa.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="bottom",style:{[`& > .${aa.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="start",style:{[`& > .${aa.icon}`]:{marginRight:t.spacing(1)}}},{props:({ownerState:e,iconPosition:n})=>e.icon&&e.label&&n==="end",style:{[`& > .${aa.icon}`]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${aa.selected}`]:{opacity:1},[`&.${aa.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${aa.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${aa.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,[`&.${aa.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${aa.disabled}`]:{color:(t.vars||t).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:t.typography.pxToRem(12)}}]}))),yH=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiTab"}),{className:a,disabled:i=!1,disableFocusRipple:o=!1,fullWidth:u,icon:c,iconPosition:f="top",indicator:h,label:m,onChange:g,onClick:b,onFocus:v,selected:w,selectionFollowsFocus:S,textColor:x="inherit",value:C,wrapped:E=!1,...O}=r,A={...r,disabled:i,disableFocusRipple:o,selected:w,icon:!!c,iconPosition:f,label:!!m,fullWidth:u,textColor:x,wrapped:E},N=mH(A),D=c&&m&&R.isValidElement(c)?R.cloneElement(c,{className:Se(N.icon,c.props.className)}):c,P=T=>{!w&&g&&g(T,C),b&&b(T)},L=T=>{S&&!w&&g&&g(T,C),v&&v(T)};return I.jsxs(gH,{focusRipple:!o,className:Se(N.root,a),ref:n,role:"tab","aria-selected":w,disabled:i,onClick:P,onFocus:L,ownerState:A,tabIndex:w?0:-1,...O,children:[f==="top"||f==="start"?I.jsxs(R.Fragment,{children:[D,m]}):I.jsxs(R.Fragment,{children:[m,D]}),h]})}),bH=ha(I.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),vH=ha(I.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function _H(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function wH(t,e,n,r={},a=()=>{}){const{ease:i=_H,duration:o=300}=r;let u=null;const c=e[t];let f=!1;const h=()=>{f=!0},m=g=>{if(f){a(new Error("Animation cancelled"));return}u===null&&(u=g);const b=Math.min(1,(g-u)/o);if(e[t]=i(b)*(n-c)+c,b>=1){requestAnimationFrame(()=>{a(null)});return}requestAnimationFrame(m)};return c===n?(a(new Error("Element already at target position")),h):(requestAnimationFrame(m),h)}const SH={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function xH(t){const{onChange:e,...n}=t,r=R.useRef(),a=R.useRef(null),i=()=>{r.current=a.current.offsetHeight-a.current.clientHeight};return Yi(()=>{const o=Ng(()=>{const c=r.current;i(),c!==r.current&&e(r.current)}),u=Ia(a.current);return u.addEventListener("resize",o),()=>{o.clear(),u.removeEventListener("resize",o)}},[e]),R.useEffect(()=>{i(),e(r.current)},[e]),I.jsx("div",{style:SH,...n,ref:a})}function EH(t){return et("MuiTabScrollButton",t)}const TH=tt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),CH=t=>{const{classes:e,orientation:n,disabled:r}=t;return nt({root:["root",n,r&&"disabled"]},EH,e)},RH=he(Ru,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${TH.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),AH=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiTabScrollButton"}),{className:a,slots:i={},slotProps:o={},direction:u,orientation:c,disabled:f,...h}=r,m=RS(),g={isRtl:m,...r},b=CH(g),v=i.StartScrollButtonIcon??bH,w=i.EndScrollButtonIcon??vH,S=of({elementType:v,externalSlotProps:o.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g}),x=of({elementType:w,externalSlotProps:o.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g});return I.jsx(RH,{component:"div",className:Se(b.root,a),ref:n,role:null,ownerState:g,tabIndex:null,...h,style:{...h.style,...c==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${m?-90:90}deg)`}},children:u==="left"?I.jsx(v,{...S}):I.jsx(w,{...x})})});function OH(t){return et("MuiTabs",t)}const Hv=tt("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),LA=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,DA=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,Up=(t,e,n)=>{let r=!1,a=n(t,e);for(;a;){if(a===t.firstChild){if(r)return;r=!0}const i=a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||i)a=n(t,a);else{a.focus();return}}},kH=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:a,scrollableY:i,centered:o,scrollButtonsHideMobile:u,classes:c}=t;return nt({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",a&&"scrollableX",i&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",u&&"scrollButtonsHideMobile"],scrollableX:[a&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},OH,c)},PH=he("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Hv.scrollButtons}`]:e.scrollButtons},{[`& .${Hv.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(xt(({theme:t})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${Hv.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}))),$H=he("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:t})=>t.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:t})=>t.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:t})=>t.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:t})=>t.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),IH=he("div",{name:"MuiTabs",slot:"List",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.list,e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.centered,style:{justifyContent:"center"}}]}),jH=he("span",{name:"MuiTabs",slot:"Indicator"})(xt(({theme:t})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),NH=he(xH)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),BA={},MH=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiTabs"}),a=Kf(),i=RS(),{"aria-label":o,"aria-labelledby":u,action:c,centered:f=!1,children:h,className:m,component:g="div",allowScrollButtonsMobile:b=!1,indicatorColor:v="primary",onChange:w,orientation:S="horizontal",ScrollButtonComponent:x,scrollButtons:C="auto",selectionFollowsFocus:E,slots:O={},slotProps:A={},TabIndicatorProps:N={},TabScrollButtonProps:D={},textColor:P="primary",value:L,variant:T="standard",visibleScrollbar:B=!1,...Z}=r,ne=T==="scrollable",q=S==="vertical",F=q?"scrollTop":"scrollLeft",M=q?"top":"left",z=q?"bottom":"right",K=q?"clientHeight":"clientWidth",V=q?"height":"width",j={...r,component:g,allowScrollButtonsMobile:b,indicatorColor:v,orientation:S,vertical:q,scrollButtons:C,textColor:P,variant:T,visibleScrollbar:B,fixed:!ne,hideScrollbar:ne&&!B,scrollableX:ne&&!q,scrollableY:ne&&q,centered:f&&!ne,scrollButtonsHideMobile:!b},G=kH(j),J=of({elementType:O.StartScrollButtonIcon,externalSlotProps:A.startScrollButtonIcon,ownerState:j}),Q=of({elementType:O.EndScrollButtonIcon,externalSlotProps:A.endScrollButtonIcon,ownerState:j}),[le,ce]=R.useState(!1),[fe,Ae]=R.useState(BA),[Ee,Oe]=R.useState(!1),[ye,Me]=R.useState(!1),[ze,at]=R.useState(!1),[$e,ut]=R.useState({overflow:"hidden",scrollbarWidth:0}),vn=new Map,Je=R.useRef(null),mt=R.useRef(null),gt={slots:O,slotProps:{indicator:N,scrollButton:D,...A}},Ft=()=>{const ge=Je.current;let be;if(ge){const Ue=ge.getBoundingClientRect();be={clientWidth:ge.clientWidth,scrollLeft:ge.scrollLeft,scrollTop:ge.scrollTop,scrollWidth:ge.scrollWidth,top:Ue.top,bottom:Ue.bottom,left:Ue.left,right:Ue.right}}let je;if(ge&&L!==!1){const Ue=mt.current.children;if(Ue.length>0){const Rt=Ue[vn.get(L)];je=Rt?Rt.getBoundingClientRect():null}}return{tabsMeta:be,tabMeta:je}},ct=ii(()=>{const{tabsMeta:ge,tabMeta:be}=Ft();let je=0,Ue;q?(Ue="top",be&&ge&&(je=be.top-ge.top+ge.scrollTop)):(Ue=i?"right":"left",be&&ge&&(je=(i?-1:1)*(be[Ue]-ge[Ue]+ge.scrollLeft)));const Rt={[Ue]:je,[V]:be?be[V]:0};if(typeof fe[Ue]!="number"||typeof fe[V]!="number")Ae(Rt);else{const yr=Math.abs(fe[Ue]-Rt[Ue]),yi=Math.abs(fe[V]-Rt[V]);(yr>=1||yi>=1)&&Ae(Rt)}}),we=(ge,{animation:be=!0}={})=>{be?wH(F,Je.current,ge,{duration:a.transitions.duration.standard}):Je.current[F]=ge},Yn=ge=>{let be=Je.current[F];q?be+=ge:be+=ge*(i?-1:1),we(be)},Gt=()=>{const ge=Je.current[K];let be=0;const je=Array.from(mt.current.children);for(let Ue=0;Ue<je.length;Ue+=1){const Rt=je[Ue];if(be+Rt[K]>ge){Ue===0&&(be=ge);break}be+=Rt[K]}return be},Ar=()=>{Yn(-1*Gt())},Xn=()=>{Yn(Gt())},[Kt,{onChange:Jt,...Wt}]=Dt("scrollbar",{className:Se(G.scrollableX,G.hideScrollbar),elementType:NH,shouldForwardComponentProp:!0,externalForwardedProps:gt,ownerState:j}),Vt=R.useCallback(ge=>{Jt==null||Jt(ge),ut({overflow:null,scrollbarWidth:ge})},[Jt]),[ke,En]=Dt("scrollButtons",{className:Se(G.scrollButtons,D.className),elementType:AH,externalForwardedProps:gt,ownerState:j,additionalProps:{orientation:S,slots:{StartScrollButtonIcon:O.startScrollButtonIcon||O.StartScrollButtonIcon,EndScrollButtonIcon:O.endScrollButtonIcon||O.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:J,endScrollButtonIcon:Q}}}),Qt=()=>{const ge={};ge.scrollbarSizeListener=ne?I.jsx(Kt,{...Wt,onChange:Vt}):null;const je=ne&&(C==="auto"&&(Ee||ye)||C===!0);return ge.scrollButtonStart=je?I.jsx(ke,{direction:i?"right":"left",onClick:Ar,disabled:!Ee,...En}):null,ge.scrollButtonEnd=je?I.jsx(ke,{direction:i?"left":"right",onClick:Xn,disabled:!ye,...En}):null,ge},on=ii(ge=>{const{tabsMeta:be,tabMeta:je}=Ft();if(!(!je||!be)){if(je[M]<be[M]){const Ue=be[F]+(je[M]-be[M]);we(Ue,{animation:ge})}else if(je[z]>be[z]){const Ue=be[F]+(je[z]-be[z]);we(Ue,{animation:ge})}}}),_e=ii(()=>{ne&&C!==!1&&at(!ze)});R.useEffect(()=>{const ge=Ng(()=>{Je.current&&ct()});let be;const je=yr=>{yr.forEach(yi=>{yi.removedNodes.forEach(ao=>{be==null||be.unobserve(ao)}),yi.addedNodes.forEach(ao=>{be==null||be.observe(ao)})}),ge(),_e()},Ue=Ia(Je.current);Ue.addEventListener("resize",ge);let Rt;return typeof ResizeObserver<"u"&&(be=new ResizeObserver(ge),Array.from(mt.current.children).forEach(yr=>{be.observe(yr)})),typeof MutationObserver<"u"&&(Rt=new MutationObserver(je),Rt.observe(mt.current,{childList:!0})),()=>{ge.clear(),Ue.removeEventListener("resize",ge),Rt==null||Rt.disconnect(),be==null||be.disconnect()}},[ct,_e]),R.useEffect(()=>{const ge=Array.from(mt.current.children),be=ge.length;if(typeof IntersectionObserver<"u"&&be>0&&ne&&C!==!1){const je=ge[0],Ue=ge[be-1],Rt={root:Je.current,threshold:.99},yr=bi=>{Oe(!bi[0].isIntersecting)},yi=new IntersectionObserver(yr,Rt);yi.observe(je);const ao=bi=>{Me(!bi[0].isIntersecting)},lc=new IntersectionObserver(ao,Rt);return lc.observe(Ue),()=>{yi.disconnect(),lc.disconnect()}}},[ne,C,ze,h==null?void 0:h.length]),R.useEffect(()=>{ce(!0)},[]),R.useEffect(()=>{ct()}),R.useEffect(()=>{on(BA!==fe)},[on,fe]),R.useImperativeHandle(c,()=>({updateIndicator:ct,updateScrollButtons:_e}),[ct,_e]);const[yt,Zt]=Dt("indicator",{className:Se(G.indicator,N.className),elementType:jH,externalForwardedProps:gt,ownerState:j,additionalProps:{style:fe}}),pa=I.jsx(yt,{...Zt});let Ba=0;const gh=R.Children.map(h,ge=>{if(!R.isValidElement(ge))return null;const be=ge.props.value===void 0?Ba:ge.props.value;vn.set(be,Ba);const je=be===L;return Ba+=1,R.cloneElement(ge,{fullWidth:T==="fullWidth",indicator:je&&!le&&pa,selected:je,selectionFollowsFocus:E,onChange:w,textColor:P,value:be,...Ba===1&&L===!1&&!ge.props.tabIndex?{tabIndex:0}:{}})}),ic=ge=>{if(ge.altKey||ge.shiftKey||ge.ctrlKey||ge.metaKey)return;const be=mt.current,je=da(be).activeElement;if(je.getAttribute("role")!=="tab")return;let Rt=S==="horizontal"?"ArrowLeft":"ArrowUp",yr=S==="horizontal"?"ArrowRight":"ArrowDown";switch(S==="horizontal"&&i&&(Rt="ArrowRight",yr="ArrowLeft"),ge.key){case Rt:ge.preventDefault(),Up(be,je,DA);break;case yr:ge.preventDefault(),Up(be,je,LA);break;case"Home":ge.preventDefault(),Up(be,null,LA);break;case"End":ge.preventDefault(),Up(be,null,DA);break}},gi=Qt(),[yy,yh]=Dt("root",{ref:n,className:Se(G.root,m),elementType:PH,externalForwardedProps:{...gt,...Z,component:g},ownerState:j}),[bh,sc]=Dt("scroller",{ref:Je,className:G.scroller,elementType:$H,externalForwardedProps:gt,ownerState:j,additionalProps:{style:{overflow:$e.overflow,[q?`margin${i?"Left":"Right"}`:"marginBottom"]:B?void 0:-$e.scrollbarWidth}}}),[oc,vh]=Dt("list",{ref:mt,className:Se(G.list,G.flexContainer),elementType:IH,externalForwardedProps:gt,ownerState:j,getSlotProps:ge=>({...ge,onKeyDown:be=>{var je;ic(be),(je=ge.onKeyDown)==null||je.call(ge,be)}})});return I.jsxs(yy,{...yh,children:[gi.scrollButtonStart,gi.scrollbarSizeListener,I.jsxs(bh,{...sc,children:[I.jsx(oc,{"aria-label":o,"aria-labelledby":u,"aria-orientation":S==="vertical"?"vertical":null,role:"tablist",...vh,children:gh}),le&&pa]}),gi.scrollButtonEnd]})});function LH(t){return et("MuiTextField",t)}tt("MuiTextField",["root"]);const DH={standard:zS,filled:BS,outlined:HS},BH=t=>{const{classes:e}=t;return nt({root:["root"]},LH,e)},UH=he(e9,{name:"MuiTextField",slot:"Root"})({}),zH=R.forwardRef(function(e,n){const r=rt({props:e,name:"MuiTextField"}),{autoComplete:a,autoFocus:i=!1,children:o,className:u,color:c="primary",defaultValue:f,disabled:h=!1,error:m=!1,FormHelperTextProps:g,fullWidth:b=!1,helperText:v,id:w,InputLabelProps:S,inputProps:x,InputProps:C,inputRef:E,label:O,maxRows:A,minRows:N,multiline:D=!1,name:P,onBlur:L,onChange:T,onFocus:B,placeholder:Z,required:ne=!1,rows:q,select:F=!1,SelectProps:M,slots:z={},slotProps:K={},type:V,value:j,variant:G="outlined",...J}=r,Q={...r,autoFocus:i,color:c,disabled:h,error:m,fullWidth:b,multiline:D,required:ne,select:F,variant:G},le=BH(Q),ce=Mg(w),fe=v&&ce?`${ce}-helper-text`:void 0,Ae=O&&ce?`${ce}-label`:void 0,Ee=DH[G],Oe={slots:z,slotProps:{input:C,inputLabel:S,htmlInput:x,formHelperText:g,select:M,...K}},ye={},Me=Oe.slotProps.inputLabel;G==="outlined"&&(Me&&typeof Me.shrink<"u"&&(ye.notched=Me.shrink),ye.label=O),F&&((!M||!M.native)&&(ye.id=void 0),ye["aria-describedby"]=void 0);const[ze,at]=Dt("root",{elementType:UH,shouldForwardComponentProp:!0,externalForwardedProps:{...Oe,...J},ownerState:Q,className:Se(le.root,u),ref:n,additionalProps:{disabled:h,error:m,fullWidth:b,required:ne,color:c,variant:G}}),[$e,ut]=Dt("input",{elementType:Ee,externalForwardedProps:Oe,additionalProps:ye,ownerState:Q}),[vn,Je]=Dt("inputLabel",{elementType:y9,externalForwardedProps:Oe,ownerState:Q}),[mt,gt]=Dt("htmlInput",{elementType:"input",externalForwardedProps:Oe,ownerState:Q}),[Ft,ct]=Dt("formHelperText",{elementType:a9,externalForwardedProps:Oe,ownerState:Q}),[we,Yn]=Dt("select",{elementType:Ej,externalForwardedProps:Oe,ownerState:Q}),Gt=I.jsx($e,{"aria-describedby":fe,autoComplete:a,autoFocus:i,defaultValue:f,fullWidth:b,multiline:D,name:P,rows:q,maxRows:A,minRows:N,type:V,value:j,id:ce,inputRef:E,onBlur:L,onChange:T,onFocus:B,placeholder:Z,inputProps:gt,slots:{input:z.htmlInput?mt:void 0},...ut});return I.jsxs(ze,{...at,children:[O!=null&&O!==""&&I.jsx(vn,{htmlFor:ce,id:Ae,...Je,children:O}),F?I.jsx(we,{"aria-describedby":fe,id:ce,labelId:Ae,value:j,input:Gt,...Yn,children:o}):Gt,v&&I.jsx(Ft,{id:fe,...ct,children:v})]})}),FH=({categories:t,selectedCategory:e,onSelectCategory:n})=>{const r=(a,i)=>{n(i)};return I.jsx(Xi,{elevation:2,children:I.jsx(ht,{sx:{borderBottom:1,borderColor:"divider"},children:I.jsx(MH,{value:e,onChange:r,variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,"aria-label":"메뉴 카테고리",children:t.map(a=>I.jsx(yH,{label:a.name,value:a.id},a.id))})})})},VH=({item:t,onSelect:e})=>I.jsxs(hV,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:3}},children:[t.image_url&&I.jsx(xV,{component:"img",height:"140",image:t.image_url,alt:t.name}),I.jsxs(yV,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[I.jsx($t,{gutterBottom:!0,variant:"h6",component:"div",children:t.name}),I.jsx($t,{variant:"body2",color:"text.secondary",sx:{mb:2,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",height:40},children:t.description||""}),I.jsx(ht,{sx:{mt:"auto",display:"flex",justifyContent:"space-between",alignItems:"center"},children:I.jsxs($t,{variant:"h6",color:"primary.main",children:[t.price.toLocaleString(),"원"]})}),I.jsx(ht,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"end"},children:t.calories&&I.jsx(C6,{label:`${t.calories} kcal`,size:"small",variant:"outlined"})}),I.jsx(Hi,{variant:"contained",fullWidth:!0,sx:{mt:1,backgroundColor:"#FFC72C",color:"black"},onClick:()=>e(t),children:"담기"})]})]}),HH=Yo`
  0% {
    transform: translateY(0);
  }
  30% {
    transform: translateY(20px);
  }
  60% {
    transform: translateY(-10px);
  }
  100% {
    transform: translateY(0);
  }
`,qH=({items:t,isLoading:e,onSelectItem:n})=>e?I.jsx(ht,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",p:4},children:I.jsx(Yf,{})}):t.length===0?I.jsx(ht,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",p:4},children:I.jsx($t,{variant:"body1",color:"text.secondary",children:"표시할 메뉴가 없습니다."})}):I.jsx(US,{container:!0,spacing:1,sx:{p:1},children:t.map((r,a)=>I.jsx(ht,{sx:{width:{xs:"100%",sm:"50%",md:"32%"},animation:`${HH} 0.5s ease-out ${a*.1}s forwards`},children:I.jsx(VH,{item:r,onSelect:n})},r.id))}),GH=ha(I.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),WH=ha(I.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),ZH=ha(I.jsx("path",{d:"M19 13H5v-2h14z"})),KH=({item:t,index:e,onRemove:n,onChangeQuantity:r})=>I.jsxs(I.Fragment,{children:[I.jsx(yj,{alignItems:"flex-start",secondaryAction:I.jsx(dj,{edge:"end",onClick:()=>n(e),size:"small",children:I.jsx(GH,{fontSize:"small"})}),children:I.jsx(bj,{primary:I.jsx($t,{variant:"subtitle1",fontWeight:"bold",children:t.name}),secondary:I.jsx($t,{component:"div",variant:"body2",color:"text.secondary",children:I.jsxs(ht,{sx:{mt:1},children:[t.options.length>0&&I.jsx(ht,{sx:{mb:1},children:t.options.map((a,i)=>I.jsxs($t,{variant:"body2",color:"text.secondary",children:["+ ",a.name," (",a.price_adjustment>0?"+":"",a.price_adjustment.toLocaleString(),"원)"]},i))}),t.special_instructions&&I.jsxs($t,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["요청사항: ",t.special_instructions]}),I.jsxs(ht,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:1},children:[I.jsxs(uV,{size:"small",children:[I.jsx(Hi,{onClick:()=>r(e,Math.max(1,t.quantity-1)),disabled:t.quantity<=1,children:I.jsx(ZH,{fontSize:"small"})}),I.jsx(Hi,{disabled:!0,children:t.quantity}),I.jsx(Hi,{onClick:()=>r(e,t.quantity+1),children:I.jsx(WH,{fontSize:"small"})})]}),I.jsxs($t,{variant:"body1",fontWeight:"bold",children:[(t.price*t.quantity).toLocaleString(),"원"]})]})]})})})}),I.jsx(Ji,{component:"li"})]}),YH=({items:t,onRemoveItem:e,onChangeQuantity:n,onCheckout:r})=>{const a=t.reduce((i,o)=>i+o.price*o.quantity,0);return I.jsxs(Xi,{elevation:3,sx:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[I.jsx(ht,{sx:{p:2,bgcolor:"#FFC72C",color:"black",textAlign:"center"},children:I.jsx($t,{variant:"h6",children:"주문 내역"})}),I.jsx(Ji,{}),I.jsx(ht,{sx:{flex:1,overflow:"auto"},children:t.length===0?I.jsx(ht,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",p:4},children:I.jsx($t,{variant:"body1",color:"text.secondary",children:"장바구니가 비어있습니다."})}):I.jsx(FS,{disablePadding:!0,children:t.map((i,o)=>I.jsx(KH,{item:i,index:o,onRemove:e,onChangeQuantity:n},o))})}),I.jsx(Ji,{}),I.jsxs(ht,{sx:{p:2},children:[I.jsxs(ht,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[I.jsx($t,{variant:"h6",children:"총 금액"}),I.jsxs($t,{variant:"h6",color:"primary.main",children:[a.toLocaleString(),"원"]})]}),I.jsx(Hi,{variant:"contained",color:"primary",fullWidth:!0,disabled:t.length===0,onClick:r,children:"주문하기"})]})]})},UA=t=>{let e;const n=new Set,r=(f,h)=>{const m=typeof f=="function"?f(e):f;if(!Object.is(m,e)){const g=e;e=h??(typeof m!="object"||m===null)?m:Object.assign({},e,m),n.forEach(b=>b(e,g))}},a=()=>e,u={setState:r,getState:a,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f))},c=e=t(r,a,u);return u},XH=t=>t?UA(t):UA,JH=t=>t;function QH(t,e=JH){const n=Vr.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return Vr.useDebugValue(n),n}const zA=t=>{const e=XH(t),n=r=>QH(e,r);return Object.assign(n,e),n},e8=t=>t?zA(t):zA;var zp,t8=new Uint8Array(16);function n8(){if(!zp&&(zp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!zp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zp(t8)}const r8=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function a8(t){return typeof t=="string"&&r8.test(t)}var Vn=[];for(var qv=0;qv<256;++qv)Vn.push((qv+256).toString(16).substr(1));function i8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Vn[t[e+0]]+Vn[t[e+1]]+Vn[t[e+2]]+Vn[t[e+3]]+"-"+Vn[t[e+4]]+Vn[t[e+5]]+"-"+Vn[t[e+6]]+Vn[t[e+7]]+"-"+Vn[t[e+8]]+Vn[t[e+9]]+"-"+Vn[t[e+10]]+Vn[t[e+11]]+Vn[t[e+12]]+Vn[t[e+13]]+Vn[t[e+14]]+Vn[t[e+15]]).toLowerCase();if(!a8(n))throw TypeError("Stringified UUID is invalid");return n}function s8(t,e,n){t=t||{};var r=t.random||(t.rng||n8)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,i8(r)}const o8="modulepreload",l8=function(t){return"/mcdonald-order-app/"+t},FA={},Ou=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let o=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=o(n.map(f=>{if(f=l8(f),f in FA)return;FA[f]=!0;const h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":o8,h||(g.as="script"),g.crossOrigin="",g.href=f,c&&g.setAttribute("nonce",c),document.head.appendChild(g),h)return new Promise((b,v)=>{g.addEventListener("load",b),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return a.then(o=>{for(const u of o||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})},u8=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ou(async()=>{const{default:r}=await Promise.resolve().then(()=>qu);return{default:r}},[]).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class GS extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class c8 extends GS{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class d8 extends GS{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class f8 extends GS{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var nw;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(nw||(nw={}));var h8=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(h){try{f(r.next(h))}catch(m){o(m)}}function c(h){try{f(r.throw(h))}catch(m){o(m)}}function f(h){h.done?i(h.value):a(h.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};class p8{constructor(e,{headers:n={},customFetch:r,region:a=nw.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=u8(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return h8(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=n;let u={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(u["x-region"]=c);let f;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(u["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(u["Content-Type"]="application/json",f=JSON.stringify(o)));const h=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:f}).catch(v=>{throw new c8(v)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new d8(h);if(!h.ok)throw new f8(h);let g=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),b;return g==="application/json"?b=yield h.json():g==="application/octet-stream"?b=yield h.blob():g==="text/event-stream"?b=h:g==="multipart/form-data"?b=yield h.formData():b=yield h.text(),{data:b,error:null}}catch(a){return{data:null,error:a}}})}}var jn={},Fl={},Vl={},Hl={},ql={},Gl={},m8=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ku=m8();const g8=ku.fetch,Tj=ku.fetch.bind(ku),Cj=ku.Headers,y8=ku.Request,b8=ku.Response,qu=Object.freeze(Object.defineProperty({__proto__:null,Headers:Cj,Request:y8,Response:b8,default:Tj,fetch:g8},Symbol.toStringTag,{value:"Module"})),v8=WB(qu);var Fp={},VA;function Rj(){if(VA)return Fp;VA=1,Object.defineProperty(Fp,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Fp.default=t,Fp}var HA;function Aj(){if(HA)return Gl;HA=1;var t=Gl&&Gl.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Gl,"__esModule",{value:!0});const e=t(v8),n=t(Rj());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let c=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var h,m,g;let b=null,v=null,w=null,S=f.status,x=f.statusText;if(f.ok){if(this.method!=="HEAD"){const A=await f.text();A===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?v=A:v=JSON.parse(A))}const E=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),O=(m=f.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");E&&O&&O.length>1&&(w=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(b={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,w=null,S=406,x="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const E=await f.text();try{b=JSON.parse(E),Array.isArray(b)&&f.status===404&&(v=[],b=null,S=200,x="OK")}catch{f.status===404&&E===""?(S=204,x="No Content"):b={message:E}}if(b&&this.isMaybeSingle&&(!((g=b==null?void 0:b.details)===null||g===void 0)&&g.includes("0 rows"))&&(b=null,S=200,x="OK"),b&&this.shouldThrowOnError)throw new n.default(b)}return{error:b,data:v,count:w,status:S,statusText:x}});return this.shouldThrowOnError||(c=c.catch(f=>{var h,m,g;return{error:{message:`${(h=f==null?void 0:f.name)!==null&&h!==void 0?h:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(m=f==null?void 0:f.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(g=f==null?void 0:f.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return Gl.default=r,Gl}var qA;function Oj(){if(qA)return ql;qA=1;var t=ql&&ql.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ql,"__esModule",{value:!0});const e=t(Aj());class n extends e.default{select(a){let i=!1;const o=(a??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:u,referencedTable:c=u}={}){const f=c?`${c}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:u=o}={}){const c=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(f,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:u=!1,wal:c=!1,format:f="text"}={}){var h;const m=[a?"analyze":null,i?"verbose":null,o?"settings":null,u?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${g}"; options=${m};`,f==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ql.default=n,ql}var GA;function WS(){if(GA)return Hl;GA=1;var t=Hl&&Hl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Hl,"__esModule",{value:!0});const e=t(Oj());class n extends e.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const o=Array.from(new Set(i)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:o,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const f=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${c}fts${f}.${i}`),this}match(a){return Object.entries(a).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(a,i,o){return this.url.searchParams.append(a,`not.${i}.${o}`),this}or(a,{foreignTable:i,referencedTable:o=i}={}){const u=o?`${o}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,i,o){return this.url.searchParams.append(a,`${i}.${o}`),this}}return Hl.default=n,Hl}var WA;function kj(){if(WA)return Vl;WA=1;var t=Vl&&Vl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vl,"__esModule",{value:!0});const e=t(WS());class n{constructor(a,{headers:i={},schema:o,fetch:u}){this.url=a,this.headers=i,this.schema=o,this.fetch=u}select(a,{head:i=!1,count:o}={}){const u=i?"HEAD":"GET";let c=!1;const f=(a??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",f),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:i,defaultToNull:o=!0}={}){const u="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:u,defaultToNull:c=!0}={}){const f="POST",h=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&h.push(this.headers.Prefer),u&&h.push(`count=${u}`),c||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(a)){const m=a.reduce((g,b)=>g.concat(Object.keys(b)),[]);if(m.length>0){const g=[...new Set(m)].map(b=>`"${b}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:i}={}){const o="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),i&&u.push(`count=${i}`),this.headers.Prefer=u.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const i="DELETE",o=[];return a&&o.push(`count=${a}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Vl.default=n,Vl}var dd={},fd={},ZA;function _8(){return ZA||(ZA=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.version=void 0,fd.version="0.0.0-automated"),fd}var KA;function w8(){if(KA)return dd;KA=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.DEFAULT_HEADERS=void 0;const t=_8();return dd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},dd}var YA;function S8(){if(YA)return Fl;YA=1;var t=Fl&&Fl.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Fl,"__esModule",{value:!0});const e=t(kj()),n=t(WS()),r=w8();class a{constructor(o,{headers:u={},schema:c,fetch:f}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),u),this.schemaName=c,this.fetch=f}from(o){const u=new URL(`${this.url}/${o}`);return new e.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new a(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,u={},{head:c=!1,get:f=!1,count:h}={}){let m;const g=new URL(`${this.url}/rpc/${o}`);let b;c||f?(m=c?"HEAD":"GET",Object.entries(u).filter(([w,S])=>S!==void 0).map(([w,S])=>[w,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([w,S])=>{g.searchParams.append(w,S)})):(m="POST",b=u);const v=Object.assign({},this.headers);return h&&(v.Prefer=`count=${h}`),new n.default({method:m,url:g,headers:v,schema:this.schemaName,body:b,fetch:this.fetch,allowEmpty:!1})}}return Fl.default=a,Fl}var XA;function x8(){if(XA)return jn;XA=1;var t=jn&&jn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(jn,"__esModule",{value:!0}),jn.PostgrestError=jn.PostgrestBuilder=jn.PostgrestTransformBuilder=jn.PostgrestFilterBuilder=jn.PostgrestQueryBuilder=jn.PostgrestClient=void 0;const e=t(S8());jn.PostgrestClient=e.default;const n=t(kj());jn.PostgrestQueryBuilder=n.default;const r=t(WS());jn.PostgrestFilterBuilder=r.default;const a=t(Oj());jn.PostgrestTransformBuilder=a.default;const i=t(Aj());jn.PostgrestBuilder=i.default;const o=t(Rj());return jn.PostgrestError=o.default,jn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:o.default},jn}var E8=x8();const T8=hi(E8),{PostgrestClient:C8,PostgrestQueryBuilder:Gre,PostgrestFilterBuilder:Wre,PostgrestTransformBuilder:Zre,PostgrestBuilder:Kre,PostgrestError:Yre}=T8,R8="2.11.2",A8={"X-Client-Info":`realtime-js/${R8}`},O8="1.0.0",Pj=1e4,k8=1e3;var wu;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(wu||(wu={}));var Br;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Br||(Br={}));var Ca;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ca||(Ca={}));var rw;(function(t){t.websocket="websocket"})(rw||(rw={}));var Io;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Io||(Io={}));class P8{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const a=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const u=r.decode(e.slice(o,o+a));o=o+a;const c=r.decode(e.slice(o,o+i));o=o+i;const f=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:u,event:c,payload:f}}}class $j{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(qt||(qt={}));const JA=(t,e,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=$8(o,t,e,a),i),{})},$8=(t,e,n,r)=>{const a=e.find(u=>u.name===t),i=a==null?void 0:a.type,o=n[t];return i&&!r.includes(i)?Ij(i,o):aw(o)},Ij=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return M8(e,n)}switch(t){case qt.bool:return I8(e);case qt.float4:case qt.float8:case qt.int2:case qt.int4:case qt.int8:case qt.numeric:case qt.oid:return j8(e);case qt.json:case qt.jsonb:return N8(e);case qt.timestamp:return L8(e);case qt.abstime:case qt.date:case qt.daterange:case qt.int4range:case qt.int8range:case qt.money:case qt.reltime:case qt.text:case qt.time:case qt.timestamptz:case qt.timetz:case qt.tsrange:case qt.tstzrange:return aw(e);default:return aw(e)}},aw=t=>t,I8=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},j8=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},N8=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},M8=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(u=>Ij(e,u))}return t},L8=t=>typeof t=="string"?t.replace(" ","T"):t,jj=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Gv{constructor(e,n,r={},a=Pj){this.channel=e,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var QA;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(QA||(QA={}));class Bd{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:i,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bd.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Bd.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Bd.syncDiff(this.state,a,i,o),u())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,a){const i=this.cloneDeep(e),o=this.transformState(n),u={},c={};return this.map(i,(f,h)=>{o[f]||(c[f]=h)}),this.map(o,(f,h)=>{const m=i[f];if(m){const g=h.map(S=>S.presence_ref),b=m.map(S=>S.presence_ref),v=h.filter(S=>b.indexOf(S.presence_ref)<0),w=m.filter(S=>g.indexOf(S.presence_ref)<0);v.length>0&&(u[f]=v),w.length>0&&(c[f]=w)}else u[f]=h}),this.syncDiff(i,{joins:u,leaves:c},r,a)}static syncDiff(e,n,r,a){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(i,(u,c)=>{var f;const h=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(c),h.length>0){const m=e[u].map(b=>b.presence_ref),g=h.filter(b=>m.indexOf(b.presence_ref)<0);e[u].unshift(...g)}r(u,h,c)}),this.map(o,(u,c)=>{let f=e[u];if(!f)return;const h=c.map(m=>m.presence_ref);f=f.filter(m=>h.indexOf(m.presence_ref)<0),e[u]=f,a(u,f,c),f.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const a=e[r];return"metas"in a?n[r]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var eO;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(eO||(eO={}));var tO;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(tO||(tO={}));var Ui;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ui||(Ui={}));class ZS{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Br.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Gv(this,Ca.join,this.params,this.timeout),this.rejoinTimer=new $j(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Br.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Br.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Br.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Br.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ca.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Bd(this),this.broadcastEndpointURL=jj(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:u}}=this.params;this._onError(h=>e==null?void 0:e(Ui.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Ui.CLOSED));const c={},f={broadcast:i,presence:o,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&a!==void 0?a:[],private:u};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var m;if(this.socket.setAuth(),h===void 0){e==null||e(Ui.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,b=(m=g==null?void 0:g.length)!==null&&m!==void 0?m:0,v=[];for(let w=0;w<b;w++){const S=g[w],{filter:{event:x,schema:C,table:E,filter:O}}=S,A=h&&h[w];if(A&&A.event===x&&A.schema===C&&A.table===E&&A.filter===O)v.push(Object.assign(Object.assign({},S),{id:A.id}));else{this.unsubscribe(),e==null||e(Ui.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Ui.SUBSCRIBED);return}}).receive("error",h=>{e==null||e(Ui.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ui.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,u,c;const f=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),f.receive("ok",()=>i("ok")),f.receive("error",()=>i("error")),f.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Br.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ca.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const a=new Gv(this,Ca.leave,{},e);a.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const a=new AbortController,i=setTimeout(()=>a.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Gv(this,e,n,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var a,i;const o=e.toLocaleLowerCase(),{close:u,error:c,leave:f,join:h}=Ca;if(r&&[u,c,f,h].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var v,w,S;return((v=b.filter)===null||v===void 0?void 0:v.event)==="*"||((S=(w=b.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(b=>b.callback(g,r)):(i=this.bindings[o])===null||i===void 0||i.filter(b=>{var v,w,S,x,C,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in b){const O=b.id,A=(v=b.filter)===null||v===void 0?void 0:v.event;return O&&((w=n.ids)===null||w===void 0?void 0:w.includes(O))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const O=(C=(x=b==null?void 0:b.filter)===null||x===void 0?void 0:x.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return O==="*"||O===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===o}).map(b=>{if(typeof g=="object"&&"ids"in g){const v=g.data,{schema:w,table:S,commit_timestamp:x,type:C,errors:E}=v;g=Object.assign(Object.assign({},{schema:w,table:S,commit_timestamp:x,eventType:C,new:{},old:{},errors:E}),this._getPayloadRecords(v))}b.callback(g,r)})}_isClosed(){return this.state===Br.closed}_isJoined(){return this.state===Br.joined}_isJoining(){return this.state===Br.joining}_isLeaving(){return this.state===Br.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const a=e.toLocaleLowerCase(),i={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ZS.isEqual(a.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ca.close,{},e)}_onError(e){this._on(Ca.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Br.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=JA(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=JA(e.columns,e.old_record)),n}}const D8=()=>{},B8=typeof WebSocket<"u",U8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class z8{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=A8,this.params={},this.timeout=Pj,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=D8,this.conn=null,this.sendBuffer=[],this.serializer=new P8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...u)=>Ou(async()=>{const{default:c}=await Promise.resolve().then(()=>qu);return{default:c}},void 0).then(({default:c})=>c(...u)):o=fetch,(...u)=>o(...u)},this.endPoint=`${e}/${rw.websocket}`,this.httpEndpoint=jj(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new $j(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(B8){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new F8(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ou(async()=>{const{default:e}=await import("./browser-934-jyai.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:O8}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case wu.connecting:return Io.Connecting;case wu.open:return Io.Open;case wu.closing:return Io.Closing;default:return Io.Closed}}isConnected(){return this.connectionState()===Io.Open}channel(e,n={config:{}}){const r=new ZS(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:a,ref:i}=e,o=()=>{this.encode(e,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${n} ${r} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(a=>{n&&a.updateJoinPayload({access_token:n}),a.joinedOnce&&a._isJoined()&&a._push(Ca.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(k8,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:a,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${a} ${o&&"("+o+")"||""}`,i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(u=>u(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ca.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${r}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([U8],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class F8{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=wu.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class KS extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ln(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class V8 extends KS{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class iw extends KS{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var H8=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(h){try{f(r.next(h))}catch(m){o(m)}}function c(h){try{f(r.throw(h))}catch(m){o(m)}}function f(h){h.done?i(h.value):a(h.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};const Nj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ou(async()=>{const{default:r}=await Promise.resolve().then(()=>qu);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},q8=()=>H8(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ou(()=>Promise.resolve().then(()=>qu),void 0)).Response:Response}),sw=t=>{if(Array.isArray(t))return t.map(n=>sw(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=sw(r)}),e};var Xo=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(h){try{f(r.next(h))}catch(m){o(m)}}function c(h){try{f(r.throw(h))}catch(m){o(m)}}function f(h){h.done?i(h.value):a(h.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};const Wv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),G8=(t,e,n)=>Xo(void 0,void 0,void 0,function*(){const r=yield q8();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(a=>{e(new V8(Wv(a),t.status||500))}).catch(a=>{e(new iw(Wv(a),a))}):e(new iw(Wv(t),t))}),W8=(t,e,n,r)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))};function Jf(t,e,n,r,a,i){return Xo(this,void 0,void 0,function*(){return new Promise((o,u)=>{t(n,W8(e,r,a,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>G8(c,u,r))})})}function Hm(t,e,n,r){return Xo(this,void 0,void 0,function*(){return Jf(t,"GET",e,n,r)})}function js(t,e,n,r,a){return Xo(this,void 0,void 0,function*(){return Jf(t,"POST",e,r,a,n)})}function Z8(t,e,n,r,a){return Xo(this,void 0,void 0,function*(){return Jf(t,"PUT",e,r,a,n)})}function K8(t,e,n,r){return Xo(this,void 0,void 0,function*(){return Jf(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Mj(t,e,n,r,a){return Xo(this,void 0,void 0,function*(){return Jf(t,"DELETE",e,r,a,n)})}var Sr=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(h){try{f(r.next(h))}catch(m){o(m)}}function c(h){try{f(r.throw(h))}catch(m){o(m)}}function f(h){h.done?i(h.value):a(h.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};const Y8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nO={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class X8{constructor(e,n={},r,a){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Nj(a)}uploadOrUpdate(e,n,r,a){return Sr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},nO),a);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,c&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(u=Object.assign(Object.assign({},u),a.headers));const f=this._removeEmptyFolders(n),h=this._getFinalPath(f),m=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:e,body:i,headers:u},o!=null&&o.duplex?{duplex:o.duplex}:{})),g=yield m.json();return m.ok?{data:{path:f,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(i){if(Ln(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Sr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,a){return Sr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),u=new URL(this.url+`/object/upload/sign/${o}`);u.searchParams.set("token",n);try{let c;const f=Object.assign({upsert:nO.upsert},a),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",f.cacheControl)):(c=r,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType);const m=yield this.fetch(u.toString(),{method:"PUT",body:c,headers:h}),g=yield m.json();return m.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(c){if(Ln(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Sr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const i=yield js(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),o=new URL(this.url+i.url),u=o.searchParams.get("token");if(!u)throw new KS("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:u},error:null}}catch(r){if(Ln(r))return{data:null,error:r};throw r}})}update(e,n,r){return Sr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Sr(this,void 0,void 0,function*(){try{return{data:yield js(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Ln(a))return{data:null,error:a};throw a}})}copy(e,n,r){return Sr(this,void 0,void 0,function*(){try{return{data:{path:(yield js(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Ln(a))return{data:null,error:a};throw a}})}createSignedUrl(e,n,r){return Sr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield js(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Ln(a))return{data:null,error:a};throw a}})}createSignedUrls(e,n,r){return Sr(this,void 0,void 0,function*(){try{const a=yield js(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Ln(a))return{data:null,error:a};throw a}})}download(e,n){return Sr(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield Hm(this.fetch,`${this.url}/${a}/${u}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(Ln(u))return{data:null,error:u};throw u}})}info(e){return Sr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Hm(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:sw(r),error:null}}catch(r){if(Ln(r))return{data:null,error:r};throw r}})}exists(e){return Sr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield K8(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ln(r)&&r instanceof iw){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),a=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&a.push(i);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&a.push(c);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(e){return Sr(this,void 0,void 0,function*(){try{return{data:yield Mj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Ln(n))return{data:null,error:n};throw n}})}list(e,n,r){return Sr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Y8),n),{prefix:e||""});return{data:yield js(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(Ln(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const J8="2.7.1",Q8={"X-Client-Info":`storage-js/${J8}`};var Wl=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(h){try{f(r.next(h))}catch(m){o(m)}}function c(h){try{f(r.throw(h))}catch(m){o(m)}}function f(h){h.done?i(h.value):a(h.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};class eq{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Q8),n),this.fetch=Nj(r)}listBuckets(){return Wl(this,void 0,void 0,function*(){try{return{data:yield Hm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ln(e))return{data:null,error:e};throw e}})}getBucket(e){return Wl(this,void 0,void 0,function*(){try{return{data:yield Hm(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Ln(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Wl(this,void 0,void 0,function*(){try{return{data:yield js(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ln(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Wl(this,void 0,void 0,function*(){try{return{data:yield Z8(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ln(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Wl(this,void 0,void 0,function*(){try{return{data:yield js(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ln(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Wl(this,void 0,void 0,function*(){try{return{data:yield Mj(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Ln(n))return{data:null,error:n};throw n}})}}class tq extends eq{constructor(e,n={},r){super(e,n,r)}from(e){return new X8(this.url,this.headers,e,this.fetch)}}const nq="2.49.4";let xd="";typeof Deno<"u"?xd="deno":typeof document<"u"?xd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xd="react-native":xd="node";const rq={"X-Client-Info":`supabase-js-${xd}/${nq}`},aq={headers:rq},iq={schema:"public"},sq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oq={};var lq=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(h){try{f(r.next(h))}catch(m){o(m)}}function c(h){try{f(r.throw(h))}catch(m){o(m)}}function f(h){h.done?i(h.value):a(h.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};const uq=t=>{let e;return t?e=t:typeof fetch>"u"?e=Tj:e=fetch,(...n)=>e(...n)},cq=()=>typeof Headers>"u"?Cj:Headers,dq=(t,e,n)=>{const r=uq(n),a=cq();return(i,o)=>lq(void 0,void 0,void 0,function*(){var u;const c=(u=yield e())!==null&&u!==void 0?u:t;let f=new a(o==null?void 0:o.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:f}))})};var fq=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(h){try{f(r.next(h))}catch(m){o(m)}}function c(h){try{f(r.throw(h))}catch(m){o(m)}}function f(h){h.done?i(h.value):a(h.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};function hq(t){return t.replace(/\/$/,"")}function pq(t,e){const{db:n,auth:r,realtime:a,global:i}=t,{db:o,auth:u,realtime:c,global:f}=e,h={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},u),r),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign({},f),i),accessToken:()=>fq(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const Lj="2.69.1",nu=30*1e3,ow=3,Zv=ow*nu,mq="http://localhost:9999",gq="supabase.auth.token",yq={"X-Client-Info":`gotrue-js/${Lj}`},lw="X-Supabase-Api-Version",Dj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vq=6e5;class YS extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ke(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class _q extends YS{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function wq(t){return Ke(t)&&t.name==="AuthApiError"}class Bj extends YS{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class eo extends YS{constructor(e,n,r,a){super(e,r,a),this.name=n,this.status=r}}class Ps extends eo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Sq(t){return Ke(t)&&t.name==="AuthSessionMissingError"}class Kv extends eo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vp extends eo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Hp extends eo{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xq(t){return Ke(t)&&t.name==="AuthImplicitGrantRedirectError"}class rO extends eo{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uw extends eo{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Yv(t){return Ke(t)&&t.name==="AuthRetryableFetchError"}class aO extends eo{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ud extends eo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const iO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),sO=` 	
\r=`.split(""),Eq=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<sO.length;e+=1)t[sO[e].charCodeAt(0)]=-2;for(let e=0;e<iO.length;e+=1)t[iO[e].charCodeAt(0)]=e;return t})();function Uj(t,e,n){const r=Eq[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function oO(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Rq(o,r,n)};for(let o=0;o<t.length;o+=1)Uj(t.charCodeAt(o),a,i);return e.join("")}function Tq(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Cq(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}Tq(r,e)}}function Rq(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Aq(t){const e=[],n={queue:0,queuedBits:0},r=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)Uj(t.charCodeAt(a),n,r);return new Uint8Array(e)}function Oq(t){const e=[];return Cq(t,n=>e.push(n)),new Uint8Array(e)}function kq(t){return Math.round(Date.now()/1e3)+t}function Pq(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Za=()=>typeof window<"u"&&typeof document<"u",To={tested:!1,writable:!1},zd=()=>{if(!Za())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(To.tested)return To.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),To.tested=!0,To.writable=!0}catch{To.tested=!0,To.writable=!1}return To.writable};function $q(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return n.searchParams.forEach((r,a)=>{e[a]=r}),e}const zj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ou(async()=>{const{default:r}=await Promise.resolve().then(()=>qu);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Iq=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Fj=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},qp=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Gp=async(t,e)=>{await t.removeItem(e)};class zg{constructor(){this.promise=new zg.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}zg.promiseConstructor=Promise;function Xv(t){const e=t.split(".");if(e.length!==3)throw new Ud("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!bq.test(e[r]))throw new Ud("JWT not in base64url format");return{header:JSON.parse(oO(e[0])),payload:JSON.parse(oO(e[1])),signature:Aq(e[2]),raw:{header:e[0],payload:e[1]}}}async function jq(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Nq(t,e){return new Promise((r,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){a(o);return}}})()})}function Mq(t){return("0"+t.toString(16)).substr(-2)}function Lq(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let i=0;i<56;i++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(e),Array.from(e,Mq).join("")}async function Dq(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Bq(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Dq(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zl(t,e,n=!1){const r=Lq();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await Fj(t,`${e}-code-verifier`,a);const i=await Bq(r);return[i,r===i?"plain":"s256"]}const Uq=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zq(t){const e=t.headers.get(lw);if(!e||!e.match(Uq))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Fq(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Vq(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Hq=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const Po=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),qq=[502,503,504];async function lO(t){var e;if(!Iq(t))throw new uw(Po(t),0);if(qq.includes(t.status))throw new uw(Po(t),t.status);let n;try{n=await t.json()}catch(i){throw new Bj(Po(i),i)}let r;const a=zq(t);if(a&&a.getTime()>=Dj["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new aO(Po(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ps}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new aO(Po(n),t.status,n.weak_password.reasons);throw new _q(Po(n),t.status||500,r)}const Gq=(t,e,n,r)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function dt(t,e,n,r){var a;const i=Object.assign({},r==null?void 0:r.headers);i[lw]||(i[lw]=Dj["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Wq(t,e,n+u,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Wq(t,e,n,r,a,i){const o=Gq(e,r,a,i);let u;try{u=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new uw(Po(c),0)}if(u.ok||await lO(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(c){await lO(c)}}function $s(t){var e;let n=null;Xq(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=kq(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function uO(t){const e=$s(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ls(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Zq(t){return{data:t,error:null}}function Kq(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=t,o=Hq(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:u,user:c},error:null}}function Yq(t){return t}function Xq(t){return t.access_token&&t.refresh_token&&t.expires_in}var Jq=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};class Qq{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=zj(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await dt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await dt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ls})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Jq(e,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await dt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Kq,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ke(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await dt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ls})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,a,i,o,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await dt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Yq});if(h.error)throw h.error;const m=await h.json(),g=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return b.length>0&&(b.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);f[`${S}Page`]=w}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Ke(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){try{return await dt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ls})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await dt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ls})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await dt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ls})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await dt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await dt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}}const eG={getItem:t=>zd()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{zd()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{zd()&&globalThis.localStorage.removeItem(t)}};function cO(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function tG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Kl={debug:!!(globalThis&&zd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vj extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class nG extends Vj{}async function rG(t,e,n){Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Kl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new nG(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Kl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}tG();const aG={url:mq,storageKey:gq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function dO(t,e,n){return await n()}class uf{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=uf.nextInstanceID,uf.nextInstanceID+=1,this.instanceID>0&&Za()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},aG),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Qq({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=zj(a.fetch),this.lock=a.lock||dO,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Za()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=rG:this.lock=dO,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:zd()?this.storage=eG:(this.memoryStorage={},this.storage=cO(this.memoryStorage)):(this.memoryStorage={},this.storage=cO(this.memoryStorage)),Za()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Lj}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=$q(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Za()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),xq(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ke(n)?{error:n}:{error:new Bj("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,a;try{const i=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:$s}),{data:o,error:u}=i;if(u||!o)return{data:{user:null,session:null},error:u};const c=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(i){if(Ke(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,a;try{let i;if("email"in e){const{email:h,password:m,options:g}=e;let b=null,v=null;this.flowType==="pkce"&&([b,v]=await Zl(this.storage,this.storageKey)),i=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:m,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:b,code_challenge_method:v},xform:$s})}else if("phone"in e){const{phone:h,password:m,options:g}=e;i=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(a=g==null?void 0:g.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:$s})}else throw new Vp("You must provide either an email or phone number and a password");const{data:o,error:u}=i;if(u||!o)return{data:{user:null,session:null},error:u};const c=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(i){if(Ke(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:u}=e;n=await dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:uO})}else if("phone"in e){const{phone:i,password:o,options:u}=e;n=await dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:uO})}else throw new Vp("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Kv}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await qp(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:i,error:o}=await dt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:$s});if(await Gp(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Kv}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Ke(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:a,access_token:i,nonce:o}=e,u=await dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:$s}),{data:c,error:f}=u;return f?{data:{user:null,session:null},error:f}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Kv}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:f})}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,a,i,o;try{if("email"in e){const{email:u,options:c}=e;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await Zl(this.storage,this.storageKey));const{error:m}=await dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:u,options:c}=e,{data:f,error:h}=await dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h}}throw new Vp("You must provide either an email or phone number.")}catch(u){if(Ke(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,r;try{let a,i;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:u}=await dt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:$s});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,f=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(a){if(Ke(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var n,r,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Zl(this.storage,this.storageKey)),await dt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Zq})}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ps;const{error:a}=await dt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Ke(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:a,options:i}=e,{error:o}=await dt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:a,options:i}=e,{data:o,error:u}=await dt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:u}}throw new Vp("You must provide either an email or phone number and a type")}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await qp(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Zv:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,f,h)=>(!o&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,f,h))})}return{data:{session:e},error:null}}const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ls}):await this._useSession(async n=>{var r,a,i;const{data:o,error:u}=n;if(u)throw u;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ps}:await dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Ls})})}catch(n){if(Ke(n))return Sq(n)&&(await this._removeSession(),await Gp(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:a,error:i}=r;if(i)throw i;if(!a.session)throw new Ps;const o=a.session;let u=null,c=null;this.flowType==="pkce"&&e.email!=null&&([u,c]=await Zl(this.storage,this.storageKey));const{data:f,error:h}=await dt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:c}),jwt:o.access_token,xform:Ls});if(h)throw h;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ps;const n=Date.now()/1e3;let r=n,a=!0,i=null;const{payload:o}=Xv(e.access_token);if(o.exp&&(r=o.exp,a=r<=n),a){const{session:u,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Ke(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:u}=n;if(u)throw u;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ps;const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Za())throw new Hp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Hp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new rO("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hp("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new rO("No code detected.");const{data:C,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:u,expires_at:c,token_type:f}=e;if(!i||!u||!o||!f)throw new Hp("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(u);let g=h+m;c&&(g=parseInt(c));const b=g-h;b*1e3<=nu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${m}s`);const v=g-m;h-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,g,h):h-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,g,h);const{data:w,error:S}=await this._getUser(i);if(S)throw S;const x={provider_token:r,provider_refresh_token:a,access_token:i,expires_in:m,expires_at:g,refresh_token:o,token_type:f,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(r){if(Ke(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await qp(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{error:i};const o=(r=a.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:u}=await this.admin.signOut(o,e);if(u&&!(wq(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await Gp(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Pq(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,a;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await Zl(this.storage,this.storageKey,!0));try{return await dt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:a}=await this._useSession(async i=>{var o,u,c,f,h;const{data:m,error:g}=i;if(g)throw g;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await dt(this.fetch,"GET",b,{headers:this.headers,jwt:(h=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(a)throw a;return Za()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ke(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,a;const{data:i,error:o}=n;if(o)throw o;return await dt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Nq(async a=>(a>0&&await jq(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await dt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$s})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Yv(i)&&Date.now()+o-r<nu})}catch(r){if(this._debug(n,"error",r),Ke(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Za()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await qp(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const a=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Zv;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Zv}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Yv(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ps;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new zg;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ps;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={session:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(a,"error",i),Ke(i)){const o={session:null,error:i};return Yv(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,r=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Fj(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Gp(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Za()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),nu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-e)/nu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${nu}ms, refresh threshold is ${ow} ticks`),a<=ow&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Vj)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Za()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Zl(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(u.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);a.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await dt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,a;const{data:i,error:o}=n;if(o)return{data:null,error:o};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:f}=await dt(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:u}=await dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:u})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],a=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Xv(a.access_token);let u=null;o.aal&&(u=o.aal);let c=u;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const h=o.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+vq>Date.now()))return r;const{data:a,error:i}=await dt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new Ud("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),r=a.keys.find(o=>o.kid===e),!r)throw new Ud("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:b,error:v}=await this.getSession();if(v||!b.session)return{data:null,error:v};r=b.session.access_token}const{header:a,payload:i,signature:o,raw:{header:u,payload:c}}=Xv(r);if(Fq(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:i,header:a,signature:o},error:null}}const f=Vq(a.alg),h=await this.fetchJwk(a.kid,n),m=await crypto.subtle.importKey("jwk",h,f,!0,["verify"]);if(!await crypto.subtle.verify(f,m,o,Oq(`${u}.${c}`)))throw new Ud("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}}uf.nextInstanceID=0;const iG=uf;class sG extends iG{constructor(e){super(e)}}var oG=function(t,e,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function u(h){try{f(r.next(h))}catch(m){o(m)}}function c(h){try{f(r.throw(h))}catch(m){o(m)}}function f(h){h.done?i(h.value):a(h.value).then(u,c)}f((r=r.apply(t,e||[])).next())})};class lG{constructor(e,n,r){var a,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const u=hq(e);this.realtimeUrl=`${u}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${u}/auth/v1`,this.storageUrl=`${u}/storage/v1`,this.functionsUrl=`${u}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,f={db:iq,realtime:oq,auth:Object.assign(Object.assign({},sq),{storageKey:c}),global:aq},h=pq(r??{},f);this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=dq(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new C8(`${u}/rest/v1`,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new p8(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new tq(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return oG(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:a,storageKey:i,flowType:o,lock:u,debug:c},f,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sG({url:this.authUrl,headers:Object.assign(Object.assign({},m),f),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:a,flowType:o,lock:u,debug:c,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new z8(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const uG=(t,e,n)=>new lG(t,e,n),cG="https://gvnlloyyymlgzyagpplq.supabase.co",dG="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd2bmxsb3l5eW1sZ3p5YWdwcGxxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY5NDg1NDksImV4cCI6MjA2MjUyNDU0OX0.ks-2ystlSadHT8ZMs0yx-GdIX5SLZmBvEUbcEYOgXAI",qi=uG(cG,dG),fG=async()=>{const{data:t,error:e}=await qi.from("menu_categories").select("*").order("display_order",{ascending:!0});if(e)throw console.error("메뉴 카테고리 조회 실패:",e),e;return t||[]},hG=async()=>{const{data:t,error:e}=await qi.from("menu_items").select(`
      *,
      menu_categories!category_id (
        name
      )
      `).eq("is_available",!0).order("id",{ascending:!0});if(console.log("data",t),e)throw console.error("메뉴 아이템 조회 실패:",e),e;return t||[]},pG=async t=>{const{data:e,error:n}=await qi.from("menu_items").select("*").eq("category_id",t).eq("is_available",!0);if(n)throw console.error("메뉴 아이템 조회 실패:",n),n;return e||[]},fO=async t=>{const{data:e,error:n}=await qi.from("menu_items").select("*").eq("id",t).single();if(n)throw console.error("메뉴 아이템 상세 정보 조회 실패:",n),n;const{data:r,error:a}=await qi.from("menu_item_option_categories").select(`
        option_category_id,
        option_categories(id,name,description)    
    `).eq("menu_item_id",t);if(a)throw console.error("옵션 카테고리 조회 실패:",a),a;const i=await Promise.all(r.map(async o=>{const{data:u,error:c}=await qi.from("menu_options").select("*").eq("category_id",o.option_category_id).order("display_order",{ascending:!0});if(c)throw console.error("Error fetching menu options:",c),c;return{category:o.option_categories,options:u||[]}}));return{...e,optionCategories:i}},mG=async t=>{const e=t.reduce((c,f)=>c+f.price*f.quantity,0),{data:n,error:r}=await qi.from("orders").insert({total_amount:e,order_status:"pending"}).select().single();if(r)throw console.error("주문 저장 실패:",r),r;const a=t.map(c=>({order_id:n.id,menu_item_id:c.id,quantity:c.quantity,price:c.price,special_instructions:c.special_instructions||null})),{data:i,error:o}=await qi.from("order_items").insert(a).select();if(o)throw console.error("주문 아이템 저장 실패:",o),o;const u=[];if(t.forEach((c,f)=>{c.options&&c.options.length>0&&c.options.forEach(h=>{u.push({order_item_id:i[f].id,menu_option_id:h.id})})}),u.length>0){const{error:c}=await qi.from("order_item_options").insert(u);if(c)throw console.error("주문 아이템 옵션 저장 실패:",c),c}return{orderId:n.id,orderNumber:n.order_number,totalAmount:e}},cw="RFC3986",dw={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},gG="RFC1738",yG=Array.isArray,Wa=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),Jv=1024,bG=(t,e,n,r,a)=>{if(t.length===0)return t;let i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(u){return"%26%23"+parseInt(u.slice(2),16)+"%3B"});let o="";for(let u=0;u<i.length;u+=Jv){const c=i.length>=Jv?i.slice(u,u+Jv):i,f=[];for(let h=0;h<c.length;++h){let m=c.charCodeAt(h);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||a===gG&&(m===40||m===41)){f[f.length]=c.charAt(h);continue}if(m<128){f[f.length]=Wa[m];continue}if(m<2048){f[f.length]=Wa[192|m>>6]+Wa[128|m&63];continue}if(m<55296||m>=57344){f[f.length]=Wa[224|m>>12]+Wa[128|m>>6&63]+Wa[128|m&63];continue}h+=1,m=65536+((m&1023)<<10|c.charCodeAt(h)&1023),f[f.length]=Wa[240|m>>18]+Wa[128|m>>12&63]+Wa[128|m>>6&63]+Wa[128|m&63]}o+=f.join("")}return o};function vG(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function hO(t,e){if(yG(t)){const n=[];for(let r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)}const _G=Object.prototype.hasOwnProperty,Hj={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},Ka=Array.isArray,wG=Array.prototype.push,qj=function(t,e){wG.apply(t,Ka(e)?e:[e])},SG=Date.prototype.toISOString,An={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:bG,encodeValuesOnly:!1,format:cw,formatter:dw[cw],indices:!1,serializeDate(t){return SG.call(t)},skipNulls:!1,strictNullHandling:!1};function xG(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const Qv={};function Gj(t,e,n,r,a,i,o,u,c,f,h,m,g,b,v,w,S,x){let C=t,E=x,O=0,A=!1;for(;(E=E.get(Qv))!==void 0&&!A;){const T=E.get(t);if(O+=1,typeof T<"u"){if(T===O)throw new RangeError("Cyclic object value");A=!0}typeof E.get(Qv)>"u"&&(O=0)}if(typeof f=="function"?C=f(e,C):C instanceof Date?C=g==null?void 0:g(C):n==="comma"&&Ka(C)&&(C=hO(C,function(T){return T instanceof Date?g==null?void 0:g(T):T})),C===null){if(i)return c&&!w?c(e,An.encoder,S,"key",b):e;C=""}if(xG(C)||vG(C)){if(c){const T=w?e:c(e,An.encoder,S,"key",b);return[(v==null?void 0:v(T))+"="+(v==null?void 0:v(c(C,An.encoder,S,"value",b)))]}return[(v==null?void 0:v(e))+"="+(v==null?void 0:v(String(C)))]}const N=[];if(typeof C>"u")return N;let D;if(n==="comma"&&Ka(C))w&&c&&(C=hO(C,c)),D=[{value:C.length>0?C.join(",")||null:void 0}];else if(Ka(f))D=f;else{const T=Object.keys(C);D=h?T.sort(h):T}const P=u?String(e).replace(/\./g,"%2E"):String(e),L=r&&Ka(C)&&C.length===1?P+"[]":P;if(a&&Ka(C)&&C.length===0)return L+"[]";for(let T=0;T<D.length;++T){const B=D[T],Z=typeof B=="object"&&typeof B.value<"u"?B.value:C[B];if(o&&Z===null)continue;const ne=m&&u?B.replace(/\./g,"%2E"):B,q=Ka(C)?typeof n=="function"?n(L,ne):L:L+(m?"."+ne:"["+ne+"]");x.set(t,O);const F=new WeakMap;F.set(Qv,x),qj(N,Gj(Z,q,n,r,a,i,o,u,n==="comma"&&w&&Ka(C)?null:c,f,h,m,g,b,v,w,S,F))}return N}function EG(t=An){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||An.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=cw;if(typeof t.format<"u"){if(!_G.call(dw,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const r=dw[n];let a=An.filter;(typeof t.filter=="function"||Ka(t.filter))&&(a=t.filter);let i;if(t.arrayFormat&&t.arrayFormat in Hj?i=t.arrayFormat:"indices"in t?i=t.indices?"indices":"repeat":i=An.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:An.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:An.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:An.allowEmptyArrays,arrayFormat:i,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:An.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?An.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:An.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:An.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:An.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:An.encodeValuesOnly,filter:a,format:n,formatter:r,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:An.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:An.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:An.strictNullHandling}}function TG(t,e={}){let n=t;const r=EG(e);let a,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):Ka(r.filter)&&(i=r.filter,a=i);const o=[];if(typeof n!="object"||n===null)return"";const u=Hj[r.arrayFormat],c=u==="comma"&&r.commaRoundTrip;a||(a=Object.keys(n)),r.sort&&a.sort(r.sort);const f=new WeakMap;for(let g=0;g<a.length;++g){const b=a[g];r.skipNulls&&n[b]===null||qj(o,Gj(n[b],b,u,c,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,f))}const h=o.join(r.delimiter);let m=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),h.length>0?m+h:""}const ru="4.100.0";let pO=!1,Fd,Wj,Zj,fw,Kj,Yj,Xj,Jj,Qj;function CG(t,e={auto:!1}){if(pO)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(Fd)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${Fd}'\``);pO=e.auto,Fd=t.kind,Wj=t.fetch,Zj=t.FormData,fw=t.File,Kj=t.ReadableStream,Yj=t.getMultipartRequestOptions,Xj=t.getDefaultAgent,Jj=t.fileFromPath,Qj=t.isFsReadStream}class RG{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function AG({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,a,i;try{n=fetch,r=Request,a=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:a,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(o,u)=>({...u,body:new RG(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}const eN=()=>{Fd||CG(AG(),{auto:!0})};eN();class Ne extends Error{}class Zn extends Ne{constructor(e,n,r,a){super(`${Zn.makeMessage(e,n,r)}`),this.status=e,this.headers=a,this.request_id=a==null?void 0:a["x-request-id"],this.error=n;const i=n;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(e,n,r){const a=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,n,r,a){if(!e||!a)return new Fg({message:r,cause:pw(n)});const i=n==null?void 0:n.error;return e===400?new tN(e,i,r,a):e===401?new nN(e,i,r,a):e===403?new rN(e,i,r,a):e===404?new aN(e,i,r,a):e===409?new iN(e,i,r,a):e===422?new sN(e,i,r,a):e===429?new oN(e,i,r,a):e>=500?new lN(e,i,r,a):new Zn(e,i,r,a)}}class Hr extends Zn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Fg extends Zn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Vg extends Fg{constructor({message:e}={}){super({message:e??"Request timed out."})}}class tN extends Zn{}class nN extends Zn{}class rN extends Zn{}class aN extends Zn{}class iN extends Zn{}class sN extends Zn{}class oN extends Zn{}class lN extends Zn{}class uN extends Ne{constructor(){super("Could not parse response content as the length limit was reached")}}class cN extends Ne{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var Wp=function(t,e,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(t,n):a?a.value=n:e.set(t,n),n},Co=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Lr;class Hg{constructor(){Lr.set(this,void 0),this.buffer=new Uint8Array,Wp(this,Lr,null,"f")}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?new TextEncoder().encode(e):e;let r=new Uint8Array(this.buffer.length+n.length);r.set(this.buffer),r.set(n,this.buffer.length),this.buffer=r;const a=[];let i;for(;(i=OG(this.buffer,Co(this,Lr,"f")))!=null;){if(i.carriage&&Co(this,Lr,"f")==null){Wp(this,Lr,i.index,"f");continue}if(Co(this,Lr,"f")!=null&&(i.index!==Co(this,Lr,"f")+1||i.carriage)){a.push(this.decodeText(this.buffer.slice(0,Co(this,Lr,"f")-1))),this.buffer=this.buffer.slice(Co(this,Lr,"f")),Wp(this,Lr,null,"f");continue}const o=Co(this,Lr,"f")!==null?i.preceding-1:i.preceding,u=this.decodeText(this.buffer.slice(0,o));a.push(u),this.buffer=this.buffer.slice(i.index),Wp(this,Lr,null,"f")}return a}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Ne(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Ne(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Ne("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}Lr=new WeakMap;Hg.NEWLINE_CHARS=new Set([`
`,"\r"]);Hg.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function OG(t,e){for(let a=e??0;a<t.length;a++){if(t[a]===10)return{preceding:a,index:a+1,carriage:!1};if(t[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function kG(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}function dN(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class ti{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*a(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const o of PG(e,n))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null||o.event.startsWith("response.")||o.event.startsWith("transcript.")){let u;try{u=JSON.parse(o.data)}catch(c){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),c}if(u&&u.error)throw new Zn(void 0,u.error,void 0,bN(e.headers));yield u}else{let u;try{u=JSON.parse(o.data)}catch(c){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),c}if(o.event=="error")throw new Zn(void 0,u.error,u.message,void 0);yield{event:o.event,data:u}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new ti(a,n)}static fromReadableStream(e,n){let r=!1;async function*a(){const o=new Hg,u=dN(e);for await(const c of u)for(const f of o.decode(c))yield f;for(const c of o.flush())yield c}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const u of a())o||u&&(yield JSON.parse(u));o=!0}catch(u){if(u instanceof Error&&u.name==="AbortError")return;throw u}finally{o||n.abort()}}return new ti(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),a=i=>({next:()=>{if(i.length===0){const o=r.next();e.push(o),n.push(o)}return i.shift()}});return[new ti(()=>a(e),this.controller),new ti(()=>a(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new Kj({async start(){n=e[Symbol.asyncIterator]()},async pull(a){try{const{value:i,done:o}=await n.next();if(o)return a.close();const u=r.encode(JSON.stringify(i)+`
`);a.enqueue(u)}catch(i){a.error(i)}},async cancel(){var a;await((a=n.return)==null?void 0:a.call(n))}})}}async function*PG(t,e){if(!t.body)throw e.abort(),new Ne("Attempted to iterate over a response with no body");const n=new IG,r=new Hg,a=dN(t.body);for await(const i of $G(a))for(const o of r.decode(i)){const u=n.decode(o);u&&(yield u)}for(const i of r.flush()){const o=n.decode(i);o&&(yield o)}}async function*$G(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let a=new Uint8Array(e.length+r.length);a.set(e),a.set(r,e.length),e=a;let i;for(;(i=kG(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}class IG{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,a]=jG(e,":");return a.startsWith(" ")&&(a=a.substring(1)),n==="event"?this.event=a:n==="data"&&this.data.push(a),null}}function jG(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}const fN=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",hN=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&qg(t),qg=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",NG=t=>hN(t)||fN(t)||Qj(t);async function pN(t,e,n){var a;if(t=await t,hN(t))return t;if(fN(t)){const i=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=qg(i)?[await i.arrayBuffer()]:[i];return new fw(o,e,n)}const r=await MG(t);if(e||(e=DG(t)??"unknown_file"),!(n!=null&&n.type)){const i=(a=r[0])==null?void 0:a.type;typeof i=="string"&&(n={...n,type:i})}return new fw(r,e,n)}async function MG(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(qg(t))e.push(await t.arrayBuffer());else if(BG(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${LG(t)}`);return e}function LG(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function DG(t){var e;return e0(t.name)||e0(t.filename)||((e=e0(t.path))==null?void 0:e.split(/[\\/]/).pop())}const e0=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},BG=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",mO=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",Pu=async t=>{const e=await UG(t.body);return Yj(e,t)},UG=async t=>{const e=new Zj;return await Promise.all(Object.entries(t||{}).map(([n,r])=>hw(e,n,r))),e},hw=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(NG(n)){const r=await pN(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>hw(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,a])=>hw(t,`${e}[${r}]`,a)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Su={},zG=function(t,e,n,r,a){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},FG=function(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Zp;eN();async function mN(t){var o;const{response:e}=t;if(t.options.stream)return Ds("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):ti.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type"),r=(o=n==null?void 0:n.split(";")[0])==null?void 0:o.trim();if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.endsWith("+json"))){const u=await e.json();return Ds("response",e.status,e.url,e.headers,u),gN(u,e)}const i=await e.text();return Ds("response",e.status,e.url,e.headers,i),i}function gN(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class Gg extends Promise{constructor(e,n=mN){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new Gg(this.responsePromise,async n=>gN(e(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class VG{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:a,fetch:i}){this.baseURL=e,this.maxRetries=t0("maxRetries",n),this.timeout=t0("timeout",r),this.httpAgent=a,this.fetch=i??Wj}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...ZG(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${JG()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(async a=>{const i=a&&qg(a==null?void 0:a.body)?new DataView(await a.body.arrayBuffer()):(a==null?void 0:a.body)instanceof DataView?a.body:(a==null?void 0:a.body)instanceof ArrayBuffer?new DataView(a.body):a&&ArrayBuffer.isView(a==null?void 0:a.body)?new DataView(a.body.buffer):a==null?void 0:a.body;return{method:e,path:n,...a,body:i}}))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var w;const r={...e},{method:a,path:i,query:o,headers:u={}}=r,c=ArrayBuffer.isView(r.body)||r.__binaryRequest&&typeof r.body=="string"?r.body:mO(r.body)?r.body.body:r.body?JSON.stringify(r.body,null,2):null,f=this.calculateContentLength(c),h=this.buildURL(i,o);"timeout"in r&&t0("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const m=r.httpAgent??this.httpAgent??Xj(h),g=r.timeout+1e3;typeof((w=m==null?void 0:m.options)==null?void 0:w.timeout)=="number"&&g>(m.options.timeout??0)&&(m.options.timeout=g),this.idempotencyHeader&&a!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const b=this.buildHeaders({options:r,headers:u,contentLength:f,retryCount:n});return{req:{method:a,...c&&{body:c},headers:b,...m&&{agent:m},signal:r.signal??null},url:h,timeout:r.timeout}}buildHeaders({options:e,headers:n,contentLength:r,retryCount:a}){const i={};r&&(i["content-length"]=r);const o=this.defaultHeaders(e);return vO(i,o),vO(i,n),mO(e.body)&&Fd!=="node"&&delete i["content-type"],Yp(o,"x-stainless-retry-count")===void 0&&Yp(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(a)),Yp(o,"x-stainless-timeout")===void 0&&Yp(n,"x-stainless-timeout")===void 0&&e.timeout&&(i["x-stainless-timeout"]=String(Math.trunc(e.timeout/1e3))),this.validateHeaders(i,n),i}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,a){return Zn.generate(e,n,r,a)}request(e,n=null){return new Gg(this.makeRequest(e,n))}async makeRequest(e,n){var m,g;const r=await e,a=r.maxRetries??this.maxRetries;n==null&&(n=a),await this.prepareOptions(r);const{req:i,url:o,timeout:u}=this.buildRequest(r,{retryCount:a-n});if(await this.prepareRequest(i,{url:o,options:r}),Ds("request",o,r,i.headers),(m=r.signal)!=null&&m.aborted)throw new Hr;const c=new AbortController,f=await this.fetchWithTimeout(o,i,u,c).catch(pw);if(f instanceof Error){if((g=r.signal)!=null&&g.aborted)throw new Hr;if(n)return this.retryRequest(r,n);throw f.name==="AbortError"?new Vg:new Fg({cause:f})}const h=bN(f.headers);if(!f.ok){if(n&&this.shouldRetry(f)){const C=`retrying, ${n} attempts remaining`;return Ds(`response (error; ${C})`,f.status,o,h),this.retryRequest(r,n,h)}const b=await f.text().catch(C=>pw(C).message),v=KG(b),w=v?void 0:b;throw Ds(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,f.status,o,h,w),this.makeStatusError(f.status,v,w,h)}return{response:f,options:r,controller:c}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new HG(this,r,e)}buildURL(e,n){const r=XG(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return vN(a)||(n={...a,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Ne(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,a){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>a.abort());const u=setTimeout(()=>a.abort(),r),c={signal:a.signal,...o};return c.method&&(c.method=c.method.toUpperCase()),this.fetch.call(void 0,e,c).finally(()=>{clearTimeout(u)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let a;const i=r==null?void 0:r["retry-after-ms"];if(i){const u=parseFloat(i);Number.isNaN(u)||(a=u)}const o=r==null?void 0:r["retry-after"];if(o&&!a){const u=parseFloat(o);Number.isNaN(u)?a=Date.parse(o)-Date.now():a=u*1e3}if(!(a&&0<=a&&a<60*1e3)){const u=e.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,u)}return await Qf(a),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,o=Math.min(.5*Math.pow(2,i),8),u=1-Math.random()*.25;return o*u*1e3}getUserAgent(){return`${this.constructor.name}/JS ${ru}`}}class yN{constructor(e,n,r,a){Zp.set(this,void 0),zG(this,Zp,e),this.options=a,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new Ne("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[a,i]of r)e.url.searchParams.set(a,i);n.query=void 0,n.path=e.url.toString()}return await FG(this,Zp,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Zp=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class HG extends Gg{constructor(e,n,r){super(n,async a=>new r(e,a.response,await mN(a),a.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const bN=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),qG={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},pn=t=>typeof t=="object"&&t!==null&&!vN(t)&&Object.keys(t).every(e=>_N(qG,e)),GG=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ru,"X-Stainless-OS":yO(Deno.build.os),"X-Stainless-Arch":gO(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ru,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ru,"X-Stainless-OS":yO(process.platform),"X-Stainless-Arch":gO(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=WG();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ru,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ru,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function WG(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const a=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:e,version:`${a}.${i}.${o}`}}}return null}const gO=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",yO=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let bO;const ZG=()=>bO??(bO=GG()),KG=t=>{try{return JSON.parse(t)}catch{return}},YG=/^[a-z][a-z0-9+.-]*:/i,XG=t=>YG.test(t),Qf=t=>new Promise(e=>setTimeout(e,t)),t0=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Ne(`${t} must be an integer`);if(e<0)throw new Ne(`${t} must be a positive integer`);return e},pw=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},Kp=t=>{var e,n,r,a;if(typeof process<"u")return((e=Su==null?void 0:Su[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(a=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:a.trim()};function vN(t){if(!t)return!0;for(const e in t)return!1;return!0}function _N(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function vO(t,e){for(const n in e){if(!_N(e,n))continue;const r=n.toLowerCase();if(!r)continue;const a=e[n];a===null?delete t[r]:a!==void 0&&(t[r]=a)}}const _O=new Set(["authorization","api-key"]);function Ds(t,...e){if(typeof process<"u"&&(Su==null?void 0:Su.DEBUG)==="true"){const n=e.map(r=>{if(!r)return r;if(r.headers){const i={...r,headers:{...r.headers}};for(const o in r.headers)_O.has(o.toLowerCase())&&(i.headers[o]="REDACTED");return i}let a=null;for(const i in r)_O.has(i.toLowerCase())&&(a??(a={...r}),a[i]="REDACTED");return a??r});console.log(`OpenAI:DEBUG:${t}`,...n)}}const JG=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),QG=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",e7=t=>typeof(t==null?void 0:t.get)=="function",Yp=(t,e)=>{var r;const n=e.toLowerCase();if(e7(t)){const a=((r=e[0])==null?void 0:r.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(i,o,u)=>o+u.toUpperCase());for(const i of[e,n,e.toUpperCase(),a]){const o=t.get(i);if(o)return o}}for(const[a,i]of Object.entries(t))if(a.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${e} header, using the first entry.`),i[0]):i},t7=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),n=e.length,r=new Uint8Array(n);for(let a=0;a<n;a++)r[a]=e.charCodeAt(a);return Array.from(new Float32Array(r.buffer))}};function n0(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class Wg extends yN{constructor(e,n,r,a){super(e,n,r,a),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Kn extends yN{constructor(e,n,r,a){super(e,n,r,a),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const n=(r=e[e.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class Fe{constructor(e){this._client=e}}let wN=class extends Fe{list(e,n={},r){return pn(n)?this.list(e,{},n):this._client.getAPIList(`/chat/completions/${e}/messages`,n7,{query:n,...r})}},Zg=class extends Fe{constructor(){super(...arguments),this.messages=new wN(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(`/chat/completions/${e}`,n)}update(e,n,r){return this._client.post(`/chat/completions/${e}`,{body:n,...r})}list(e={},n){return pn(e)?this.list({},e):this._client.getAPIList("/chat/completions",Kg,{query:e,...n})}del(e,n){return this._client.delete(`/chat/completions/${e}`,n)}};class Kg extends Kn{}class n7 extends Kn{}Zg.ChatCompletionsPage=Kg;Zg.Messages=wN;let Yg=class extends Fe{constructor(){super(...arguments),this.completions=new Zg(this._client)}};Yg.Completions=Zg;Yg.ChatCompletionsPage=Kg;class SN extends Fe{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class xN extends Fe{create(e,n){return this._client.post("/audio/transcriptions",Pu({body:e,...n,stream:e.stream??!1,__metadata:{model:e.model}}))}}class EN extends Fe{create(e,n){return this._client.post("/audio/translations",Pu({body:e,...n,__metadata:{model:e.model}}))}}class eh extends Fe{constructor(){super(...arguments),this.transcriptions=new xN(this._client),this.translations=new EN(this._client),this.speech=new SN(this._client)}}eh.Transcriptions=xN;eh.Translations=EN;eh.Speech=SN;class XS extends Fe{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return pn(e)?this.list({},e):this._client.getAPIList("/batches",JS,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class JS extends Kn{}XS.BatchesPage=JS;var xa=function(t,e,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(t,n):a?a.value=n:e.set(t,n),n},tn=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},mw,xm,Em,Ed,Td,Tm,Cd,Di,Rd,qm,Gm,au,TN;class QS{constructor(){mw.add(this),this.controller=new AbortController,xm.set(this,void 0),Em.set(this,()=>{}),Ed.set(this,()=>{}),Td.set(this,void 0),Tm.set(this,()=>{}),Cd.set(this,()=>{}),Di.set(this,{}),Rd.set(this,!1),qm.set(this,!1),Gm.set(this,!1),au.set(this,!1),xa(this,xm,new Promise((e,n)=>{xa(this,Em,e,"f"),xa(this,Ed,n,"f")}),"f"),xa(this,Td,new Promise((e,n)=>{xa(this,Tm,e,"f"),xa(this,Cd,n,"f")}),"f"),tn(this,xm,"f").catch(()=>{}),tn(this,Td,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},tn(this,mw,"m",TN).bind(this))},0)}_connected(){this.ended||(tn(this,Em,"f").call(this),this._emit("connect"))}get ended(){return tn(this,Rd,"f")}get errored(){return tn(this,qm,"f")}get aborted(){return tn(this,Gm,"f")}abort(){this.controller.abort()}on(e,n){return(tn(this,Di,"f")[e]||(tn(this,Di,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=tn(this,Di,"f")[e];if(!r)return this;const a=r.findIndex(i=>i.listener===n);return a>=0&&r.splice(a,1),this}once(e,n){return(tn(this,Di,"f")[e]||(tn(this,Di,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{xa(this,au,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){xa(this,au,!0,"f"),await tn(this,Td,"f")}_emit(e,...n){if(tn(this,Rd,"f"))return;e==="end"&&(xa(this,Rd,!0,"f"),tn(this,Tm,"f").call(this));const r=tn(this,Di,"f")[e];if(r&&(tn(this,Di,"f")[e]=r.filter(a=>!a.once),r.forEach(({listener:a})=>a(...n))),e==="abort"){const a=n[0];!tn(this,au,"f")&&!(r!=null&&r.length)&&Promise.reject(a),tn(this,Ed,"f").call(this,a),tn(this,Cd,"f").call(this,a),this._emit("end");return}if(e==="error"){const a=n[0];!tn(this,au,"f")&&!(r!=null&&r.length)&&Promise.reject(a),tn(this,Ed,"f").call(this,a),tn(this,Cd,"f").call(this,a),this._emit("end")}}_emitFinal(){}}xm=new WeakMap,Em=new WeakMap,Ed=new WeakMap,Td=new WeakMap,Tm=new WeakMap,Cd=new WeakMap,Di=new WeakMap,Rd=new WeakMap,qm=new WeakMap,Gm=new WeakMap,au=new WeakMap,mw=new WeakSet,TN=function(e){if(xa(this,qm,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Hr),e instanceof Hr)return xa(this,Gm,!0,"f"),this._emit("abort",e);if(e instanceof Ne)return this._emit("error",e);if(e instanceof Error){const n=new Ne(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Ne(String(e)))};var Re=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Mr=function(t,e,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(t,n):a?a.value=n:e.set(t,n),n},Gn,gw,Ya,Cm,Ta,Mo,su,jo,Wm,Ur,Rm,Am,Vd,Ad,Od,wO,SO,xO,EO,TO,CO,RO;class Ra extends QS{constructor(){super(...arguments),Gn.add(this),gw.set(this,[]),Ya.set(this,{}),Cm.set(this,{}),Ta.set(this,void 0),Mo.set(this,void 0),su.set(this,void 0),jo.set(this,void 0),Wm.set(this,void 0),Ur.set(this,void 0),Rm.set(this,void 0),Am.set(this,void 0),Vd.set(this,void 0)}[(gw=new WeakMap,Ya=new WeakMap,Cm=new WeakMap,Ta=new WeakMap,Mo=new WeakMap,su=new WeakMap,jo=new WeakMap,Wm=new WeakMap,Ur=new WeakMap,Rm=new WeakMap,Am=new WeakMap,Vd=new WeakMap,Gn=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",a=>{const i=n.shift();i?i.resolve(a):e.push(a)}),this.on("end",()=>{r=!0;for(const a of n)a.resolve(void 0);n.length=0}),this.on("abort",a=>{r=!0;for(const i of n)i.reject(a);n.length=0}),this.on("error",a=>{r=!0;for(const i of n)i.reject(a);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Ra;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const a=ti.fromReadableStream(e,this.controller);for await(const o of a)Re(this,Gn,"m",Ad).call(this,o);if((i=a.controller.signal)!=null&&i.aborted)throw new Hr;return this._addRun(Re(this,Gn,"m",Od).call(this))}toReadableStream(){return new ti(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,a,i){const o=new Ra;return o._run(()=>o._runToolAssistantStream(e,n,r,a,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,n,r,a,i){var f;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const u={...a,stream:!0},c=await e.submitToolOutputs(n,r,u,{...i,signal:this.controller.signal});this._connected();for await(const h of c)Re(this,Gn,"m",Ad).call(this,h);if((f=c.controller.signal)!=null&&f.aborted)throw new Hr;return this._addRun(Re(this,Gn,"m",Od).call(this))}static createThreadAssistantStream(e,n,r){const a=new Ra;return a._run(()=>a._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),a}static createAssistantStream(e,n,r,a){const i=new Ra;return i._run(()=>i._runAssistantStream(e,n,r,{...a,headers:{...a==null?void 0:a.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return Re(this,Rm,"f")}currentRun(){return Re(this,Am,"f")}currentMessageSnapshot(){return Re(this,Ta,"f")}currentRunStepSnapshot(){return Re(this,Vd,"f")}async finalRunSteps(){return await this.done(),Object.values(Re(this,Ya,"f"))}async finalMessages(){return await this.done(),Object.values(Re(this,Cm,"f"))}async finalRun(){if(await this.done(),!Re(this,Mo,"f"))throw Error("Final run was not received.");return Re(this,Mo,"f")}async _createThreadAssistantStream(e,n,r){var u;const a=r==null?void 0:r.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},o=await e.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const c of o)Re(this,Gn,"m",Ad).call(this,c);if((u=o.controller.signal)!=null&&u.aborted)throw new Hr;return this._addRun(Re(this,Gn,"m",Od).call(this))}async _createAssistantStream(e,n,r,a){var c;const i=a==null?void 0:a.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},u=await e.create(n,o,{...a,signal:this.controller.signal});this._connected();for await(const f of u)Re(this,Gn,"m",Ad).call(this,f);if((c=u.controller.signal)!=null&&c.aborted)throw new Hr;return this._addRun(Re(this,Gn,"m",Od).call(this))}static accumulateDelta(e,n){for(const[r,a]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=a;continue}let i=e[r];if(i==null){e[r]=a;continue}if(r==="index"||r==="type"){e[r]=a;continue}if(typeof i=="string"&&typeof a=="string")i+=a;else if(typeof i=="number"&&typeof a=="number")i+=a;else if(n0(i)&&n0(a))i=this.accumulateDelta(i,a);else if(Array.isArray(i)&&Array.isArray(a)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...a);continue}for(const o of a){if(!n0(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const u=o.index;if(u==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof u!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${u}`);const c=i[u];c==null?i.push(o):i[u]=this.accumulateDelta(c,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${a}, accValue: ${i}`);e[r]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,a){return await this._createAssistantStream(n,e,r,a)}async _runToolAssistantStream(e,n,r,a,i){return await this._createToolAssistantStream(r,e,n,a,i)}}Ad=function(e){if(!this.ended)switch(Mr(this,Rm,e,"f"),Re(this,Gn,"m",xO).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Re(this,Gn,"m",RO).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Re(this,Gn,"m",SO).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Re(this,Gn,"m",wO).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Od=function(){if(this.ended)throw new Ne("stream has ended, this shouldn't happen");if(!Re(this,Mo,"f"))throw Error("Final run has not been received");return Re(this,Mo,"f")},wO=function(e){const[n,r]=Re(this,Gn,"m",TO).call(this,e,Re(this,Ta,"f"));Mr(this,Ta,n,"f"),Re(this,Cm,"f")[n.id]=n;for(const a of r){const i=n.content[a.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const a of e.data.delta.content){if(a.type=="text"&&a.text){let i=a.text,o=n.content[a.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(a.index!=Re(this,su,"f")){if(Re(this,jo,"f"))switch(Re(this,jo,"f").type){case"text":this._emit("textDone",Re(this,jo,"f").text,Re(this,Ta,"f"));break;case"image_file":this._emit("imageFileDone",Re(this,jo,"f").image_file,Re(this,Ta,"f"));break}Mr(this,su,a.index,"f")}Mr(this,jo,n.content[a.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(Re(this,su,"f")!==void 0){const a=e.data.content[Re(this,su,"f")];if(a)switch(a.type){case"image_file":this._emit("imageFileDone",a.image_file,Re(this,Ta,"f"));break;case"text":this._emit("textDone",a.text,Re(this,Ta,"f"));break}}Re(this,Ta,"f")&&this._emit("messageDone",e.data),Mr(this,Ta,void 0,"f")}},SO=function(e){const n=Re(this,Gn,"m",EO).call(this,e);switch(Mr(this,Vd,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==Re(this,Wm,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(Re(this,Ur,"f")&&this._emit("toolCallDone",Re(this,Ur,"f")),Mr(this,Wm,i.index,"f"),Mr(this,Ur,n.step_details.tool_calls[i.index],"f"),Re(this,Ur,"f")&&this._emit("toolCallCreated",Re(this,Ur,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Mr(this,Vd,void 0,"f"),e.data.step_details.type=="tool_calls"&&Re(this,Ur,"f")&&(this._emit("toolCallDone",Re(this,Ur,"f")),Mr(this,Ur,void 0,"f")),this._emit("runStepDone",e.data,n);break}},xO=function(e){Re(this,gw,"f").push(e),this._emit("event",e)},EO=function(e){switch(e.event){case"thread.run.step.created":return Re(this,Ya,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=Re(this,Ya,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const a=Ra.accumulateDelta(n,r.delta);Re(this,Ya,"f")[e.data.id]=a}return Re(this,Ya,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Re(this,Ya,"f")[e.data.id]=e.data;break}if(Re(this,Ya,"f")[e.data.id])return Re(this,Ya,"f")[e.data.id];throw new Error("No snapshot available")},TO=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let a=e.data;if(a.delta.content)for(const i of a.delta.content)if(i.index in n.content){let o=n.content[i.index];n.content[i.index]=Re(this,Gn,"m",CO).call(this,i,o)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},CO=function(e,n){return Ra.accumulateDelta(n,e)},RO=function(e){switch(Mr(this,Am,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Mr(this,Mo,e.data,"f"),Re(this,Ur,"f")&&(this._emit("toolCallDone",Re(this,Ur,"f")),Mr(this,Ur,void 0,"f"));break}};class ex extends Fe{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/assistants/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return pn(e)?this.list({},e):this._client.getAPIList("/assistants",tx,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class tx extends Kn{}ex.AssistantsPage=tx;function AO(t){return typeof t.parse=="function"}const xu=t=>(t==null?void 0:t.role)==="assistant",CN=t=>(t==null?void 0:t.role)==="function",RN=t=>(t==null?void 0:t.role)==="tool";function r7(t,e){const n={...t};return Object.defineProperties(n,{$brand:{value:"auto-parseable-response-format",enumerable:!1},$parseRaw:{value:e,enumerable:!1}}),n}function nx(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function th(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function a7(t,e){return!e||!AN(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:rx(t,e)}function rx(t,e){const n=t.choices.map(r=>{var a;if(r.finish_reason==="length")throw new uN;if(r.finish_reason==="content_filter")throw new cN;return{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((a=r.message.tool_calls)==null?void 0:a.map(i=>s7(e,i)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?i7(e,r.message.content):null}}});return{...t,choices:n}}function i7(t,e){var n,r;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=t.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function s7(t,e){var r;const n=(r=t.tools)==null?void 0:r.find(a=>{var i;return((i=a.function)==null?void 0:i.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:th(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function o7(t,e){var r;if(!t)return!1;const n=(r=t.tools)==null?void 0:r.find(a=>{var i;return((i=a.function)==null?void 0:i.name)===e.function.name});return th(n)||(n==null?void 0:n.function.strict)||!1}function AN(t){var e;return nx(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>th(n)||n.type==="function"&&n.function.strict===!0))??!1}function l7(t){for(const e of t??[]){if(e.type!=="function")throw new Ne(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Ne(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Er=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},tr,yw,Zm,bw,vw,_w,ON,ww;const OO=10;class kN extends QS{constructor(){super(...arguments),tr.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(CN(e)||RN(e))&&e.content)this._emit("functionCallResult",e.content);else if(xu(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(xu(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Ne("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Er(this,tr,"m",yw).call(this)}async finalMessage(){return await this.done(),Er(this,tr,"m",Zm).call(this)}async finalFunctionCall(){return await this.done(),Er(this,tr,"m",bw).call(this)}async finalFunctionCallResult(){return await this.done(),Er(this,tr,"m",vw).call(this)}async totalUsage(){return await this.done(),Er(this,tr,"m",_w).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=Er(this,tr,"m",Zm).call(this);n&&this._emit("finalMessage",n);const r=Er(this,tr,"m",yw).call(this);r&&this._emit("finalContent",r);const a=Er(this,tr,"m",bw).call(this);a&&this._emit("finalFunctionCall",a);const i=Er(this,tr,"m",vw).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Er(this,tr,"m",_w).call(this))}async _createChatCompletion(e,n,r){const a=r==null?void 0:r.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),Er(this,tr,"m",ON).call(this,n);const i=await e.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(rx(i,n))}async _runChatCompletion(e,n,r){for(const a of n.messages)this._addMessage(a,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){var g;const a="function",{function_call:i="auto",stream:o,...u}=n,c=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:f=OO}=r||{},h={};for(const b of n.functions)h[b.name||b.function.name]=b;const m=n.functions.map(b=>({name:b.name||b.function.name,parameters:b.parameters,description:b.description}));for(const b of n.messages)this._addMessage(b,!1);for(let b=0;b<f;++b){const w=(g=(await this._createChatCompletion(e,{...u,function_call:i,functions:m,messages:[...this.messages]},r)).choices[0])==null?void 0:g.message;if(!w)throw new Ne("missing message in ChatCompletion response");if(!w.function_call)return;const{name:S,arguments:x}=w.function_call,C=h[S];if(C){if(c&&c!==S){const N=`Invalid function_call: ${JSON.stringify(S)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:a,name:S,content:N});continue}}else{const N=`Invalid function_call: ${JSON.stringify(S)}. Available options are: ${m.map(D=>JSON.stringify(D.name)).join(", ")}. Please try again`;this._addMessage({role:a,name:S,content:N});continue}let E;try{E=AO(C)?await C.parse(x):x}catch(N){this._addMessage({role:a,name:S,content:N instanceof Error?N.message:String(N)});continue}const O=await C.function(E,this),A=Er(this,tr,"m",ww).call(this,O);if(this._addMessage({role:a,name:S,content:A}),c)return}}async _runTools(e,n,r){var b,v,w;const a="tool",{tool_choice:i="auto",stream:o,...u}=n,c=typeof i!="string"&&((b=i==null?void 0:i.function)==null?void 0:b.name),{maxChatCompletions:f=OO}=r||{},h=n.tools.map(S=>{if(th(S)){if(!S.$callback)throw new Ne("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:S.$callback,name:S.function.name,description:S.function.description||"",parameters:S.function.parameters,parse:S.$parseRaw,strict:!0}}}return S}),m={};for(const S of h)S.type==="function"&&(m[S.function.name||S.function.function.name]=S.function);const g="tools"in n?h.map(S=>S.type==="function"?{type:"function",function:{name:S.function.name||S.function.function.name,parameters:S.function.parameters,description:S.function.description,strict:S.function.strict}}:S):void 0;for(const S of n.messages)this._addMessage(S,!1);for(let S=0;S<f;++S){const C=(v=(await this._createChatCompletion(e,{...u,tool_choice:i,tools:g,messages:[...this.messages]},r)).choices[0])==null?void 0:v.message;if(!C)throw new Ne("missing message in ChatCompletion response");if(!((w=C.tool_calls)!=null&&w.length))return;for(const E of C.tool_calls){if(E.type!=="function")continue;const O=E.id,{name:A,arguments:N}=E.function,D=m[A];if(D){if(c&&c!==A){const B=`Invalid tool_call: ${JSON.stringify(A)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:a,tool_call_id:O,content:B});continue}}else{const B=`Invalid tool_call: ${JSON.stringify(A)}. Available options are: ${Object.keys(m).map(Z=>JSON.stringify(Z)).join(", ")}. Please try again`;this._addMessage({role:a,tool_call_id:O,content:B});continue}let P;try{P=AO(D)?await D.parse(N):N}catch(B){const Z=B instanceof Error?B.message:String(B);this._addMessage({role:a,tool_call_id:O,content:Z});continue}const L=await D.function(P,this),T=Er(this,tr,"m",ww).call(this,L);if(this._addMessage({role:a,tool_call_id:O,content:T}),c)return}}}}tr=new WeakSet,yw=function(){return Er(this,tr,"m",Zm).call(this).content??null},Zm=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(xu(n)){const{function_call:r,...a}=n,i={...a,content:n.content??null,refusal:n.refusal??null};return r&&(i.function_call=r),i}}throw new Ne("stream ended without producing a ChatCompletionMessage with role=assistant")},bw=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const a=this.messages[r];if(xu(a)&&(a!=null&&a.function_call))return a.function_call;if(xu(a)&&((e=a==null?void 0:a.tool_calls)!=null&&e.length))return(n=a.tool_calls.at(-1))==null?void 0:n.function}},vw=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(CN(n)&&n.content!=null||RN(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var a;return r.role==="assistant"&&((a=r.tool_calls)==null?void 0:a.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},_w=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},ON=function(e){if(e.n!=null&&e.n>1)throw new Ne("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},ww=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class cf extends kN{static runFunctions(e,n,r){const a=new cf,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return a._run(()=>a._runFunctions(e,n,i)),a}static runTools(e,n,r){const a=new cf,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run(()=>a._runTools(e,n,i)),a}_addMessage(e,n=!0){super._addMessage(e,n),xu(e)&&e.content&&this._emit("content",e.content)}}const PN=1,$N=2,IN=4,jN=8,NN=16,MN=32,LN=64,DN=128,BN=256,UN=DN|BN,zN=NN|MN|UN|LN,FN=PN|$N|zN,VN=IN|jN,u7=FN|VN,Mn={STR:PN,NUM:$N,ARR:IN,OBJ:jN,NULL:NN,BOOL:MN,NAN:LN,INFINITY:DN,MINUS_INFINITY:BN,INF:UN,SPECIAL:zN,ATOM:FN,COLLECTION:VN,ALL:u7};class c7 extends Error{}class d7 extends Error{}function f7(t,e=Mn.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return h7(t.trim(),e)}const h7=(t,e)=>{const n=t.length;let r=0;const a=g=>{throw new c7(`${g} at position ${r}`)},i=g=>{throw new d7(`${g} at position ${r}`)},o=()=>(m(),r>=n&&a("Unexpected end of input"),t[r]==='"'?u():t[r]==="{"?c():t[r]==="["?f():t.substring(r,r+4)==="null"||Mn.NULL&e&&n-r<4&&"null".startsWith(t.substring(r))?(r+=4,null):t.substring(r,r+4)==="true"||Mn.BOOL&e&&n-r<4&&"true".startsWith(t.substring(r))?(r+=4,!0):t.substring(r,r+5)==="false"||Mn.BOOL&e&&n-r<5&&"false".startsWith(t.substring(r))?(r+=5,!1):t.substring(r,r+8)==="Infinity"||Mn.INFINITY&e&&n-r<8&&"Infinity".startsWith(t.substring(r))?(r+=8,1/0):t.substring(r,r+9)==="-Infinity"||Mn.MINUS_INFINITY&e&&1<n-r&&n-r<9&&"-Infinity".startsWith(t.substring(r))?(r+=9,-1/0):t.substring(r,r+3)==="NaN"||Mn.NAN&e&&n-r<3&&"NaN".startsWith(t.substring(r))?(r+=3,NaN):h()),u=()=>{const g=r;let b=!1;for(r++;r<n&&(t[r]!=='"'||b&&t[r-1]==="\\");)b=t[r]==="\\"?!b:!1,r++;if(t.charAt(r)=='"')try{return JSON.parse(t.substring(g,++r-Number(b)))}catch(v){i(String(v))}else if(Mn.STR&e)try{return JSON.parse(t.substring(g,r-Number(b))+'"')}catch{return JSON.parse(t.substring(g,t.lastIndexOf("\\"))+'"')}a("Unterminated string literal")},c=()=>{r++,m();const g={};try{for(;t[r]!=="}";){if(m(),r>=n&&Mn.OBJ&e)return g;const b=u();m(),r++;try{const v=o();Object.defineProperty(g,b,{value:v,writable:!0,enumerable:!0,configurable:!0})}catch(v){if(Mn.OBJ&e)return g;throw v}m(),t[r]===","&&r++}}catch{if(Mn.OBJ&e)return g;a("Expected '}' at end of object")}return r++,g},f=()=>{r++;const g=[];try{for(;t[r]!=="]";)g.push(o()),m(),t[r]===","&&r++}catch{if(Mn.ARR&e)return g;a("Expected ']' at end of array")}return r++,g},h=()=>{if(r===0){t==="-"&&Mn.NUM&e&&a("Not sure what '-' is");try{return JSON.parse(t)}catch(b){if(Mn.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}i(String(b))}}const g=r;for(t[r]==="-"&&r++;t[r]&&!",]}".includes(t[r]);)r++;r==n&&!(Mn.NUM&e)&&a("Unterminated number literal");try{return JSON.parse(t.substring(g,r))}catch{t.substring(g,r)==="-"&&Mn.NUM&e&&a("Not sure what '-' is");try{return JSON.parse(t.substring(g,t.lastIndexOf("e")))}catch(v){i(String(v))}}},m=()=>{for(;r<n&&` 
\r	`.includes(t[r]);)r++};return o()},kO=t=>f7(t,Mn.ALL^Mn.NUM);var Yl=function(t,e,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(t,n):a?a.value=n:e.set(t,n),n},Lt=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Rn,Mi,Xl,Cs,r0,Xp,a0,i0,s0,Jp,o0,PO;class df extends kN{constructor(e){super(),Rn.add(this),Mi.set(this,void 0),Xl.set(this,void 0),Cs.set(this,void 0),Yl(this,Mi,e,"f"),Yl(this,Xl,[],"f")}get currentChatCompletionSnapshot(){return Lt(this,Cs,"f")}static fromReadableStream(e){const n=new df(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const a=new df(n);return a._run(()=>a._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createChatCompletion(e,n,r){var o;super._createChatCompletion;const a=r==null?void 0:r.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),Lt(this,Rn,"m",r0).call(this);const i=await e.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const u of i)Lt(this,Rn,"m",a0).call(this,u);if((o=i.controller.signal)!=null&&o.aborted)throw new Hr;return this._addChatCompletion(Lt(this,Rn,"m",Jp).call(this))}async _fromReadableStream(e,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Lt(this,Rn,"m",r0).call(this),this._connected();const a=ti.fromReadableStream(e,this.controller);let i;for await(const u of a)i&&i!==u.id&&this._addChatCompletion(Lt(this,Rn,"m",Jp).call(this)),Lt(this,Rn,"m",a0).call(this,u),i=u.id;if((o=a.controller.signal)!=null&&o.aborted)throw new Hr;return this._addChatCompletion(Lt(this,Rn,"m",Jp).call(this))}[(Mi=new WeakMap,Xl=new WeakMap,Cs=new WeakMap,Rn=new WeakSet,r0=function(){this.ended||Yl(this,Cs,void 0,"f")},Xp=function(n){let r=Lt(this,Xl,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Lt(this,Xl,"f")[n.index]=r,r)},a0=function(n){var a,i,o,u,c,f,h,m,g,b,v,w,S,x,C;if(this.ended)return;const r=Lt(this,Rn,"m",PO).call(this,n);this._emit("chunk",n,r);for(const E of n.choices){const O=r.choices[E.index];E.delta.content!=null&&((a=O.message)==null?void 0:a.role)==="assistant"&&((i=O.message)!=null&&i.content)&&(this._emit("content",E.delta.content,O.message.content),this._emit("content.delta",{delta:E.delta.content,snapshot:O.message.content,parsed:O.message.parsed})),E.delta.refusal!=null&&((o=O.message)==null?void 0:o.role)==="assistant"&&((u=O.message)!=null&&u.refusal)&&this._emit("refusal.delta",{delta:E.delta.refusal,snapshot:O.message.refusal}),((c=E.logprobs)==null?void 0:c.content)!=null&&((f=O.message)==null?void 0:f.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(h=E.logprobs)==null?void 0:h.content,snapshot:((m=O.logprobs)==null?void 0:m.content)??[]}),((g=E.logprobs)==null?void 0:g.refusal)!=null&&((b=O.message)==null?void 0:b.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(v=E.logprobs)==null?void 0:v.refusal,snapshot:((w=O.logprobs)==null?void 0:w.refusal)??[]});const A=Lt(this,Rn,"m",Xp).call(this,O);O.finish_reason&&(Lt(this,Rn,"m",s0).call(this,O),A.current_tool_call_index!=null&&Lt(this,Rn,"m",i0).call(this,O,A.current_tool_call_index));for(const N of E.delta.tool_calls??[])A.current_tool_call_index!==N.index&&(Lt(this,Rn,"m",s0).call(this,O),A.current_tool_call_index!=null&&Lt(this,Rn,"m",i0).call(this,O,A.current_tool_call_index)),A.current_tool_call_index=N.index;for(const N of E.delta.tool_calls??[]){const D=(S=O.message.tool_calls)==null?void 0:S[N.index];D!=null&&D.type&&((D==null?void 0:D.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(x=D.function)==null?void 0:x.name,index:N.index,arguments:D.function.arguments,parsed_arguments:D.function.parsed_arguments,arguments_delta:((C=N.function)==null?void 0:C.arguments)??""}):(D==null||D.type,void 0))}}},i0=function(n,r){var o,u,c;if(Lt(this,Rn,"m",Xp).call(this,n).done_tool_calls.has(r))return;const i=(o=n.message.tool_calls)==null?void 0:o[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const f=(c=(u=Lt(this,Mi,"f"))==null?void 0:u.tools)==null?void 0:c.find(h=>h.type==="function"&&h.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:th(f)?f.$parseRaw(i.function.arguments):f!=null&&f.function.strict?JSON.parse(i.function.arguments):null})}else i.type},s0=function(n){var a,i;const r=Lt(this,Rn,"m",Xp).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=Lt(this,Rn,"m",o0).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(a=n.logprobs)!=null&&a.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Jp=function(){if(this.ended)throw new Ne("stream has ended, this shouldn't happen");const n=Lt(this,Cs,"f");if(!n)throw new Ne("request ended without sending any chunks");return Yl(this,Cs,void 0,"f"),Yl(this,Xl,[],"f"),p7(n,Lt(this,Mi,"f"))},o0=function(){var r;const n=(r=Lt(this,Mi,"f"))==null?void 0:r.response_format;return nx(n)?n:null},PO=function(n){var r,a,i,o;let u=Lt(this,Cs,"f");const{choices:c,...f}=n;u?Object.assign(u,f):u=Yl(this,Cs,{...f,choices:[]},"f");for(const{delta:h,finish_reason:m,index:g,logprobs:b=null,...v}of n.choices){let w=u.choices[g];if(w||(w=u.choices[g]={finish_reason:m,index:g,message:{},logprobs:b,...v}),b)if(!w.logprobs)w.logprobs=Object.assign({},b);else{const{content:N,refusal:D,...P}=b;Object.assign(w.logprobs,P),N&&((r=w.logprobs).content??(r.content=[]),w.logprobs.content.push(...N)),D&&((a=w.logprobs).refusal??(a.refusal=[]),w.logprobs.refusal.push(...D))}if(m&&(w.finish_reason=m,Lt(this,Mi,"f")&&AN(Lt(this,Mi,"f")))){if(m==="length")throw new uN;if(m==="content_filter")throw new cN}if(Object.assign(w,v),!h)continue;const{content:S,refusal:x,function_call:C,role:E,tool_calls:O,...A}=h;if(Object.assign(w.message,A),x&&(w.message.refusal=(w.message.refusal||"")+x),E&&(w.message.role=E),C&&(w.message.function_call?(C.name&&(w.message.function_call.name=C.name),C.arguments&&((i=w.message.function_call).arguments??(i.arguments=""),w.message.function_call.arguments+=C.arguments)):w.message.function_call=C),S&&(w.message.content=(w.message.content||"")+S,!w.message.refusal&&Lt(this,Rn,"m",o0).call(this)&&(w.message.parsed=kO(w.message.content))),O){w.message.tool_calls||(w.message.tool_calls=[]);for(const{index:N,id:D,type:P,function:L,...T}of O){const B=(o=w.message.tool_calls)[N]??(o[N]={});Object.assign(B,T),D&&(B.id=D),P&&(B.type=P),L&&(B.function??(B.function={name:L.name??"",arguments:""})),L!=null&&L.name&&(B.function.name=L.name),L!=null&&L.arguments&&(B.function.arguments+=L.arguments,o7(Lt(this,Mi,"f"),B)&&(B.function.parsed_arguments=kO(B.function.arguments)))}}}return u},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",a=>{const i=n.shift();i?i.resolve(a):e.push(a)}),this.on("end",()=>{r=!0;for(const a of n)a.resolve(void 0);n.length=0}),this.on("abort",a=>{r=!0;for(const i of n)i.reject(a);n.length=0}),this.on("error",a=>{r=!0;for(const i of n)i.reject(a);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ti(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function p7(t,e){const{id:n,choices:r,created:a,model:i,system_fingerprint:o,...u}=t,c={...u,id:n,choices:r.map(({message:f,finish_reason:h,index:m,logprobs:g,...b})=>{if(!h)throw new Ne(`missing finish_reason for choice ${m}`);const{content:v=null,function_call:w,tool_calls:S,...x}=f,C=f.role;if(!C)throw new Ne(`missing role for choice ${m}`);if(w){const{arguments:E,name:O}=w;if(E==null)throw new Ne(`missing function_call.arguments for choice ${m}`);if(!O)throw new Ne(`missing function_call.name for choice ${m}`);return{...b,message:{content:v,function_call:{arguments:E,name:O},role:C,refusal:f.refusal??null},finish_reason:h,index:m,logprobs:g}}return S?{...b,index:m,finish_reason:h,logprobs:g,message:{...x,role:C,content:v,refusal:f.refusal??null,tool_calls:S.map((E,O)=>{const{function:A,type:N,id:D,...P}=E,{arguments:L,name:T,...B}=A||{};if(D==null)throw new Ne(`missing choices[${m}].tool_calls[${O}].id
${Qp(t)}`);if(N==null)throw new Ne(`missing choices[${m}].tool_calls[${O}].type
${Qp(t)}`);if(T==null)throw new Ne(`missing choices[${m}].tool_calls[${O}].function.name
${Qp(t)}`);if(L==null)throw new Ne(`missing choices[${m}].tool_calls[${O}].function.arguments
${Qp(t)}`);return{...P,id:D,type:N,function:{...B,name:T,arguments:L}}})}}:{...b,message:{...x,content:v,role:C,refusal:f.refusal??null},finish_reason:h,index:m,logprobs:g}}),created:a,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return a7(c,e)}function Qp(t){return JSON.stringify(t)}class Eu extends df{static fromReadableStream(e){const n=new Eu(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,r){const a=new Eu(null),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return a._run(()=>a._runFunctions(e,n,i)),a}static runTools(e,n,r){const a=new Eu(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run(()=>a._runTools(e,n,i)),a}}let HN=class extends Fe{parse(e,n){return l7(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>rx(r,e))}runFunctions(e,n){return e.stream?Eu.runFunctions(this._client,e,n):cf.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?Eu.runTools(this._client,e,n):cf.runTools(this._client,e,n)}stream(e,n){return df.createChatCompletion(this._client,e,n)}};class Sw extends Fe{constructor(){super(...arguments),this.completions=new HN(this._client)}}(function(t){t.Completions=HN})(Sw||(Sw={}));class qN extends Fe{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class GN extends Fe{create(e,n){return this._client.post("/realtime/transcription_sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Xg extends Fe{constructor(){super(...arguments),this.sessions=new qN(this._client),this.transcriptionSessions=new GN(this._client)}}Xg.Sessions=qN;Xg.TranscriptionSessions=GN;class ax extends Fe{create(e,n,r){return this._client.post(`/threads/${e}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,a){return this._client.post(`/threads/${e}/messages/${n}`,{body:r,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(e,n={},r){return pn(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,ix,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class ix extends Kn{}ax.MessagesPage=ix;class sx extends Fe{retrieve(e,n,r,a={},i){return pn(a)?this.retrieve(e,n,r,{},a):this._client.get(`/threads/${e}/runs/${n}/steps/${r}`,{query:a,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n,r={},a){return pn(r)?this.list(e,n,{},r):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,ox,{query:r,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}}class ox extends Kn{}sx.RunStepsPage=ox;let nh=class extends Fe{constructor(){super(...arguments),this.steps=new sx(this._client)}create(e,n,r){const{include:a,...i}=n;return this._client.post(`/threads/${e}/runs`,{query:{include:a},body:i,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(e,n,r){return this._client.get(`/threads/${e}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,a){return this._client.post(`/threads/${e}/runs/${n}`,{body:r,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(e,n={},r){return pn(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,lx,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const a=await this.create(e,n,r);return await this.poll(e,a.id,r)}createAndStream(e,n,r){return Ra.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const a={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(a["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...a}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let u=5e3;if(r!=null&&r.pollIntervalMs)u=r.pollIntervalMs;else{const c=o.headers.get("openai-poll-after-ms");if(c){const f=parseInt(c);isNaN(f)||(u=f)}}await Qf(u);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,n,r){return Ra.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r,a){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:r,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,n,r,a){const i=await this.submitToolOutputs(e,n,r,a);return await this.poll(e,i.id,a)}submitToolOutputsStream(e,n,r,a){return Ra.createToolAssistantStream(e,n,this._client.beta.threads.runs,r,a)}};class lx extends Kn{}nh.RunsPage=lx;nh.Steps=sx;nh.RunStepsPage=ox;class Gu extends Fe{constructor(){super(...arguments),this.runs=new nh(this._client),this.messages=new ax(this._client)}create(e={},n){return pn(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/threads/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(e,n){return Ra.createThreadAssistantStream(e,this._client.beta.threads,n)}}Gu.Runs=nh;Gu.RunsPage=lx;Gu.Messages=ax;Gu.MessagesPage=ix;class Wu extends Fe{constructor(){super(...arguments),this.realtime=new Xg(this._client),this.chat=new Sw(this._client),this.assistants=new ex(this._client),this.threads=new Gu(this._client)}}Wu.Realtime=Xg;Wu.Assistants=ex;Wu.AssistantsPage=tx;Wu.Threads=Gu;class WN extends Fe{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class ZN extends Fe{create(e,n){const r=!!e.encoding_format;let a=r?e.encoding_format:"base64";r&&Ds("Request","User defined encoding_format:",e.encoding_format);const i=this._client.post("/embeddings",{body:{...e,encoding_format:a},...n});return r?i:(Ds("response","Decoding base64 embeddings to float32 array"),i._thenUnwrap(o=>(o&&o.data&&o.data.forEach(u=>{const c=u.embedding;u.embedding=t7(c)}),o)))}}class ux extends Fe{retrieve(e,n,r,a){return this._client.get(`/evals/${e}/runs/${n}/output_items/${r}`,a)}list(e,n,r={},a){return pn(r)?this.list(e,n,{},r):this._client.getAPIList(`/evals/${e}/runs/${n}/output_items`,cx,{query:r,...a})}}class cx extends Kn{}ux.OutputItemListResponsesPage=cx;class rh extends Fe{constructor(){super(...arguments),this.outputItems=new ux(this._client)}create(e,n,r){return this._client.post(`/evals/${e}/runs`,{body:n,...r})}retrieve(e,n,r){return this._client.get(`/evals/${e}/runs/${n}`,r)}list(e,n={},r){return pn(n)?this.list(e,{},n):this._client.getAPIList(`/evals/${e}/runs`,dx,{query:n,...r})}del(e,n,r){return this._client.delete(`/evals/${e}/runs/${n}`,r)}cancel(e,n,r){return this._client.post(`/evals/${e}/runs/${n}`,r)}}class dx extends Kn{}rh.RunListResponsesPage=dx;rh.OutputItems=ux;rh.OutputItemListResponsesPage=cx;class ah extends Fe{constructor(){super(...arguments),this.runs=new rh(this._client)}create(e,n){return this._client.post("/evals",{body:e,...n})}retrieve(e,n){return this._client.get(`/evals/${e}`,n)}update(e,n,r){return this._client.post(`/evals/${e}`,{body:n,...r})}list(e={},n){return pn(e)?this.list({},e):this._client.getAPIList("/evals",fx,{query:e,...n})}del(e,n){return this._client.delete(`/evals/${e}`,n)}}class fx extends Kn{}ah.EvalListResponsesPage=fx;ah.Runs=rh;ah.RunListResponsesPage=dx;let hx=class extends Fe{create(e,n){return this._client.post("/files",Pu({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return pn(e)?this.list({},e):this._client.getAPIList("/files",px,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,n)}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const a=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(e);for(;!o.status||!a.has(o.status);)if(await Qf(n),o=await this.retrieve(e),Date.now()-i>r)throw new Vg({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return o}};class px extends Kn{}hx.FileObjectsPage=px;class KN extends Fe{}let YN=class extends Fe{run(e,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...n})}validate(e,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...n})}};class mx extends Fe{constructor(){super(...arguments),this.graders=new YN(this._client)}}mx.Graders=YN;class gx extends Fe{create(e,n,r){return this._client.getAPIList(`/fine_tuning/checkpoints/${e}/permissions`,yx,{body:n,method:"post",...r})}retrieve(e,n={},r){return pn(n)?this.retrieve(e,{},n):this._client.get(`/fine_tuning/checkpoints/${e}/permissions`,{query:n,...r})}del(e,n,r){return this._client.delete(`/fine_tuning/checkpoints/${e}/permissions/${n}`,r)}}class yx extends Wg{}gx.PermissionCreateResponsesPage=yx;let Jg=class extends Fe{constructor(){super(...arguments),this.permissions=new gx(this._client)}};Jg.Permissions=gx;Jg.PermissionCreateResponsesPage=yx;class bx extends Fe{list(e,n={},r){return pn(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,vx,{query:n,...r})}}class vx extends Kn{}bx.FineTuningJobCheckpointsPage=vx;class Zu extends Fe{constructor(){super(...arguments),this.checkpoints=new bx(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return pn(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",_x,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return pn(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,wx,{query:n,...r})}pause(e,n){return this._client.post(`/fine_tuning/jobs/${e}/pause`,n)}resume(e,n){return this._client.post(`/fine_tuning/jobs/${e}/resume`,n)}}class _x extends Kn{}class wx extends Kn{}Zu.FineTuningJobsPage=_x;Zu.FineTuningJobEventsPage=wx;Zu.Checkpoints=bx;Zu.FineTuningJobCheckpointsPage=vx;class to extends Fe{constructor(){super(...arguments),this.methods=new KN(this._client),this.jobs=new Zu(this._client),this.checkpoints=new Jg(this._client),this.alpha=new mx(this._client)}}to.Methods=KN;to.Jobs=Zu;to.FineTuningJobsPage=_x;to.FineTuningJobEventsPage=wx;to.Checkpoints=Jg;to.Alpha=mx;class XN extends Fe{}class Sx extends Fe{constructor(){super(...arguments),this.graderModels=new XN(this._client)}}Sx.GraderModels=XN;class JN extends Fe{createVariation(e,n){return this._client.post("/images/variations",Pu({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",Pu({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}class xx extends Fe{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",Ex,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class Ex extends Wg{}xx.ModelsPage=Ex;class QN extends Fe{create(e,n){return this._client.post("/moderations",{body:e,...n})}}function m7(t,e){return!e||!y7(e)?{...t,output_parsed:null,output:t.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:eM(t,e)}function eM(t,e){const n=t.output.map(a=>{if(a.type==="function_call")return{...a,parsed_arguments:_7(e,a)};if(a.type==="message"){const i=a.content.map(o=>o.type==="output_text"?{...o,parsed:g7(e,o.text)}:o);return{...a,content:i}}return a}),r=Object.assign({},t,{output:n});return Object.getOwnPropertyDescriptor(t,"output_text")||tM(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const a of r.output)if(a.type==="message"){for(const i of a.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),r}function g7(t,e){var n,r,a,i;return((r=(n=t.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((a=t.text)==null?void 0:a.format)?((i=t.text)==null?void 0:i.format).$parseRaw(e):JSON.parse(e)}function y7(t){var e;return!!nx((e=t.text)==null?void 0:e.format)}function b7(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function v7(t,e){return t.find(n=>n.type==="function"&&n.name===e)}function _7(t,e){const n=v7(t.tools??[],e.name);return{...e,...e,parsed_arguments:b7(n)?n.$parseRaw(e.arguments):n!=null&&n.strict?JSON.parse(e.arguments):null}}function tM(t){const e=[];for(const n of t.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&e.push(r.text);t.output_text=e.join("")}class nM extends Fe{list(e,n={},r){return pn(n)?this.list(e,{},n):this._client.getAPIList(`/responses/${e}/input_items`,S7,{query:n,...r})}}var Jl=function(t,e,n,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(t,n):a?a.value=n:e.set(t,n),n},Rs=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ql,em,As,tm,$O,IO,jO,NO;class Tx extends QS{constructor(e){super(),Ql.add(this),em.set(this,void 0),As.set(this,void 0),tm.set(this,void 0),Jl(this,em,e,"f")}static createResponse(e,n,r){const a=new Tx(n);return a._run(()=>a._createResponse(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createResponse(e,n,r){var o;const a=r==null?void 0:r.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),Rs(this,Ql,"m",$O).call(this);const i=await e.responses.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const u of i)Rs(this,Ql,"m",IO).call(this,u);if((o=i.controller.signal)!=null&&o.aborted)throw new Hr;return Rs(this,Ql,"m",jO).call(this)}[(em=new WeakMap,As=new WeakMap,tm=new WeakMap,Ql=new WeakSet,$O=function(){this.ended||Jl(this,As,void 0,"f")},IO=function(n){if(this.ended)return;const r=Rs(this,Ql,"m",NO).call(this,n);switch(this._emit("event",n),n.type){case"response.output_text.delta":{const a=r.output[n.output_index];if(!a)throw new Ne(`missing output at index ${n.output_index}`);if(a.type==="message"){const i=a.content[n.content_index];if(!i)throw new Ne(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new Ne(`expected content to be 'output_text', got ${i.type}`);this._emit("response.output_text.delta",{...n,snapshot:i.text})}break}case"response.function_call_arguments.delta":{const a=r.output[n.output_index];if(!a)throw new Ne(`missing output at index ${n.output_index}`);a.type==="function_call"&&this._emit("response.function_call_arguments.delta",{...n,snapshot:a.arguments});break}default:this._emit(n.type,n);break}},jO=function(){if(this.ended)throw new Ne("stream has ended, this shouldn't happen");const n=Rs(this,As,"f");if(!n)throw new Ne("request ended without sending any events");Jl(this,As,void 0,"f");const r=w7(n,Rs(this,em,"f"));return Jl(this,tm,r,"f"),r},NO=function(n){let r=Rs(this,As,"f");if(!r){if(n.type!=="response.created")throw new Ne(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=Jl(this,As,n.response,"f"),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const a=r.output[n.output_index];if(!a)throw new Ne(`missing output at index ${n.output_index}`);a.type==="message"&&a.content.push(n.part);break}case"response.output_text.delta":{const a=r.output[n.output_index];if(!a)throw new Ne(`missing output at index ${n.output_index}`);if(a.type==="message"){const i=a.content[n.content_index];if(!i)throw new Ne(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new Ne(`expected content to be 'output_text', got ${i.type}`);i.text+=n.delta}break}case"response.function_call_arguments.delta":{const a=r.output[n.output_index];if(!a)throw new Ne(`missing output at index ${n.output_index}`);a.type==="function_call"&&(a.arguments+=n.delta);break}case"response.completed":{Jl(this,As,n.response,"f");break}}return r},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",a=>{const i=n.shift();i?i.resolve(a):e.push(a)}),this.on("end",()=>{r=!0;for(const a of n)a.resolve(void 0);n.length=0}),this.on("abort",a=>{r=!0;for(const i of n)i.reject(a);n.length=0}),this.on("error",a=>{r=!0;for(const i of n)i.reject(a);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=Rs(this,tm,"f");if(!e)throw new Ne("stream ended without producing a ChatCompletion");return e}}function w7(t,e){return m7(t,e)}class Cx extends Fe{constructor(){super(...arguments),this.inputItems=new nM(this._client)}create(e,n){return this._client.post("/responses",{body:e,...n,stream:e.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&tM(r),r))}retrieve(e,n={},r){return pn(n)?this.retrieve(e,{},n):this._client.get(`/responses/${e}`,{query:n,...r})}del(e,n){return this._client.delete(`/responses/${e}`,{...n,headers:{Accept:"*/*",...n==null?void 0:n.headers}})}parse(e,n){return this._client.responses.create(e,n)._thenUnwrap(r=>eM(r,e))}stream(e,n){return Tx.createResponse(this._client,e,n)}}class S7 extends Kn{}Cx.InputItems=nM;class rM extends Fe{create(e,n,r){return this._client.post(`/uploads/${e}/parts`,Pu({body:n,...r}))}}class Rx extends Fe{constructor(){super(...arguments),this.parts=new rM(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,r){return this._client.post(`/uploads/${e}/complete`,{body:n,...r})}}Rx.Parts=rM;const x7=async t=>{const e=await Promise.allSettled(t),n=e.filter(a=>a.status==="rejected");if(n.length){for(const a of n)console.error(a.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const a of e)a.status==="fulfilled"&&r.push(a.value);return r};class Qg extends Fe{create(e,n,r){return this._client.post(`/vector_stores/${e}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,a){return this._client.post(`/vector_stores/${e}/files/${n}`,{body:r,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}list(e,n={},r){return pn(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,ey,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const a=await this.create(e,n,r);return await this.poll(e,a.id,r)}async poll(e,n,r){const a={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(a["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const i=await this.retrieve(e,n,{...r,headers:a}).withResponse(),o=i.data;switch(o.status){case"in_progress":let u=5e3;if(r!=null&&r.pollIntervalMs)u=r.pollIntervalMs;else{const c=i.response.headers.get("openai-poll-after-ms");if(c){const f=parseInt(c);isNaN(f)||(u=f)}}await Qf(u);break;case"failed":case"completed":return o}}}async upload(e,n,r){const a=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:a.id},r)}async uploadAndPoll(e,n,r){const a=await this.upload(e,n,r);return await this.poll(e,a.id,r)}content(e,n,r){return this._client.getAPIList(`/vector_stores/${e}/files/${n}/content`,Ax,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class ey extends Kn{}class Ax extends Wg{}Qg.VectorStoreFilesPage=ey;Qg.FileContentResponsesPage=Ax;class aM extends Fe{create(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const a=await this.create(e,n);return await this.poll(e,a.id,r)}listFiles(e,n,r={},a){return pn(r)?this.listFiles(e,n,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,ey,{query:r,...a,headers:{"OpenAI-Beta":"assistants=v2",...a==null?void 0:a.headers}})}async poll(e,n,r){const a={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(a["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,n,{...r,headers:a}).withResponse();switch(i.status){case"in_progress":let u=5e3;if(r!=null&&r.pollIntervalMs)u=r.pollIntervalMs;else{const c=o.headers.get("openai-poll-after-ms");if(c){const f=parseInt(c);isNaN(f)||(u=f)}}await Qf(u);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},a){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(a==null?void 0:a.maxConcurrency)??5,o=Math.min(i,n.length),u=this._client,c=n.values(),f=[...r];async function h(g){for(let b of g){const v=await u.files.create({file:b,purpose:"assistants"},a);f.push(v.id)}}const m=Array(o).fill(c).map(h);return await x7(m),await this.createAndPoll(e,{file_ids:f})}}class no extends Fe{constructor(){super(...arguments),this.files=new Qg(this._client),this.fileBatches=new aM(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/vector_stores/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return pn(e)?this.list({},e):this._client.getAPIList("/vector_stores",Ox,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}search(e,n,r){return this._client.getAPIList(`/vector_stores/${e}/search`,kx,{body:n,method:"post",...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Ox extends Kn{}class kx extends Wg{}no.VectorStoresPage=Ox;no.VectorStoreSearchResponsesPage=kx;no.Files=Qg;no.VectorStoreFilesPage=ey;no.FileContentResponsesPage=Ax;no.FileBatches=aM;var iM;let qe=class extends VG{constructor({baseURL:e=Kp("OPENAI_BASE_URL"),apiKey:n=Kp("OPENAI_API_KEY"),organization:r=Kp("OPENAI_ORG_ID")??null,project:a=Kp("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new Ne("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:r,project:a,...i,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&QG())throw new Ne(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new WN(this),this.chat=new Yg(this),this.embeddings=new ZN(this),this.files=new hx(this),this.images=new JN(this),this.audio=new eh(this),this.moderations=new QN(this),this.models=new xx(this),this.fineTuning=new to(this),this.graders=new Sx(this),this.vectorStores=new no(this),this.beta=new Wu(this),this.batches=new XS(this),this.uploads=new Rx(this),this.responses=new Cx(this),this.evals=new ah(this),this._options=o,this.apiKey=n,this.organization=r,this.project=a}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return TG(e,{arrayFormat:"brackets"})}};iM=qe;qe.OpenAI=iM;qe.DEFAULT_TIMEOUT=6e5;qe.OpenAIError=Ne;qe.APIError=Zn;qe.APIConnectionError=Fg;qe.APIConnectionTimeoutError=Vg;qe.APIUserAbortError=Hr;qe.NotFoundError=aN;qe.ConflictError=iN;qe.RateLimitError=oN;qe.BadRequestError=tN;qe.AuthenticationError=nN;qe.InternalServerError=lN;qe.PermissionDeniedError=rN;qe.UnprocessableEntityError=sN;qe.toFile=pN;qe.fileFromPath=Jj;qe.Completions=WN;qe.Chat=Yg;qe.ChatCompletionsPage=Kg;qe.Embeddings=ZN;qe.Files=hx;qe.FileObjectsPage=px;qe.Images=JN;qe.Audio=eh;qe.Moderations=QN;qe.Models=xx;qe.ModelsPage=Ex;qe.FineTuning=to;qe.Graders=Sx;qe.VectorStores=no;qe.VectorStoresPage=Ox;qe.VectorStoreSearchResponsesPage=kx;qe.Beta=Wu;qe.Batches=XS;qe.BatchesPage=JS;qe.Uploads=Rx;qe.Responses=Cx;qe.Evals=ah;qe.EvalListResponsesPage=fx;function MO(t,e=Px){t=t.trim();const n=t.indexOf("```");if(n===-1)return e(t);let r=t.substring(n+3);r.startsWith(`json
`)?r=r.substring(5):r.startsWith("json")?r=r.substring(4):r.startsWith(`
`)&&(r=r.substring(1));const a=r.indexOf("```");let i=r;return a!==-1&&(i=r.substring(0,a)),e(i.trim())}function Px(t){if(typeof t>"u")return null;try{return JSON.parse(t)}catch{}let e="";const n=[];let r=!1,a=!1;for(let i of t){if(r)i==='"'&&!a?r=!1:i===`
`&&!a?i="\\n":i==="\\"?a=!a:a=!1;else if(i==='"')r=!0,a=!1;else if(i==="{")n.push("}");else if(i==="[")n.push("]");else if(i==="}"||i==="]")if(n&&n[n.length-1]===i)n.pop();else return null;e+=i}r&&(e+='"');for(let i=n.length-1;i>=0;i-=1)e+=n[i];try{return JSON.parse(e)}catch{return null}}var l0,LO;function E7(){return LO||(LO=1,l0=function(t,e){if(typeof t!="string")throw new TypeError("Expected a string");return e=typeof e>"u"?"_":e,t.replace(/([a-z\d])([A-Z])/g,"$1"+e+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+e+"$2").toLowerCase()}),l0}var T7=E7();const C7=hi(T7);var nm={exports:{}},DO;function R7(){if(DO)return nm.exports;DO=1;const t=/[\p{Lu}]/u,e=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,r=/([\p{Alpha}\p{N}_]|$)/u,a=/[_.\- ]+/,i=new RegExp("^"+a.source),o=new RegExp(a.source+r.source,"gu"),u=new RegExp("\\d+"+r.source,"gu"),c=(g,b,v)=>{let w=!1,S=!1,x=!1;for(let C=0;C<g.length;C++){const E=g[C];w&&t.test(E)?(g=g.slice(0,C)+"-"+g.slice(C),w=!1,x=S,S=!0,C++):S&&x&&e.test(E)?(g=g.slice(0,C-1)+"-"+g.slice(C-1),x=S,S=!1,w=!0):(w=b(E)===E&&v(E)!==E,x=S,S=v(E)===E&&b(E)!==E)}return g},f=(g,b)=>(n.lastIndex=0,g.replace(n,v=>b(v))),h=(g,b)=>(o.lastIndex=0,u.lastIndex=0,g.replace(o,(v,w)=>b(w)).replace(u,v=>b(v))),m=(g,b)=>{if(!(typeof g=="string"||Array.isArray(g)))throw new TypeError("Expected the input to be `string | string[]`");if(b={pascalCase:!1,preserveConsecutiveUppercase:!1,...b},Array.isArray(g)?g=g.map(x=>x.trim()).filter(x=>x.length).join("-"):g=g.trim(),g.length===0)return"";const v=b.locale===!1?x=>x.toLowerCase():x=>x.toLocaleLowerCase(b.locale),w=b.locale===!1?x=>x.toUpperCase():x=>x.toLocaleUpperCase(b.locale);return g.length===1?b.pascalCase?w(g):v(g):(g!==v(g)&&(g=c(g,v,w)),g=g.replace(i,""),b.preserveConsecutiveUppercase?g=f(g,v):g=v(g),b.pascalCase&&(g=w(g.charAt(0))+g.slice(1)),h(g,w))};return nm.exports=m,nm.exports.default=m,nm.exports}R7();function A7(t,e){return(e==null?void 0:e[t])||C7(t)}function O7(t,e,n){const r={};for(const a in t)Object.hasOwn(t,a)&&(r[e(a,n)]=t[a]);return r}function BO(t){return Array.isArray(t)?[...t]:{...t}}function k7(t,e){const n=BO(t);for(const[r,a]of Object.entries(e)){const[i,...o]=r.split(".").reverse();let u=n;for(const c of o.reverse()){if(u[c]===void 0)break;u[c]=BO(u[c]),u=u[c]}u[i]!==void 0&&(u[i]={lc:1,type:"secret",id:[a]})}return n}function sM(t){const e=Object.getPrototypeOf(t);return typeof t.lc_name=="function"&&(typeof e.lc_name!="function"||t.lc_name()!==e.lc_name())?t.lc_name():t.name}class Ho{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,sM(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}constructor(e,...n){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_serializable_keys!==void 0?this.lc_kwargs=Object.fromEntries(Object.entries(e||{}).filter(([r])=>{var a;return(a=this.lc_serializable_keys)==null?void 0:a.includes(r)})):this.lc_kwargs=e??{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof Ho||typeof this.lc_kwargs!="object"||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},n={},r=Object.keys(this.lc_kwargs).reduce((a,i)=>(a[i]=i in this?this[i]:this.lc_kwargs[i],a),{});for(let a=Object.getPrototypeOf(this);a;a=Object.getPrototypeOf(a))Object.assign(e,Reflect.get(a,"lc_aliases",this)),Object.assign(n,Reflect.get(a,"lc_secrets",this)),Object.assign(r,Reflect.get(a,"lc_attributes",this));return Object.keys(n).forEach(a=>{let i=this,o=r;const[u,...c]=a.split(".").reverse();for(const f of c.reverse()){if(!(f in i)||i[f]===void 0)return;(!(f in o)||o[f]===void 0)&&(typeof i[f]=="object"&&i[f]!=null?o[f]={}:Array.isArray(i[f])&&(o[f]=[])),i=i[f],o=o[f]}u in i&&i[u]!==void 0&&(o[u]=o[u]||i[u])}),{lc:1,type:"constructor",id:this.lc_id,kwargs:O7(Object.keys(n).length?k7(r,n):r,A7,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}}function qo(t){return typeof t=="object"&&t!==null&&"type"in t&&typeof t.type=="string"&&"source_type"in t&&(t.source_type==="url"||t.source_type==="base64"||t.source_type==="text"||t.source_type==="id")}function P7(t){return qo(t)&&t.source_type==="url"&&"url"in t&&typeof t.url=="string"}function $7(t){return qo(t)&&t.source_type==="base64"&&"data"in t&&typeof t.data=="string"}function I7(t){if(qo(t)){if(t.source_type==="url")return{type:"image_url",image_url:{url:t.url}};if(t.source_type==="base64"){if(!t.mime_type)throw new Error("mime_type key is required for base64 data.");return{type:"image_url",image_url:{url:`data:${t.mime_type};base64,${t.data}`}}}}throw new Error("Unsupported source type. Only 'url' and 'base64' are supported.")}function UO(t){const e=t.split(";")[0].split("/");if(e.length!==2)throw new Error(`Invalid mime type: "${t}" - does not match type/subtype format.`);const n=e[0].trim(),r=e[1].trim();if(n===""||r==="")throw new Error(`Invalid mime type: "${t}" - type or subtype is empty.`);const a={};for(const i of t.split(";").slice(1)){const o=i.split("=");if(o.length!==2)throw new Error(`Invalid parameter syntax in mime type: "${t}".`);const u=o[0].trim(),c=o[1].trim();if(u==="")throw new Error(`Invalid parameter syntax in mime type: "${t}".`);a[u]=c}return{type:n,subtype:r,parameters:a}}function zO({dataUrl:t,asTypedArray:e=!1}){const n=t.match(/^data:(\w+\/\w+);base64,([A-Za-z0-9+/]+=*)$/);let r;if(n){r=n[1].toLowerCase();const a=e?Uint8Array.from(atob(n[2]),i=>i.charCodeAt(0)):n[2];return{mime_type:r,data:a}}}function oM(t,e){if(t.type==="text"){if(!e.fromStandardTextBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardTextBlock\` method.`);return e.fromStandardTextBlock(t)}if(t.type==="image"){if(!e.fromStandardImageBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardImageBlock\` method.`);return e.fromStandardImageBlock(t)}if(t.type==="audio"){if(!e.fromStandardAudioBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardAudioBlock\` method.`);return e.fromStandardAudioBlock(t)}if(t.type==="file"){if(!e.fromStandardFileBlock)throw new Error(`Converter for ${e.providerName} does not implement \`fromStandardFileBlock\` method.`);return e.fromStandardFileBlock(t)}throw new Error(`Unable to convert content block type '${t.type}' to provider-specific format: not recognized.`)}function Ku(t,e){return typeof t=="string"?t===""?e:typeof e=="string"?t+e:Array.isArray(e)&&e.some(n=>qo(n))?[{type:"text",source_type:"text",text:t},...e]:[{type:"text",text:t},...e]:Array.isArray(e)?ty(t,e)??[...t,...e]:e===""?t:Array.isArray(t)&&t.some(n=>qo(n))?[...t,{type:"file",source_type:"text",text:e}]:[...t,{type:"text",text:e}]}function j7(t,e){return t==="error"||e==="error"?"error":"success"}function N7(t,e){function n(r,a){if(typeof r!="object"||r===null||r===void 0)return r;if(a>=e)return Array.isArray(r)?"[Array]":"[Object]";if(Array.isArray(r))return r.map(o=>n(o,a+1));const i={};for(const o of Object.keys(r))i[o]=n(r[o],a+1);return i}return JSON.stringify(n(t,0),null,2)}class Yu extends Ho{get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}get text(){return typeof this.content=="string"?this.content:Array.isArray(this.content)?this.content.map(e=>typeof e=="string"?e:e.type==="text"?e.text:"").join(""):""}getType(){return this._getType()}constructor(e,n){typeof e=="string"&&(e={content:e,additional_kwargs:n,response_metadata:{}}),e.additional_kwargs||(e.additional_kwargs={}),e.response_metadata||(e.response_metadata={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","messages"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs,this.response_metadata=e.response_metadata,this.id=e.id}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}static lc_name(){return"BaseMessage"}get _printableFields(){return{id:this.id,content:this.content,name:this.name,additional_kwargs:this.additional_kwargs,response_metadata:this.response_metadata}}_updateId(e){this.id=e,this.lc_kwargs.id=e}get[Symbol.toStringTag](){return this.constructor.lc_name()}[Symbol.for("nodejs.util.inspect.custom")](e){if(e===null)return this;const n=N7(this._printableFields,Math.max(4,e));return`${this.constructor.lc_name()} ${n}`}}function pr(t,e){const n={...t};for(const[r,a]of Object.entries(e))if(n[r]==null)n[r]=a;else{if(a==null)continue;if(typeof n[r]!=typeof a||Array.isArray(n[r])!==Array.isArray(a))throw new Error(`field[${r}] already exists in the message chunk, but with a different type.`);if(typeof n[r]=="string"){if(r==="type")continue;n[r]+=a}else if(typeof n[r]=="object"&&!Array.isArray(n[r]))n[r]=pr(n[r],a);else if(Array.isArray(n[r]))n[r]=ty(n[r],a);else{if(n[r]===a)continue;console.warn(`field[${r}] already exists in this message chunk and value has unsupported type.`)}}return n}function ty(t,e){if(!(t===void 0&&e===void 0)){if(t===void 0||e===void 0)return t||e;{const n=[...t];for(const r of e)if(typeof r=="object"&&"index"in r&&typeof r.index=="number"){const a=n.findIndex(i=>i.index===r.index);a!==-1?n[a]=pr(n[a],r):n.push(r)}else{if(typeof r=="object"&&"text"in r&&r.text==="")continue;n.push(r)}return n}}}function M7(t,e){if(!t&&!e)throw new Error("Cannot merge two undefined objects.");if(!t||!e)return t||e;if(typeof t!=typeof e)throw new Error(`Cannot merge objects of different types.
Left ${typeof t}
Right ${typeof e}`);if(typeof t=="string"&&typeof e=="string")return t+e;if(Array.isArray(t)&&Array.isArray(e))return ty(t,e);if(typeof t=="object"&&typeof e=="object")return pr(t,e);if(t===e)return t;throw new Error(`Can not merge objects of different types.
Left ${t}
Right ${e}`)}class Xu extends Yu{}function L7(t){return typeof t.role=="string"}function ny(t){return typeof(t==null?void 0:t._getType)=="function"}function D7(t){return ny(t)&&typeof t.concat=="function"}class B7 extends Yu{static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}constructor(e,n,r){typeof e=="string"&&(e={content:e,name:r,tool_call_id:n}),super(e),Object.defineProperty(this,"lc_direct_tool_output",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"artifact",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}_getType(){return"tool"}static isInstance(e){return e._getType()==="tool"}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}}class $x extends Xu{constructor(e){super(e),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"artifact",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id,this.artifact=e.artifact,this.status=e.status}static lc_name(){return"ToolMessageChunk"}_getType(){return"tool"}concat(e){return new $x({content:Ku(this.content,e.content),additional_kwargs:pr(this.additional_kwargs,e.additional_kwargs),response_metadata:pr(this.response_metadata,e.response_metadata),artifact:M7(this.artifact,e.artifact),tool_call_id:this.tool_call_id,id:this.id??e.id,status:j7(this.status,e.status)})}get _printableFields(){return{...super._printableFields,tool_call_id:this.tool_call_id,artifact:this.artifact}}}function U7(t){const e=[],n=[];for(const r of t)if(r.function){const a=r.function.name;try{const i=JSON.parse(r.function.arguments),o={name:a||"",args:i||{},id:r.id};e.push(o)}catch{n.push({name:a,args:r.function.arguments,id:r.id,error:"Malformed args."})}}else continue;return[e,n]}class ff extends Yu{get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}constructor(e,n){var a;let r;if(typeof e=="string")r={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:n??{}};else{r=e;const i=(a=r.additional_kwargs)==null?void 0:a.tool_calls,o=r.tool_calls;i!=null&&i.length>0&&(o===void 0||o.length===0)&&console.warn(["New LangChain packages are available that more efficiently handle",`tool calling.

Please upgrade your packages to versions that set`,"message tool calls. e.g., `yarn add @langchain/anthropic`,","yarn add @langchain/openai`, etc."].join(" "));try{if(i!=null&&o===void 0){const[u,c]=U7(i);r.tool_calls=u??[],r.invalid_tool_calls=c??[]}else r.tool_calls=r.tool_calls??[],r.invalid_tool_calls=r.invalid_tool_calls??[]}catch{r.tool_calls=[],r.invalid_tool_calls=[]}}super(r),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof r!="string"&&(this.tool_calls=r.tool_calls??this.tool_calls,this.invalid_tool_calls=r.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=r.usage_metadata}static lc_name(){return"AIMessage"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}}function Bs(t){return t._getType()==="ai"}function FO(t){return t._getType()==="ai"}class Hs extends Xu{constructor(e){let n;if(typeof e=="string")n={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(e.tool_call_chunks===void 0)n={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[],usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0};else{const r=[],a=[];for(const i of e.tool_call_chunks){let o={};try{if(o=Px(i.args||"{}"),o===null||typeof o!="object"||Array.isArray(o))throw new Error("Malformed tool call chunk args.");r.push({name:i.name??"",args:o,id:i.id,type:"tool_call"})}catch{a.push({name:i.name,args:i.args,id:i.id,error:"Malformed args.",type:"invalid_tool_call"})}}n={...e,tool_calls:r,invalid_tool_calls:a,usage_metadata:e.usage_metadata!==void 0?e.usage_metadata:void 0}}super(n),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tool_call_chunks",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_chunks=n.tool_call_chunks??this.tool_call_chunks,this.tool_calls=n.tool_calls??this.tool_calls,this.invalid_tool_calls=n.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=n.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}_getType(){return"ai"}get _printableFields(){return{...super._printableFields,tool_calls:this.tool_calls,tool_call_chunks:this.tool_call_chunks,invalid_tool_calls:this.invalid_tool_calls,usage_metadata:this.usage_metadata}}concat(e){var r,a,i,o,u,c,f,h,m,g,b,v,w,S,x,C,E,O,A,N,D,P,L,T,B,Z,ne,q,F,M,z,K,V,j,G,J,Q,le,ce,fe;const n={content:Ku(this.content,e.content),additional_kwargs:pr(this.additional_kwargs,e.additional_kwargs),response_metadata:pr(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(this.tool_call_chunks!==void 0||e.tool_call_chunks!==void 0){const Ae=ty(this.tool_call_chunks,e.tool_call_chunks);Ae!==void 0&&Ae.length>0&&(n.tool_call_chunks=Ae)}if(this.usage_metadata!==void 0||e.usage_metadata!==void 0){const Ae={...(((a=(r=this.usage_metadata)==null?void 0:r.input_token_details)==null?void 0:a.audio)!==void 0||((o=(i=e.usage_metadata)==null?void 0:i.input_token_details)==null?void 0:o.audio)!==void 0)&&{audio:(((c=(u=this.usage_metadata)==null?void 0:u.input_token_details)==null?void 0:c.audio)??0)+(((h=(f=e.usage_metadata)==null?void 0:f.input_token_details)==null?void 0:h.audio)??0)},...(((g=(m=this.usage_metadata)==null?void 0:m.input_token_details)==null?void 0:g.cache_read)!==void 0||((v=(b=e.usage_metadata)==null?void 0:b.input_token_details)==null?void 0:v.cache_read)!==void 0)&&{cache_read:(((S=(w=this.usage_metadata)==null?void 0:w.input_token_details)==null?void 0:S.cache_read)??0)+(((C=(x=e.usage_metadata)==null?void 0:x.input_token_details)==null?void 0:C.cache_read)??0)},...(((O=(E=this.usage_metadata)==null?void 0:E.input_token_details)==null?void 0:O.cache_creation)!==void 0||((N=(A=e.usage_metadata)==null?void 0:A.input_token_details)==null?void 0:N.cache_creation)!==void 0)&&{cache_creation:(((P=(D=this.usage_metadata)==null?void 0:D.input_token_details)==null?void 0:P.cache_creation)??0)+(((T=(L=e.usage_metadata)==null?void 0:L.input_token_details)==null?void 0:T.cache_creation)??0)}},Ee={...(((Z=(B=this.usage_metadata)==null?void 0:B.output_token_details)==null?void 0:Z.audio)!==void 0||((q=(ne=e.usage_metadata)==null?void 0:ne.output_token_details)==null?void 0:q.audio)!==void 0)&&{audio:(((M=(F=this.usage_metadata)==null?void 0:F.output_token_details)==null?void 0:M.audio)??0)+(((K=(z=e.usage_metadata)==null?void 0:z.output_token_details)==null?void 0:K.audio)??0)},...(((j=(V=this.usage_metadata)==null?void 0:V.output_token_details)==null?void 0:j.reasoning)!==void 0||((J=(G=e.usage_metadata)==null?void 0:G.output_token_details)==null?void 0:J.reasoning)!==void 0)&&{reasoning:(((le=(Q=this.usage_metadata)==null?void 0:Q.output_token_details)==null?void 0:le.reasoning)??0)+(((fe=(ce=e.usage_metadata)==null?void 0:ce.output_token_details)==null?void 0:fe.reasoning)??0)}},Oe=this.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},ye=e.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},Me={input_tokens:Oe.input_tokens+ye.input_tokens,output_tokens:Oe.output_tokens+ye.output_tokens,total_tokens:Oe.total_tokens+ye.total_tokens,...Object.keys(Ae).length>0&&{input_token_details:Ae},...Object.keys(Ee).length>0&&{output_token_details:Ee}};n.usage_metadata=Me}return new Hs(n)}}let Ix=class lM extends Yu{static lc_name(){return"ChatMessage"}static _chatMessageClass(){return lM}constructor(e,n){typeof e=="string"&&(e={content:e,role:n}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}static isInstance(e){return e._getType()==="generic"}get _printableFields(){return{...super._printableFields,role:this.role}}};class ry extends Xu{static lc_name(){return"ChatMessageChunk"}constructor(e,n){typeof e=="string"&&(e={content:e,role:n}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}concat(e){return new ry({content:Ku(this.content,e.content),additional_kwargs:pr(this.additional_kwargs,e.additional_kwargs),response_metadata:pr(this.response_metadata,e.response_metadata),role:this.role,id:this.id??e.id})}get _printableFields(){return{...super._printableFields,role:this.role}}}class ay extends Xu{static lc_name(){return"FunctionMessageChunk"}_getType(){return"function"}concat(e){return new ay({content:Ku(this.content,e.content),additional_kwargs:pr(this.additional_kwargs,e.additional_kwargs),response_metadata:pr(this.response_metadata,e.response_metadata),name:this.name??"",id:this.id??e.id})}}class ih extends Yu{static lc_name(){return"HumanMessage"}_getType(){return"human"}constructor(e,n){super(e,n)}}class iy extends Xu{static lc_name(){return"HumanMessageChunk"}_getType(){return"human"}constructor(e,n){super(e,n)}concat(e){return new iy({content:Ku(this.content,e.content),additional_kwargs:pr(this.additional_kwargs,e.additional_kwargs),response_metadata:pr(this.response_metadata,e.response_metadata),id:this.id??e.id})}}class ou extends Yu{static lc_name(){return"SystemMessage"}_getType(){return"system"}constructor(e,n){super(e,n)}}class hf extends Xu{static lc_name(){return"SystemMessageChunk"}_getType(){return"system"}constructor(e,n){super(e,n)}concat(e){return new hf({content:Ku(this.content,e.content),additional_kwargs:pr(this.additional_kwargs,e.additional_kwargs),response_metadata:pr(this.response_metadata,e.response_metadata),id:this.id??e.id})}}function uM(t,e){return t.lc_error_code=e,t.message=`${t.message}

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/${e}/
`,t}function cM(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="tool_call")}class z7 extends Error{constructor(e,n){super(e),Object.defineProperty(this,"output",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.output=n}}function F7(t){return cM(t)?t:typeof t.id=="string"&&t.type==="function"&&typeof t.function=="object"&&t.function!==null&&"arguments"in t.function&&typeof t.function.arguments=="string"&&"name"in t.function&&typeof t.function.name=="string"?{id:t.id,args:JSON.parse(t.function.arguments),name:t.function.name,type:"tool_call"}:t}function V7(t){return typeof t=="object"&&t!=null&&t.lc===1&&Array.isArray(t.id)&&t.kwargs!=null&&typeof t.kwargs=="object"}function u0(t){let e,n;if(V7(t)){const r=t.id.at(-1);r==="HumanMessage"||r==="HumanMessageChunk"?e="user":r==="AIMessage"||r==="AIMessageChunk"?e="assistant":r==="SystemMessage"||r==="SystemMessageChunk"?e="system":r==="FunctionMessage"||r==="FunctionMessageChunk"?e="function":r==="ToolMessage"||r==="ToolMessageChunk"?e="tool":e="unknown",n=t.kwargs}else{const{type:r,...a}=t;e=r,n=a}if(e==="human"||e==="user")return new ih(n);if(e==="ai"||e==="assistant"){const{tool_calls:r,...a}=n;if(!Array.isArray(r))return new ff(n);const i=r.map(F7);return new ff({...a,tool_calls:i})}else{if(e==="system")return new ou(n);if(e==="developer")return new ou({...n,additional_kwargs:{...n.additional_kwargs,__openai_role__:"developer"}});if(e==="tool"&&"tool_call_id"in n)return new B7({...n,content:n.content,tool_call_id:n.tool_call_id,name:n.name});throw uM(new Error(`Unable to coerce message from array: only human, AI, system, developer, or tool message coercion is currently supported.

Received: ${JSON.stringify(t,null,2)}`),"MESSAGE_COERCION_FAILURE")}}function kd(t){if(typeof t=="string")return new ih(t);if(ny(t))return t;if(Array.isArray(t)){const[e,n]=t;return u0({type:e,content:n})}else if(L7(t)){const{role:e,...n}=t;return u0({...n,type:e})}else return u0(t)}function dM(t,e="Human",n="AI"){const r=[];for(const a of t){let i;if(a._getType()==="human")i=e;else if(a._getType()==="ai")i=n;else if(a._getType()==="system")i="System";else if(a._getType()==="function")i="Function";else if(a._getType()==="tool")i="Tool";else if(a._getType()==="generic")i=a.role;else throw new Error(`Got unsupported message type: ${a._getType()}`);const o=a.name?`${a.name}, `:"",u=typeof a.content=="string"?a.content:JSON.stringify(a.content,null,2);r.push(`${i}: ${o}${u}`)}return r.join(`
`)}function H7(t){var n;const e=t._getType();if(e==="human")return new iy({...t});if(e==="ai"){let r={...t};return"tool_calls"in r&&(r={...r,tool_call_chunks:(n=r.tool_calls)==null?void 0:n.map(a=>({...a,type:"tool_call_chunk",index:void 0,args:JSON.stringify(a.args)}))}),new Hs({...r})}else{if(e==="system")return new hf({...t});if(e==="function")return new ay({...t});if(Ix.isInstance(t))return new ry({...t});throw new Error("Unknown message type.")}}var pt;(function(t){t.assertEqual=a=>a;function e(a){}t.assertIs=e;function n(a){throw new Error}t.assertNever=n,t.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(u=>typeof a[a[u]]!="number"),o={};for(const u of i)o[u]=a[u];return t.objectValues(o)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},t.find=(a,i)=>{for(const o of a)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(pt||(pt={}));var xw;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(xw||(xw={}));const me=pt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),zi=t=>{switch(typeof t){case"undefined":return me.undefined;case"string":return me.string;case"number":return isNaN(t)?me.nan:me.number;case"boolean":return me.boolean;case"function":return me.function;case"bigint":return me.bigint;case"symbol":return me.symbol;case"object":return Array.isArray(t)?me.array:t===null?me.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?me.promise:typeof Map<"u"&&t instanceof Map?me.map:typeof Set<"u"&&t instanceof Set?me.set:typeof Date<"u"&&t instanceof Date?me.date:me.object;default:return me.unknown}},ue=pt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),q7=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Gr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let u=r,c=0;for(;c<o.path.length;){const f=o.path[c];c===o.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(n(o))):u[f]=u[f]||{_errors:[]},u=u[f],c++}}};return a(this),r}static assert(e){if(!(e instanceof Gr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,pt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Gr.create=t=>new Gr(t);const $u=(t,e)=>{let n;switch(t.code){case ue.invalid_type:t.received===me.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ue.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,pt.jsonStringifyReplacer)}`;break;case ue.unrecognized_keys:n=`Unrecognized key(s) in object: ${pt.joinValues(t.keys,", ")}`;break;case ue.invalid_union:n="Invalid input";break;case ue.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${pt.joinValues(t.options)}`;break;case ue.invalid_enum_value:n=`Invalid enum value. Expected ${pt.joinValues(t.options)}, received '${t.received}'`;break;case ue.invalid_arguments:n="Invalid function arguments";break;case ue.invalid_return_type:n="Invalid function return type";break;case ue.invalid_date:n="Invalid date";break;case ue.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:pt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ue.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ue.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ue.custom:n="Invalid input";break;case ue.invalid_intersection_types:n="Intersection results could not be merged";break;case ue.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ue.not_finite:n="Number must be finite";break;default:n=e.defaultError,pt.assertNever(t)}return{message:n}};let fM=$u;function G7(t){fM=t}function Km(){return fM}const Ym=t=>{const{data:e,path:n,errorMaps:r,issueData:a}=t,i=[...n,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let u="";const c=r.filter(f=>!!f).slice().reverse();for(const f of c)u=f(o,{data:e,defaultError:u}).message;return{...a,path:i,message:u}},W7=[];function pe(t,e){const n=Km(),r=Ym({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===$u?void 0:$u].filter(a=>!!a)});t.common.issues.push(r)}class or{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const a of n){if(a.status==="aborted")return Be;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const a of n){const i=await a.key,o=await a.value;r.push({key:i,value:o})}return or.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const a of n){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Be;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const Be=Object.freeze({status:"aborted"}),lu=t=>({status:"dirty",value:t}),mr=t=>({status:"valid",value:t}),Ew=t=>t.status==="aborted",Tw=t=>t.status==="dirty",Go=t=>t.status==="valid",pf=t=>typeof Promise<"u"&&t instanceof Promise;function Xm(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function hM(t,e,n,r,a){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var xe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(xe||(xe={}));var Pd,$d;class di{constructor(e,n,r,a){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const VO=(t,e)=>{if(Go(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Gr(t.common.issues);return this._error=n,this._error}}};function He(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:a}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(o,u)=>{var c,f;const{message:h}=t;return o.code==="invalid_enum_value"?{message:h??u.defaultError}:typeof u.data>"u"?{message:(c=h??r)!==null&&c!==void 0?c:u.defaultError}:o.code!=="invalid_type"?{message:u.defaultError}:{message:(f=h??n)!==null&&f!==void 0?f:u.defaultError}},description:a}}class Xe{get description(){return this._def.description}_getType(e){return zi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:zi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new or,ctx:{common:e.parent.common,data:e.data,parsedType:zi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(pf(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const a={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zi(e)},i=this._parseSync({data:e,path:a.path,parent:a});return VO(a,i)}"~validate"(e){var n,r;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zi(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:a});return Go(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then(i=>Go(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zi(e)},a=this._parse({data:e,path:r.path,parent:r}),i=await(pf(a)?a:Promise.resolve(a));return VO(r,i)}refine(e,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,i)=>{const o=e(a),u=()=>i.addIssue({code:ue.custom,...r(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(u(),!1)):o?!0:(u(),!1)})}refinement(e,n){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(e){return new ja({schema:this,typeName:re.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ka.create(this,this._def)}nullable(){return Zs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Oa.create(this)}promise(){return ju.create(this,this._def)}or(e){return bf.create([this,e],this._def)}and(e){return vf.create(this,e,this._def)}transform(e){return new ja({...He(this._def),schema:this,typeName:re.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Ef({...He(this._def),innerType:this,defaultValue:n,typeName:re.ZodDefault})}brand(){return new jx({typeName:re.ZodBranded,type:this,...He(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Tf({...He(this._def),innerType:this,catchValue:n,typeName:re.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return sh.create(this,e)}readonly(){return Cf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Z7=/^c[^\s-]{8,}$/i,K7=/^[0-9a-z]+$/,Y7=/^[0-9A-HJKMNP-TV-Z]{26}$/i,X7=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,J7=/^[a-z0-9_-]{21}$/i,Q7=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,eW=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,tW=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,nW="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let c0;const rW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,aW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,iW=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,sW=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,oW=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,lW=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,pM="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",uW=new RegExp(`^${pM}$`);function mM(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function cW(t){return new RegExp(`^${mM(t)}$`)}function gM(t){let e=`${pM}T${mM(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function dW(t,e){return!!((e==="v4"||!e)&&rW.test(t)||(e==="v6"||!e)&&iW.test(t))}function fW(t,e){if(!Q7.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||!a.typ||!a.alg||e&&a.alg!==e)}catch{return!1}}function hW(t,e){return!!((e==="v4"||!e)&&aW.test(t)||(e==="v6"||!e)&&sW.test(t))}class Aa extends Xe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==me.string){const i=this._getOrReturnCtx(e);return pe(i,{code:ue.invalid_type,expected:me.string,received:i.parsedType}),Be}const r=new or;let a;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),pe(a,{code:ue.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),pe(a,{code:ue.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,u=e.data.length<i.value;(o||u)&&(a=this._getOrReturnCtx(e,a),o?pe(a,{code:ue.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):u&&pe(a,{code:ue.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")tW.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"email",code:ue.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")c0||(c0=new RegExp(nW,"u")),c0.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"emoji",code:ue.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")X7.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"uuid",code:ue.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")J7.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"nanoid",code:ue.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Z7.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"cuid",code:ue.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")K7.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"cuid2",code:ue.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Y7.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"ulid",code:ue.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),pe(a,{validation:"url",code:ue.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"regex",code:ue.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),pe(a,{code:ue.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),pe(a,{code:ue.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),pe(a,{code:ue.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?gM(i).test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{code:ue.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?uW.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{code:ue.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?cW(i).test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{code:ue.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?eW.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"duration",code:ue.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?dW(e.data,i.version)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"ip",code:ue.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?fW(e.data,i.alg)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"jwt",code:ue.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?hW(e.data,i.version)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"cidr",code:ue.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?oW.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"base64",code:ue.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?lW.test(e.data)||(a=this._getOrReturnCtx(e,a),pe(a,{validation:"base64url",code:ue.invalid_string,message:i.message}),r.dirty()):pt.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(a=>e.test(a),{validation:n,code:ue.invalid_string,...xe.errToObj(r)})}_addCheck(e){return new Aa({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...xe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...xe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...xe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...xe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...xe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...xe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...xe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...xe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...xe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...xe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...xe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...xe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...xe.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...xe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...xe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...xe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...xe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...xe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...xe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...xe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...xe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...xe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...xe.errToObj(n)})}nonempty(e){return this.min(1,xe.errToObj(e))}trim(){return new Aa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Aa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Aa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Aa.create=t=>{var e;return new Aa({checks:[],typeName:re.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...He(t)})};function pW(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=n>r?n:r,i=parseInt(t.toFixed(a).replace(".","")),o=parseInt(e.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class qs extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==me.number){const i=this._getOrReturnCtx(e);return pe(i,{code:ue.invalid_type,expected:me.number,received:i.parsedType}),Be}let r;const a=new or;for(const i of this._def.checks)i.kind==="int"?pt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),pe(r,{code:ue.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),pe(r,{code:ue.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),pe(r,{code:ue.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?pW(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),pe(r,{code:ue.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),pe(r,{code:ue.not_finite,message:i.message}),a.dirty()):pt.assertNever(i);return{status:a.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,xe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,xe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,xe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,xe.toString(n))}setLimit(e,n,r,a){return new qs({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:xe.toString(a)}]})}_addCheck(e){return new qs({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:xe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:xe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&pt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}qs.create=t=>new qs({checks:[],typeName:re.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...He(t)});class Gs extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==me.bigint)return this._getInvalidInput(e);let r;const a=new or;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),pe(r,{code:ue.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),pe(r,{code:ue.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),pe(r,{code:ue.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):pt.assertNever(i);return{status:a.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return pe(n,{code:ue.invalid_type,expected:me.bigint,received:n.parsedType}),Be}gte(e,n){return this.setLimit("min",e,!0,xe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,xe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,xe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,xe.toString(n))}setLimit(e,n,r,a){return new Gs({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:xe.toString(a)}]})}_addCheck(e){return new Gs({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Gs.create=t=>{var e;return new Gs({checks:[],typeName:re.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...He(t)})};class mf extends Xe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==me.boolean){const r=this._getOrReturnCtx(e);return pe(r,{code:ue.invalid_type,expected:me.boolean,received:r.parsedType}),Be}return mr(e.data)}}mf.create=t=>new mf({typeName:re.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...He(t)});class Wo extends Xe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==me.date){const i=this._getOrReturnCtx(e);return pe(i,{code:ue.invalid_type,expected:me.date,received:i.parsedType}),Be}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return pe(i,{code:ue.invalid_date}),Be}const r=new or;let a;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),pe(a,{code:ue.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),pe(a,{code:ue.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):pt.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Wo({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:xe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:xe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Wo.create=t=>new Wo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:re.ZodDate,...He(t)});class Jm extends Xe{_parse(e){if(this._getType(e)!==me.symbol){const r=this._getOrReturnCtx(e);return pe(r,{code:ue.invalid_type,expected:me.symbol,received:r.parsedType}),Be}return mr(e.data)}}Jm.create=t=>new Jm({typeName:re.ZodSymbol,...He(t)});class gf extends Xe{_parse(e){if(this._getType(e)!==me.undefined){const r=this._getOrReturnCtx(e);return pe(r,{code:ue.invalid_type,expected:me.undefined,received:r.parsedType}),Be}return mr(e.data)}}gf.create=t=>new gf({typeName:re.ZodUndefined,...He(t)});class yf extends Xe{_parse(e){if(this._getType(e)!==me.null){const r=this._getOrReturnCtx(e);return pe(r,{code:ue.invalid_type,expected:me.null,received:r.parsedType}),Be}return mr(e.data)}}yf.create=t=>new yf({typeName:re.ZodNull,...He(t)});class Iu extends Xe{constructor(){super(...arguments),this._any=!0}_parse(e){return mr(e.data)}}Iu.create=t=>new Iu({typeName:re.ZodAny,...He(t)});class Uo extends Xe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return mr(e.data)}}Uo.create=t=>new Uo({typeName:re.ZodUnknown,...He(t)});class Qi extends Xe{_parse(e){const n=this._getOrReturnCtx(e);return pe(n,{code:ue.invalid_type,expected:me.never,received:n.parsedType}),Be}}Qi.create=t=>new Qi({typeName:re.ZodNever,...He(t)});class Qm extends Xe{_parse(e){if(this._getType(e)!==me.undefined){const r=this._getOrReturnCtx(e);return pe(r,{code:ue.invalid_type,expected:me.void,received:r.parsedType}),Be}return mr(e.data)}}Qm.create=t=>new Qm({typeName:re.ZodVoid,...He(t)});class Oa extends Xe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),a=this._def;if(n.parsedType!==me.array)return pe(n,{code:ue.invalid_type,expected:me.array,received:n.parsedType}),Be;if(a.exactLength!==null){const o=n.data.length>a.exactLength.value,u=n.data.length<a.exactLength.value;(o||u)&&(pe(n,{code:o?ue.too_big:ue.too_small,minimum:u?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(pe(n,{code:ue.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(pe(n,{code:ue.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,u)=>a.type._parseAsync(new di(n,o,n.path,u)))).then(o=>or.mergeArray(r,o));const i=[...n.data].map((o,u)=>a.type._parseSync(new di(n,o,n.path,u)));return or.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Oa({...this._def,minLength:{value:e,message:xe.toString(n)}})}max(e,n){return new Oa({...this._def,maxLength:{value:e,message:xe.toString(n)}})}length(e,n){return new Oa({...this._def,exactLength:{value:e,message:xe.toString(n)}})}nonempty(e){return this.min(1,e)}}Oa.create=(t,e)=>new Oa({type:t,minLength:null,maxLength:null,exactLength:null,typeName:re.ZodArray,...He(e)});function iu(t){if(t instanceof nn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ka.create(iu(r))}return new nn({...t._def,shape:()=>e})}else return t instanceof Oa?new Oa({...t._def,type:iu(t.element)}):t instanceof ka?ka.create(iu(t.unwrap())):t instanceof Zs?Zs.create(iu(t.unwrap())):t instanceof fi?fi.create(t.items.map(e=>iu(e))):t}class nn extends Xe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=pt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==me.object){const f=this._getOrReturnCtx(e);return pe(f,{code:ue.invalid_type,expected:me.object,received:f.parsedType}),Be}const{status:r,ctx:a}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),u=[];if(!(this._def.catchall instanceof Qi&&this._def.unknownKeys==="strip"))for(const f in a.data)o.includes(f)||u.push(f);const c=[];for(const f of o){const h=i[f],m=a.data[f];c.push({key:{status:"valid",value:f},value:h._parse(new di(a,m,a.path,f)),alwaysSet:f in a.data})}if(this._def.catchall instanceof Qi){const f=this._def.unknownKeys;if(f==="passthrough")for(const h of u)c.push({key:{status:"valid",value:h},value:{status:"valid",value:a.data[h]}});else if(f==="strict")u.length>0&&(pe(a,{code:ue.unrecognized_keys,keys:u}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const h of u){const m=a.data[h];c.push({key:{status:"valid",value:h},value:f._parse(new di(a,m,a.path,h)),alwaysSet:h in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const f=[];for(const h of c){const m=await h.key,g=await h.value;f.push({key:m,value:g,alwaysSet:h.alwaysSet})}return f}).then(f=>or.mergeObjectSync(r,f)):or.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return xe.errToObj,new nn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var a,i,o,u;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(u=xe.errToObj(e).message)!==null&&u!==void 0?u:c}:{message:c}}}:{}})}strip(){return new nn({...this._def,unknownKeys:"strip"})}passthrough(){return new nn({...this._def,unknownKeys:"passthrough"})}extend(e){return new nn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new nn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:re.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new nn({...this._def,catchall:e})}pick(e){const n={};return pt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new nn({...this._def,shape:()=>n})}omit(e){const n={};return pt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new nn({...this._def,shape:()=>n})}deepPartial(){return iu(this)}partial(e){const n={};return pt.objectKeys(this.shape).forEach(r=>{const a=this.shape[r];e&&!e[r]?n[r]=a:n[r]=a.optional()}),new nn({...this._def,shape:()=>n})}required(e){const n={};return pt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof ka;)i=i._def.innerType;n[r]=i}}),new nn({...this._def,shape:()=>n})}keyof(){return yM(pt.objectKeys(this.shape))}}nn.create=(t,e)=>new nn({shape:()=>t,unknownKeys:"strip",catchall:Qi.create(),typeName:re.ZodObject,...He(e)});nn.strictCreate=(t,e)=>new nn({shape:()=>t,unknownKeys:"strict",catchall:Qi.create(),typeName:re.ZodObject,...He(e)});nn.lazycreate=(t,e)=>new nn({shape:t,unknownKeys:"strip",catchall:Qi.create(),typeName:re.ZodObject,...He(e)});class bf extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function a(i){for(const u of i)if(u.result.status==="valid")return u.result;for(const u of i)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const o=i.map(u=>new Gr(u.ctx.common.issues));return pe(n,{code:ue.invalid_union,unionErrors:o}),Be}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of r){const f={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:f});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:f}),f.common.issues.length&&o.push(f.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const u=o.map(c=>new Gr(c));return pe(n,{code:ue.invalid_union,unionErrors:u}),Be}}get options(){return this._def.options}}bf.create=(t,e)=>new bf({options:t,typeName:re.ZodUnion,...He(e)});const Bi=t=>t instanceof wf?Bi(t.schema):t instanceof ja?Bi(t.innerType()):t instanceof Sf?[t.value]:t instanceof Ws?t.options:t instanceof xf?pt.objectValues(t.enum):t instanceof Ef?Bi(t._def.innerType):t instanceof gf?[void 0]:t instanceof yf?[null]:t instanceof ka?[void 0,...Bi(t.unwrap())]:t instanceof Zs?[null,...Bi(t.unwrap())]:t instanceof jx||t instanceof Cf?Bi(t.unwrap()):t instanceof Tf?Bi(t._def.innerType):[];class sy extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==me.object)return pe(n,{code:ue.invalid_type,expected:me.object,received:n.parsedType}),Be;const r=this.discriminator,a=n.data[r],i=this.optionsMap.get(a);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(pe(n,{code:ue.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Be)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const a=new Map;for(const i of n){const o=Bi(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of o){if(a.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);a.set(u,i)}}return new sy({typeName:re.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:a,...He(r)})}}function Cw(t,e){const n=zi(t),r=zi(e);if(t===e)return{valid:!0,data:t};if(n===me.object&&r===me.object){const a=pt.objectKeys(e),i=pt.objectKeys(t).filter(u=>a.indexOf(u)!==-1),o={...t,...e};for(const u of i){const c=Cw(t[u],e[u]);if(!c.valid)return{valid:!1};o[u]=c.data}return{valid:!0,data:o}}else if(n===me.array&&r===me.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const o=t[i],u=e[i],c=Cw(o,u);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return n===me.date&&r===me.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class vf extends Xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=(i,o)=>{if(Ew(i)||Ew(o))return Be;const u=Cw(i.value,o.value);return u.valid?((Tw(i)||Tw(o))&&n.dirty(),{status:n.value,value:u.data}):(pe(r,{code:ue.invalid_intersection_types}),Be)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}vf.create=(t,e,n)=>new vf({left:t,right:e,typeName:re.ZodIntersection,...He(n)});class fi extends Xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.array)return pe(r,{code:ue.invalid_type,expected:me.array,received:r.parsedType}),Be;if(r.data.length<this._def.items.length)return pe(r,{code:ue.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Be;!this._def.rest&&r.data.length>this._def.items.length&&(pe(r,{code:ue.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,u)=>{const c=this._def.items[u]||this._def.rest;return c?c._parse(new di(r,o,r.path,u)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>or.mergeArray(n,o)):or.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new fi({...this._def,rest:e})}}fi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new fi({items:t,typeName:re.ZodTuple,rest:null,...He(e)})};class _f extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.object)return pe(r,{code:ue.invalid_type,expected:me.object,received:r.parsedType}),Be;const a=[],i=this._def.keyType,o=this._def.valueType;for(const u in r.data)a.push({key:i._parse(new di(r,u,r.path,u)),value:o._parse(new di(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?or.mergeObjectAsync(n,a):or.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Xe?new _f({keyType:e,valueType:n,typeName:re.ZodRecord,...He(r)}):new _f({keyType:Aa.create(),valueType:e,typeName:re.ZodRecord,...He(n)})}}class eg extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.map)return pe(r,{code:ue.invalid_type,expected:me.map,received:r.parsedType}),Be;const a=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([u,c],f)=>({key:a._parse(new di(r,u,r.path,[f,"key"])),value:i._parse(new di(r,c,r.path,[f,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const c of o){const f=await c.key,h=await c.value;if(f.status==="aborted"||h.status==="aborted")return Be;(f.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(f.value,h.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const c of o){const f=c.key,h=c.value;if(f.status==="aborted"||h.status==="aborted")return Be;(f.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(f.value,h.value)}return{status:n.value,value:u}}}}eg.create=(t,e,n)=>new eg({valueType:e,keyType:t,typeName:re.ZodMap,...He(n)});class Zo extends Xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==me.set)return pe(r,{code:ue.invalid_type,expected:me.set,received:r.parsedType}),Be;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(pe(r,{code:ue.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(pe(r,{code:ue.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const f=new Set;for(const h of c){if(h.status==="aborted")return Be;h.status==="dirty"&&n.dirty(),f.add(h.value)}return{status:n.value,value:f}}const u=[...r.data.values()].map((c,f)=>i._parse(new di(r,c,r.path,f)));return r.common.async?Promise.all(u).then(c=>o(c)):o(u)}min(e,n){return new Zo({...this._def,minSize:{value:e,message:xe.toString(n)}})}max(e,n){return new Zo({...this._def,maxSize:{value:e,message:xe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Zo.create=(t,e)=>new Zo({valueType:t,minSize:null,maxSize:null,typeName:re.ZodSet,...He(e)});class Tu extends Xe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==me.function)return pe(n,{code:ue.invalid_type,expected:me.function,received:n.parsedType}),Be;function r(u,c){return Ym({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Km(),$u].filter(f=>!!f),issueData:{code:ue.invalid_arguments,argumentsError:c}})}function a(u,c){return Ym({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Km(),$u].filter(f=>!!f),issueData:{code:ue.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof ju){const u=this;return mr(async function(...c){const f=new Gr([]),h=await u._def.args.parseAsync(c,i).catch(b=>{throw f.addIssue(r(c,b)),f}),m=await Reflect.apply(o,this,h);return await u._def.returns._def.type.parseAsync(m,i).catch(b=>{throw f.addIssue(a(m,b)),f})})}else{const u=this;return mr(function(...c){const f=u._def.args.safeParse(c,i);if(!f.success)throw new Gr([r(c,f.error)]);const h=Reflect.apply(o,this,f.data),m=u._def.returns.safeParse(h,i);if(!m.success)throw new Gr([a(h,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Tu({...this._def,args:fi.create(e).rest(Uo.create())})}returns(e){return new Tu({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Tu({args:e||fi.create([]).rest(Uo.create()),returns:n||Uo.create(),typeName:re.ZodFunction,...He(r)})}}class wf extends Xe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}wf.create=(t,e)=>new wf({getter:t,typeName:re.ZodLazy,...He(e)});class Sf extends Xe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return pe(n,{received:n.data,code:ue.invalid_literal,expected:this._def.value}),Be}return{status:"valid",value:e.data}}get value(){return this._def.value}}Sf.create=(t,e)=>new Sf({value:t,typeName:re.ZodLiteral,...He(e)});function yM(t,e){return new Ws({values:t,typeName:re.ZodEnum,...He(e)})}class Ws extends Xe{constructor(){super(...arguments),Pd.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return pe(n,{expected:pt.joinValues(r),received:n.parsedType,code:ue.invalid_type}),Be}if(Xm(this,Pd)||hM(this,Pd,new Set(this._def.values)),!Xm(this,Pd).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return pe(n,{received:n.data,code:ue.invalid_enum_value,options:r}),Be}return mr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ws.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ws.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Pd=new WeakMap;Ws.create=yM;class xf extends Xe{constructor(){super(...arguments),$d.set(this,void 0)}_parse(e){const n=pt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==me.string&&r.parsedType!==me.number){const a=pt.objectValues(n);return pe(r,{expected:pt.joinValues(a),received:r.parsedType,code:ue.invalid_type}),Be}if(Xm(this,$d)||hM(this,$d,new Set(pt.getValidEnumValues(this._def.values))),!Xm(this,$d).has(e.data)){const a=pt.objectValues(n);return pe(r,{received:r.data,code:ue.invalid_enum_value,options:a}),Be}return mr(e.data)}get enum(){return this._def.values}}$d=new WeakMap;xf.create=(t,e)=>new xf({values:t,typeName:re.ZodNativeEnum,...He(e)});class ju extends Xe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==me.promise&&n.common.async===!1)return pe(n,{code:ue.invalid_type,expected:me.promise,received:n.parsedType}),Be;const r=n.parsedType===me.promise?n.data:Promise.resolve(n.data);return mr(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ju.create=(t,e)=>new ju({type:t,typeName:re.ZodPromise,...He(e)});class ja extends Xe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:o=>{pe(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async u=>{if(n.value==="aborted")return Be;const c=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return c.status==="aborted"?Be:c.status==="dirty"||n.value==="dirty"?lu(c.value):c});{if(n.value==="aborted")return Be;const u=this._def.schema._parseSync({data:o,path:r.path,parent:r});return u.status==="aborted"?Be:u.status==="dirty"||n.value==="dirty"?lu(u.value):u}}if(a.type==="refinement"){const o=u=>{const c=a.refinement(u,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?Be:(u.status==="dirty"&&n.dirty(),o(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?Be:(u.status==="dirty"&&n.dirty(),o(u.value).then(()=>({status:n.value,value:u.value}))))}if(a.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Go(o))return o;const u=a.transform(o.value,i);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Go(o)?Promise.resolve(a.transform(o.value,i)).then(u=>({status:n.value,value:u})):o);pt.assertNever(a)}}ja.create=(t,e,n)=>new ja({schema:t,typeName:re.ZodEffects,effect:e,...He(n)});ja.createWithPreprocess=(t,e,n)=>new ja({schema:e,effect:{type:"preprocess",transform:t},typeName:re.ZodEffects,...He(n)});class ka extends Xe{_parse(e){return this._getType(e)===me.undefined?mr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ka.create=(t,e)=>new ka({innerType:t,typeName:re.ZodOptional,...He(e)});class Zs extends Xe{_parse(e){return this._getType(e)===me.null?mr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Zs.create=(t,e)=>new Zs({innerType:t,typeName:re.ZodNullable,...He(e)});class Ef extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===me.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ef.create=(t,e)=>new Ef({innerType:t,typeName:re.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...He(e)});class Tf extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return pf(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Gr(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Gr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Tf.create=(t,e)=>new Tf({innerType:t,typeName:re.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...He(e)});class tg extends Xe{_parse(e){if(this._getType(e)!==me.nan){const r=this._getOrReturnCtx(e);return pe(r,{code:ue.invalid_type,expected:me.nan,received:r.parsedType}),Be}return{status:"valid",value:e.data}}}tg.create=t=>new tg({typeName:re.ZodNaN,...He(t)});const mW=Symbol("zod_brand");class jx extends Xe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class sh extends Xe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Be:i.status==="dirty"?(n.dirty(),lu(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Be:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,n){return new sh({in:e,out:n,typeName:re.ZodPipeline})}}class Cf extends Xe{_parse(e){const n=this._def.innerType._parse(e),r=a=>(Go(a)&&(a.value=Object.freeze(a.value)),a);return pf(n)?n.then(a=>r(a)):r(n)}unwrap(){return this._def.innerType}}Cf.create=(t,e)=>new Cf({innerType:t,typeName:re.ZodReadonly,...He(e)});function HO(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function bM(t,e={},n){return t?Iu.create().superRefine((r,a)=>{var i,o;const u=t(r);if(u instanceof Promise)return u.then(c=>{var f,h;if(!c){const m=HO(e,r),g=(h=(f=m.fatal)!==null&&f!==void 0?f:n)!==null&&h!==void 0?h:!0;a.addIssue({code:"custom",...m,fatal:g})}});if(!u){const c=HO(e,r),f=(o=(i=c.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0;a.addIssue({code:"custom",...c,fatal:f})}}):Iu.create()}const gW={object:nn.lazycreate};var re;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(re||(re={}));const yW=(t,e={message:`Input not instance of ${t.name}`})=>bM(n=>n instanceof t,e),vM=Aa.create,_M=qs.create,bW=tg.create,vW=Gs.create,wM=mf.create,_W=Wo.create,wW=Jm.create,SW=gf.create,xW=yf.create,EW=Iu.create,TW=Uo.create,CW=Qi.create,RW=Qm.create,AW=Oa.create,OW=nn.create,kW=nn.strictCreate,PW=bf.create,$W=sy.create,IW=vf.create,jW=fi.create,NW=_f.create,MW=eg.create,LW=Zo.create,DW=Tu.create,BW=wf.create,UW=Sf.create,zW=Ws.create,FW=xf.create,VW=ju.create,qO=ja.create,HW=ka.create,qW=Zs.create,GW=ja.createWithPreprocess,WW=sh.create,ZW=()=>vM().optional(),KW=()=>_M().optional(),YW=()=>wM().optional(),XW={string:t=>Aa.create({...t,coerce:!0}),number:t=>qs.create({...t,coerce:!0}),boolean:t=>mf.create({...t,coerce:!0}),bigint:t=>Gs.create({...t,coerce:!0}),date:t=>Wo.create({...t,coerce:!0})},JW=Be;var Us=Object.freeze({__proto__:null,defaultErrorMap:$u,setErrorMap:G7,getErrorMap:Km,makeIssue:Ym,EMPTY_PATH:W7,addIssueToContext:pe,ParseStatus:or,INVALID:Be,DIRTY:lu,OK:mr,isAborted:Ew,isDirty:Tw,isValid:Go,isAsync:pf,get util(){return pt},get objectUtil(){return xw},ZodParsedType:me,getParsedType:zi,ZodType:Xe,datetimeRegex:gM,ZodString:Aa,ZodNumber:qs,ZodBigInt:Gs,ZodBoolean:mf,ZodDate:Wo,ZodSymbol:Jm,ZodUndefined:gf,ZodNull:yf,ZodAny:Iu,ZodUnknown:Uo,ZodNever:Qi,ZodVoid:Qm,ZodArray:Oa,ZodObject:nn,ZodUnion:bf,ZodDiscriminatedUnion:sy,ZodIntersection:vf,ZodTuple:fi,ZodRecord:_f,ZodMap:eg,ZodSet:Zo,ZodFunction:Tu,ZodLazy:wf,ZodLiteral:Sf,ZodEnum:Ws,ZodNativeEnum:xf,ZodPromise:ju,ZodEffects:ja,ZodTransformer:ja,ZodOptional:ka,ZodNullable:Zs,ZodDefault:Ef,ZodCatch:Tf,ZodNaN:tg,BRAND:mW,ZodBranded:jx,ZodPipeline:sh,ZodReadonly:Cf,custom:bM,Schema:Xe,ZodSchema:Xe,late:gW,get ZodFirstPartyTypeKind(){return re},coerce:XW,any:EW,array:AW,bigint:vW,boolean:wM,date:_W,discriminatedUnion:$W,effect:qO,enum:zW,function:DW,instanceof:yW,intersection:IW,lazy:BW,literal:UW,map:MW,nan:bW,nativeEnum:FW,never:CW,null:xW,nullable:qW,number:_M,object:OW,oboolean:YW,onumber:KW,optional:HW,ostring:ZW,pipeline:WW,preprocess:GW,promise:VW,record:NW,set:LW,strictObject:kW,string:vM,symbol:wW,transformer:qO,tuple:jW,undefined:SW,union:PW,unknown:TW,void:RW,NEVER:JW,ZodIssueCode:ue,quotelessJson:q7,ZodError:Gr}),hd={exports:{}},d0={},f0,GO;function QW(){if(GO)return f0;GO=1;function t(e,n){typeof n=="boolean"&&(n={forever:n}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=n||{},this._maxRetryTime=n&&n.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return f0=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var n=new Date().getTime();if(e&&n-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var a=this;return this._timer=setTimeout(function(){a._attempts++,a._operationTimeoutCb&&(a._timeout=setTimeout(function(){a._operationTimeoutCb(a._attempts)},a._operationTimeout),a._options.unref&&a._timeout.unref()),a._fn(a._attempts)},r),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,n){this._fn=e,n&&(n.timeout&&(this._operationTimeout=n.timeout),n.cb&&(this._operationTimeoutCb=n.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},n=null,r=0,a=0;a<this._errors.length;a++){var i=this._errors[a],o=i.message,u=(e[o]||0)+1;e[o]=u,u>=r&&(n=i,r=u)}return n},f0}var WO;function eZ(){return WO||(WO=1,function(t){var e=QW();t.operation=function(n){var r=t.timeouts(n);return new e(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},t.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var a in n)r[a]=n[a];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var i=[],o=0;o<r.retries;o++)i.push(this.createTimeout(o,r));return n&&n.forever&&!i.length&&i.push(this.createTimeout(o,r)),i.sort(function(u,c){return u-c}),i},t.createTimeout=function(n,r){var a=r.randomize?Math.random()+1:1,i=Math.round(a*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return i=Math.min(i,r.maxTimeout),i},t.wrap=function(n,r,a){if(r instanceof Array&&(a=r,r=null),!a){a=[];for(var i in n)typeof n[i]=="function"&&a.push(i)}for(var o=0;o<a.length;o++){var u=a[o],c=n[u];n[u]=(function(h){var m=t.operation(r),g=Array.prototype.slice.call(arguments,1),b=g.pop();g.push(function(v){m.retry(v)||(v&&(arguments[0]=m.mainError()),b.apply(this,arguments))}),m.attempt(function(){h.apply(n,g)})}).bind(n,c),n[u].options=r}}}(d0)),d0}var h0,ZO;function tZ(){return ZO||(ZO=1,h0=eZ()),h0}var KO;function nZ(){if(KO)return hd.exports;KO=1;const t=tZ(),e=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class n extends Error{constructor(u){super(),u instanceof Error?(this.originalError=u,{message:u}=u):(this.originalError=new Error(u),this.originalError.stack=this.stack),this.name="AbortError",this.message=u}}const r=(o,u,c)=>{const f=c.retries-(u-1);return o.attemptNumber=u,o.retriesLeft=f,o},a=o=>e.includes(o),i=(o,u)=>new Promise((c,f)=>{u={onFailedAttempt:()=>{},retries:10,...u};const h=t.operation(u);h.attempt(async m=>{try{c(await o(m))}catch(g){if(!(g instanceof Error)){f(new TypeError(`Non-error was thrown: "${g}". You should only throw errors.`));return}if(g instanceof n)h.stop(),f(g.originalError);else if(g instanceof TypeError&&!a(g.message))h.stop(),f(g);else{r(g,m,u);try{await u.onFailedAttempt(g)}catch(b){f(b);return}h.retry(g)||f(h.mainError())}}})});return hd.exports=i,hd.exports.default=i,hd.exports.AbortError=n,hd.exports}var rZ=nZ();const ng=hi(rZ),aZ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function Hd(t){return typeof t=="string"&&aZ.test(t)}var Hn=[];for(var p0=0;p0<256;++p0)Hn.push((p0+256).toString(16).slice(1));function iZ(t,e=0){return(Hn[t[e+0]]+Hn[t[e+1]]+Hn[t[e+2]]+Hn[t[e+3]]+"-"+Hn[t[e+4]]+Hn[t[e+5]]+"-"+Hn[t[e+6]]+Hn[t[e+7]]+"-"+Hn[t[e+8]]+Hn[t[e+9]]+"-"+Hn[t[e+10]]+Hn[t[e+11]]+Hn[t[e+12]]+Hn[t[e+13]]+Hn[t[e+14]]+Hn[t[e+15]]).toLowerCase()}var rm,sZ=new Uint8Array(16);function oZ(){if(!rm&&(rm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!rm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return rm(sZ)}var lZ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const YO={randomUUID:lZ};function dr(t,e,n){if(YO.randomUUID&&!t)return YO.randomUUID();t=t||{};var r=t.random||(t.rng||oZ)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,iZ(r)}var am={},m0={exports:{}},XO;function uZ(){return XO||(XO=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function i(c,f,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new a(h,m||c,g),v=n?n+f:f;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],b]:c._events[v].push(b):(c._events[v]=b,c._eventsCount++),c}function o(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)e.call(h,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,b=m.length,v=new Array(b);g<b;g++)v[g]=m[g].fn;return v},u.prototype.listenerCount=function(f){var h=n?n+f:f,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,h,m,g,b,v){var w=n?n+f:f;if(!this._events[w])return!1;var S=this._events[w],x=arguments.length,C,E;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),x){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,m),!0;case 4:return S.fn.call(S.context,h,m,g),!0;case 5:return S.fn.call(S.context,h,m,g,b),!0;case 6:return S.fn.call(S.context,h,m,g,b,v),!0}for(E=1,C=new Array(x-1);E<x;E++)C[E-1]=arguments[E];S.fn.apply(S.context,C)}else{var O=S.length,A;for(E=0;E<O;E++)switch(S[E].once&&this.removeListener(f,S[E].fn,void 0,!0),x){case 1:S[E].fn.call(S[E].context);break;case 2:S[E].fn.call(S[E].context,h);break;case 3:S[E].fn.call(S[E].context,h,m);break;case 4:S[E].fn.call(S[E].context,h,m,g);break;default:if(!C)for(A=1,C=new Array(x-1);A<x;A++)C[A-1]=arguments[A];S[E].fn.apply(S[E].context,C)}}return!0},u.prototype.on=function(f,h,m){return i(this,f,h,m,!1)},u.prototype.once=function(f,h,m){return i(this,f,h,m,!0)},u.prototype.removeListener=function(f,h,m,g){var b=n?n+f:f;if(!this._events[b])return this;if(!h)return o(this,b),this;var v=this._events[b];if(v.fn)v.fn===h&&(!g||v.once)&&(!m||v.context===m)&&o(this,b);else{for(var w=0,S=[],x=v.length;w<x;w++)(v[w].fn!==h||g&&!v[w].once||m&&v[w].context!==m)&&S.push(v[w]);S.length?this._events[b]=S.length===1?S[0]:S:o(this,b)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}(m0)),m0.exports}var pd={exports:{}},g0,JO;function cZ(){return JO||(JO=1,g0=(t,e)=>(e=e||(()=>{}),t.then(n=>new Promise(r=>{r(e())}).then(()=>n),n=>new Promise(r=>{r(e())}).then(()=>{throw n})))),g0}var QO;function dZ(){if(QO)return pd.exports;QO=1;const t=cZ();class e extends Error{constructor(a){super(a),this.name="TimeoutError"}}const n=(r,a,i)=>new Promise((o,u)=>{if(typeof a!="number"||a<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(a===1/0){o(r);return}const c=setTimeout(()=>{if(typeof i=="function"){try{o(i())}catch(m){u(m)}return}const f=typeof i=="string"?i:`Promise timed out after ${a} milliseconds`,h=i instanceof Error?i:new e(f);typeof r.cancel=="function"&&r.cancel(),u(h)},a);t(r.then(o,u),()=>{clearTimeout(c)})});return pd.exports=n,pd.exports.default=n,pd.exports.TimeoutError=e,pd.exports}var im={},sm={},ek;function fZ(){if(ek)return sm;ek=1,Object.defineProperty(sm,"__esModule",{value:!0});function t(e,n,r){let a=0,i=e.length;for(;i>0;){const o=i/2|0;let u=a+o;r(e[u],n)<=0?(a=++u,i-=o+1):i=o}return a}return sm.default=t,sm}var tk;function hZ(){if(tk)return im;tk=1,Object.defineProperty(im,"__esModule",{value:!0});const t=fZ();class e{constructor(){this._queue=[]}enqueue(r,a){a=Object.assign({priority:0},a);const i={priority:a.priority,run:r};if(this.size&&this._queue[this.size-1].priority>=a.priority){this._queue.push(i);return}const o=t.default(this._queue,i,(u,c)=>c.priority-u.priority);this._queue.splice(o,0,i)}dequeue(){const r=this._queue.shift();return r==null?void 0:r.run}filter(r){return this._queue.filter(a=>a.priority===r.priority).map(a=>a.run)}get size(){return this._queue.length}}return im.default=e,im}var nk;function pZ(){if(nk)return am;nk=1,Object.defineProperty(am,"__esModule",{value:!0});const t=uZ(),e=dZ(),n=hZ(),r=()=>{},a=new e.TimeoutError;class i extends t{constructor(u){var c,f,h,m;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=r,this._resolveIdle=r,u=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:n.default},u),!(typeof u.intervalCap=="number"&&u.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(f=(c=u.intervalCap)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""}\` (${typeof u.intervalCap})`);if(u.interval===void 0||!(Number.isFinite(u.interval)&&u.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(m=(h=u.interval)===null||h===void 0?void 0:h.toString())!==null&&m!==void 0?m:""}\` (${typeof u.interval})`);this._carryoverConcurrencyCount=u.carryoverConcurrencyCount,this._isIntervalIgnored=u.intervalCap===1/0||u.interval===0,this._intervalCap=u.intervalCap,this._interval=u.interval,this._queue=new u.queueClass,this._queueClass=u.queueClass,this.concurrency=u.concurrency,this._timeout=u.timeout,this._throwOnTimeout=u.throwOnTimeout===!0,this._isPaused=u.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=r,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=r,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const u=Date.now();if(this._intervalId===void 0){const c=this._intervalEnd-u;if(c<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},c)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const u=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const c=this._queue.dequeue();return c?(this.emit("active"),c(),u&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(u){if(!(typeof u=="number"&&u>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${u}\` (${typeof u})`);this._concurrency=u,this._processQueue()}async add(u,c={}){return new Promise((f,h)=>{const m=async()=>{this._pendingCount++,this._intervalCount++;try{const g=this._timeout===void 0&&c.timeout===void 0?u():e.default(Promise.resolve(u()),c.timeout===void 0?this._timeout:c.timeout,()=>{(c.throwOnTimeout===void 0?this._throwOnTimeout:c.throwOnTimeout)&&h(a)});f(await g)}catch(g){h(g)}this._next()};this._queue.enqueue(m,c),this._tryToStartAnother(),this.emit("add")})}async addAll(u,c){return Promise.all(u.map(async f=>this.add(f,c)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(u=>{const c=this._resolveEmpty;this._resolveEmpty=()=>{c(),u()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(u=>{const c=this._resolveIdle;this._resolveIdle=()=>{c(),u()}})}get size(){return this._queue.size}sizeBy(u){return this._queue.filter(u).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(u){this._timeout=u}}return am.default=i,am}var mZ=pZ();const Gi=hi(mZ),gZ=(...t)=>fetch(...t),SM=Symbol.for("ls:fetch_implementation"),yZ=()=>{const t=globalThis[SM];return t?typeof t=="function"&&"Headers"in t&&"Request"in t&&"Response"in t:!1},Ce=t=>async(...e)=>{if(t||ei("DEBUG")==="true"){const[r,a]=e;console.log(`→ ${(a==null?void 0:a.method)||"GET"} ${r}`)}const n=await(globalThis[SM]??gZ)(...e);return(t||ei("DEBUG")==="true")&&console.log(`← ${n.status} ${n.statusText} ${n.url}`),n},bZ=[400,401,403,404,405,406,407,408],vZ=[409];let rk=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.debug=e.debug,"default"in Gi?this.queue=new Gi.default({concurrency:this.maxConcurrency}):this.queue=new Gi({concurrency:this.maxConcurrency}),this.onFailedResponseHook=e==null?void 0:e.onFailedResponseHook}call(e,...n){const r=this.onFailedResponseHook;return this.queue.add(()=>ng(()=>e(...n).catch(a=>{throw a instanceof Error?a:new Error(a)}),{async onFailedAttempt(a){if(a.message.startsWith("Cancel")||a.message.startsWith("TimeoutError")||a.message.startsWith("AbortError")||(a==null?void 0:a.code)==="ECONNABORTED")throw a;const i=a==null?void 0:a.response,o=i==null?void 0:i.status;if(o){if(bZ.includes(+o))throw a;if(vZ.includes(+o))return;r&&await r(i)}},retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,n,...r){return e.signal?Promise.race([this.call(n,...r),new Promise((a,i)=>{var o;(o=e.signal)==null||o.addEventListener("abort",()=>{i(new Error("AbortError"))})})]):this.call(n,...r)}fetch(...e){return this.call(()=>Ce(this.debug)(...e).then(n=>n.ok?n:Promise.reject(n)))}};function ak(t){return typeof(t==null?void 0:t._getType)=="function"}function ik(t){const e={type:t._getType(),data:{content:t.content}};return t!=null&&t.additional_kwargs&&Object.keys(t.additional_kwargs).length>0&&(e.data.additional_kwargs={...t.additional_kwargs}),e}function Ve(t,e){if(!Hd(t)){const n=e!==void 0?`Invalid UUID for ${e}: ${t}`:`Invalid UUID: ${t}`;throw new Error(n)}return t}const sk={};function xM(t){sk[t]||(console.warn(t),sk[t]=!0)}var om={exports:{}},y0,ok;function oy(){if(ok)return y0;ok=1;const t="2.0.0",e=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,a=e-6;return y0={MAX_LENGTH:e,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:a,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},y0}var b0,lk;function ly(){if(lk)return b0;lk=1;var t={};return b0=typeof process=="object"&&t&&t.NODE_DEBUG&&/\bsemver\b/i.test(t.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},b0}var uk;function oh(){return uk||(uk=1,function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:a}=oy(),i=ly();e=t.exports={};const o=e.re=[],u=e.safeRe=[],c=e.src=[],f=e.safeSrc=[],h=e.t={};let m=0;const g="[a-zA-Z0-9-]",b=[["\\s",1],["\\d",a],[g,r]],v=S=>{for(const[x,C]of b)S=S.split(`${x}*`).join(`${x}{0,${C}}`).split(`${x}+`).join(`${x}{1,${C}}`);return S},w=(S,x,C)=>{const E=v(x),O=m++;i(S,O,x),h[S]=O,c[O]=x,f[O]=E,o[O]=new RegExp(x,C?"g":void 0),u[O]=new RegExp(E,C?"g":void 0)};w("NUMERICIDENTIFIER","0|[1-9]\\d*"),w("NUMERICIDENTIFIERLOOSE","\\d+"),w("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${g}*`),w("MAINVERSION",`(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})`),w("MAINVERSIONLOOSE",`(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})`),w("PRERELEASEIDENTIFIER",`(?:${c[h.NONNUMERICIDENTIFIER]}|${c[h.NUMERICIDENTIFIER]})`),w("PRERELEASEIDENTIFIERLOOSE",`(?:${c[h.NONNUMERICIDENTIFIER]}|${c[h.NUMERICIDENTIFIERLOOSE]})`),w("PRERELEASE",`(?:-(${c[h.PRERELEASEIDENTIFIER]}(?:\\.${c[h.PRERELEASEIDENTIFIER]})*))`),w("PRERELEASELOOSE",`(?:-?(${c[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[h.PRERELEASEIDENTIFIERLOOSE]})*))`),w("BUILDIDENTIFIER",`${g}+`),w("BUILD",`(?:\\+(${c[h.BUILDIDENTIFIER]}(?:\\.${c[h.BUILDIDENTIFIER]})*))`),w("FULLPLAIN",`v?${c[h.MAINVERSION]}${c[h.PRERELEASE]}?${c[h.BUILD]}?`),w("FULL",`^${c[h.FULLPLAIN]}$`),w("LOOSEPLAIN",`[v=\\s]*${c[h.MAINVERSIONLOOSE]}${c[h.PRERELEASELOOSE]}?${c[h.BUILD]}?`),w("LOOSE",`^${c[h.LOOSEPLAIN]}$`),w("GTLT","((?:<|>)?=?)"),w("XRANGEIDENTIFIERLOOSE",`${c[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),w("XRANGEIDENTIFIER",`${c[h.NUMERICIDENTIFIER]}|x|X|\\*`),w("XRANGEPLAIN",`[v=\\s]*(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:${c[h.PRERELEASE]})?${c[h.BUILD]}?)?)?`),w("XRANGEPLAINLOOSE",`[v=\\s]*(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:${c[h.PRERELEASELOOSE]})?${c[h.BUILD]}?)?)?`),w("XRANGE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAIN]}$`),w("XRANGELOOSE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAINLOOSE]}$`),w("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),w("COERCE",`${c[h.COERCEPLAIN]}(?:$|[^\\d])`),w("COERCEFULL",c[h.COERCEPLAIN]+`(?:${c[h.PRERELEASE]})?(?:${c[h.BUILD]})?(?:$|[^\\d])`),w("COERCERTL",c[h.COERCE],!0),w("COERCERTLFULL",c[h.COERCEFULL],!0),w("LONETILDE","(?:~>?)"),w("TILDETRIM",`(\\s*)${c[h.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",w("TILDE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAIN]}$`),w("TILDELOOSE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAINLOOSE]}$`),w("LONECARET","(?:\\^)"),w("CARETTRIM",`(\\s*)${c[h.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",w("CARET",`^${c[h.LONECARET]}${c[h.XRANGEPLAIN]}$`),w("CARETLOOSE",`^${c[h.LONECARET]}${c[h.XRANGEPLAINLOOSE]}$`),w("COMPARATORLOOSE",`^${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]})$|^$`),w("COMPARATOR",`^${c[h.GTLT]}\\s*(${c[h.FULLPLAIN]})$|^$`),w("COMPARATORTRIM",`(\\s*)${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]}|${c[h.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",w("HYPHENRANGE",`^\\s*(${c[h.XRANGEPLAIN]})\\s+-\\s+(${c[h.XRANGEPLAIN]})\\s*$`),w("HYPHENRANGELOOSE",`^\\s*(${c[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[h.XRANGEPLAINLOOSE]})\\s*$`),w("STAR","(<|>)?=?\\s*\\*"),w("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),w("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(om,om.exports)),om.exports}var v0,ck;function Nx(){if(ck)return v0;ck=1;const t=Object.freeze({loose:!0}),e=Object.freeze({});return v0=r=>r?typeof r!="object"?t:r:e,v0}var _0,dk;function EM(){if(dk)return _0;dk=1;const t=/^[0-9]+$/,e=(r,a)=>{const i=t.test(r),o=t.test(a);return i&&o&&(r=+r,a=+a),r===a?0:i&&!o?-1:o&&!i?1:r<a?-1:1};return _0={compareIdentifiers:e,rcompareIdentifiers:(r,a)=>e(a,r)},_0}var w0,fk;function gr(){if(fk)return w0;fk=1;const t=ly(),{MAX_LENGTH:e,MAX_SAFE_INTEGER:n}=oy(),{safeRe:r,t:a}=oh(),i=Nx(),{compareIdentifiers:o}=EM();class u{constructor(f,h){if(h=i(h),f instanceof u){if(f.loose===!!h.loose&&f.includePrerelease===!!h.includePrerelease)return f;f=f.version}else if(typeof f!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof f}".`);if(f.length>e)throw new TypeError(`version is longer than ${e} characters`);t("SemVer",f,h),this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease;const m=f.trim().match(h.loose?r[a.LOOSE]:r[a.FULL]);if(!m)throw new TypeError(`Invalid Version: ${f}`);if(this.raw=f,this.major=+m[1],this.minor=+m[2],this.patch=+m[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");m[4]?this.prerelease=m[4].split(".").map(g=>{if(/^[0-9]+$/.test(g)){const b=+g;if(b>=0&&b<n)return b}return g}):this.prerelease=[],this.build=m[5]?m[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(f){if(t("SemVer.compare",this.version,this.options,f),!(f instanceof u)){if(typeof f=="string"&&f===this.version)return 0;f=new u(f,this.options)}return f.version===this.version?0:this.compareMain(f)||this.comparePre(f)}compareMain(f){return f instanceof u||(f=new u(f,this.options)),o(this.major,f.major)||o(this.minor,f.minor)||o(this.patch,f.patch)}comparePre(f){if(f instanceof u||(f=new u(f,this.options)),this.prerelease.length&&!f.prerelease.length)return-1;if(!this.prerelease.length&&f.prerelease.length)return 1;if(!this.prerelease.length&&!f.prerelease.length)return 0;let h=0;do{const m=this.prerelease[h],g=f.prerelease[h];if(t("prerelease compare",h,m,g),m===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(m===void 0)return-1;if(m===g)continue;return o(m,g)}while(++h)}compareBuild(f){f instanceof u||(f=new u(f,this.options));let h=0;do{const m=this.build[h],g=f.build[h];if(t("build compare",h,m,g),m===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(m===void 0)return-1;if(m===g)continue;return o(m,g)}while(++h)}inc(f,h,m){if(f.startsWith("pre")){if(!h&&m===!1)throw new Error("invalid increment argument: identifier is empty");if(h){const g=`-${h}`.match(this.options.loose?r[a.PRERELEASELOOSE]:r[a.PRERELEASE]);if(!g||g[1]!==h)throw new Error(`invalid identifier: ${h}`)}}switch(f){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",h,m);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",h,m);break;case"prepatch":this.prerelease.length=0,this.inc("patch",h,m),this.inc("pre",h,m);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",h,m),this.inc("pre",h,m);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const g=Number(m)?1:0;if(this.prerelease.length===0)this.prerelease=[g];else{let b=this.prerelease.length;for(;--b>=0;)typeof this.prerelease[b]=="number"&&(this.prerelease[b]++,b=-2);if(b===-1){if(h===this.prerelease.join(".")&&m===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(g)}}if(h){let b=[h,g];m===!1&&(b=[h]),o(this.prerelease[0],h)===0?isNaN(this.prerelease[1])&&(this.prerelease=b):this.prerelease=b}break}default:throw new Error(`invalid increment argument: ${f}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return w0=u,w0}var S0,hk;function Ju(){if(hk)return S0;hk=1;const t=gr();return S0=(n,r,a=!1)=>{if(n instanceof t)return n;try{return new t(n,r)}catch(i){if(!a)return null;throw i}},S0}var x0,pk;function _Z(){if(pk)return x0;pk=1;const t=Ju();return x0=(n,r)=>{const a=t(n,r);return a?a.version:null},x0}var E0,mk;function wZ(){if(mk)return E0;mk=1;const t=Ju();return E0=(n,r)=>{const a=t(n.trim().replace(/^[=v]+/,""),r);return a?a.version:null},E0}var T0,gk;function SZ(){if(gk)return T0;gk=1;const t=gr();return T0=(n,r,a,i,o)=>{typeof a=="string"&&(o=i,i=a,a=void 0);try{return new t(n instanceof t?n.version:n,a).inc(r,i,o).version}catch{return null}},T0}var C0,yk;function xZ(){if(yk)return C0;yk=1;const t=Ju();return C0=(n,r)=>{const a=t(n,null,!0),i=t(r,null,!0),o=a.compare(i);if(o===0)return null;const u=o>0,c=u?a:i,f=u?i:a,h=!!c.prerelease.length;if(!!f.prerelease.length&&!h){if(!f.patch&&!f.minor)return"major";if(f.compareMain(c)===0)return f.minor&&!f.patch?"minor":"patch"}const g=h?"pre":"";return a.major!==i.major?g+"major":a.minor!==i.minor?g+"minor":a.patch!==i.patch?g+"patch":"prerelease"},C0}var R0,bk;function EZ(){if(bk)return R0;bk=1;const t=gr();return R0=(n,r)=>new t(n,r).major,R0}var A0,vk;function TZ(){if(vk)return A0;vk=1;const t=gr();return A0=(n,r)=>new t(n,r).minor,A0}var O0,_k;function CZ(){if(_k)return O0;_k=1;const t=gr();return O0=(n,r)=>new t(n,r).patch,O0}var k0,wk;function RZ(){if(wk)return k0;wk=1;const t=Ju();return k0=(n,r)=>{const a=t(n,r);return a&&a.prerelease.length?a.prerelease:null},k0}var P0,Sk;function La(){if(Sk)return P0;Sk=1;const t=gr();return P0=(n,r,a)=>new t(n,a).compare(new t(r,a)),P0}var $0,xk;function AZ(){if(xk)return $0;xk=1;const t=La();return $0=(n,r,a)=>t(r,n,a),$0}var I0,Ek;function OZ(){if(Ek)return I0;Ek=1;const t=La();return I0=(n,r)=>t(n,r,!0),I0}var j0,Tk;function Mx(){if(Tk)return j0;Tk=1;const t=gr();return j0=(n,r,a)=>{const i=new t(n,a),o=new t(r,a);return i.compare(o)||i.compareBuild(o)},j0}var N0,Ck;function kZ(){if(Ck)return N0;Ck=1;const t=Mx();return N0=(n,r)=>n.sort((a,i)=>t(a,i,r)),N0}var M0,Rk;function PZ(){if(Rk)return M0;Rk=1;const t=Mx();return M0=(n,r)=>n.sort((a,i)=>t(i,a,r)),M0}var L0,Ak;function uy(){if(Ak)return L0;Ak=1;const t=La();return L0=(n,r,a)=>t(n,r,a)>0,L0}var D0,Ok;function Lx(){if(Ok)return D0;Ok=1;const t=La();return D0=(n,r,a)=>t(n,r,a)<0,D0}var B0,kk;function TM(){if(kk)return B0;kk=1;const t=La();return B0=(n,r,a)=>t(n,r,a)===0,B0}var U0,Pk;function CM(){if(Pk)return U0;Pk=1;const t=La();return U0=(n,r,a)=>t(n,r,a)!==0,U0}var z0,$k;function Dx(){if($k)return z0;$k=1;const t=La();return z0=(n,r,a)=>t(n,r,a)>=0,z0}var F0,Ik;function Bx(){if(Ik)return F0;Ik=1;const t=La();return F0=(n,r,a)=>t(n,r,a)<=0,F0}var V0,jk;function RM(){if(jk)return V0;jk=1;const t=TM(),e=CM(),n=uy(),r=Dx(),a=Lx(),i=Bx();return V0=(u,c,f,h)=>{switch(c){case"===":return typeof u=="object"&&(u=u.version),typeof f=="object"&&(f=f.version),u===f;case"!==":return typeof u=="object"&&(u=u.version),typeof f=="object"&&(f=f.version),u!==f;case"":case"=":case"==":return t(u,f,h);case"!=":return e(u,f,h);case">":return n(u,f,h);case">=":return r(u,f,h);case"<":return a(u,f,h);case"<=":return i(u,f,h);default:throw new TypeError(`Invalid operator: ${c}`)}},V0}var H0,Nk;function $Z(){if(Nk)return H0;Nk=1;const t=gr(),e=Ju(),{safeRe:n,t:r}=oh();return H0=(i,o)=>{if(i instanceof t)return i;if(typeof i=="number"&&(i=String(i)),typeof i!="string")return null;o=o||{};let u=null;if(!o.rtl)u=i.match(o.includePrerelease?n[r.COERCEFULL]:n[r.COERCE]);else{const b=o.includePrerelease?n[r.COERCERTLFULL]:n[r.COERCERTL];let v;for(;(v=b.exec(i))&&(!u||u.index+u[0].length!==i.length);)(!u||v.index+v[0].length!==u.index+u[0].length)&&(u=v),b.lastIndex=v.index+v[1].length+v[2].length;b.lastIndex=-1}if(u===null)return null;const c=u[2],f=u[3]||"0",h=u[4]||"0",m=o.includePrerelease&&u[5]?`-${u[5]}`:"",g=o.includePrerelease&&u[6]?`+${u[6]}`:"";return e(`${c}.${f}.${h}${m}${g}`,o)},H0}var q0,Mk;function IZ(){if(Mk)return q0;Mk=1;class t{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(n,r)}return this}}return q0=t,q0}var G0,Lk;function Da(){if(Lk)return G0;Lk=1;const t=/\s+/g;class e{constructor(F,M){if(M=a(M),F instanceof e)return F.loose===!!M.loose&&F.includePrerelease===!!M.includePrerelease?F:new e(F.raw,M);if(F instanceof i)return this.raw=F.value,this.set=[[F]],this.formatted=void 0,this;if(this.options=M,this.loose=!!M.loose,this.includePrerelease=!!M.includePrerelease,this.raw=F.trim().replace(t," "),this.set=this.raw.split("||").map(z=>this.parseRange(z.trim())).filter(z=>z.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const z=this.set[0];if(this.set=this.set.filter(K=>!w(K[0])),this.set.length===0)this.set=[z];else if(this.set.length>1){for(const K of this.set)if(K.length===1&&S(K[0])){this.set=[K];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let F=0;F<this.set.length;F++){F>0&&(this.formatted+="||");const M=this.set[F];for(let z=0;z<M.length;z++)z>0&&(this.formatted+=" "),this.formatted+=M[z].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(F){const z=((this.options.includePrerelease&&b)|(this.options.loose&&v))+":"+F,K=r.get(z);if(K)return K;const V=this.options.loose,j=V?c[f.HYPHENRANGELOOSE]:c[f.HYPHENRANGE];F=F.replace(j,Z(this.options.includePrerelease)),o("hyphen replace",F),F=F.replace(c[f.COMPARATORTRIM],h),o("comparator trim",F),F=F.replace(c[f.TILDETRIM],m),o("tilde trim",F),F=F.replace(c[f.CARETTRIM],g),o("caret trim",F);let G=F.split(" ").map(ce=>C(ce,this.options)).join(" ").split(/\s+/).map(ce=>B(ce,this.options));V&&(G=G.filter(ce=>(o("loose invalid filter",ce,this.options),!!ce.match(c[f.COMPARATORLOOSE])))),o("range list",G);const J=new Map,Q=G.map(ce=>new i(ce,this.options));for(const ce of Q){if(w(ce))return[ce];J.set(ce.value,ce)}J.size>1&&J.has("")&&J.delete("");const le=[...J.values()];return r.set(z,le),le}intersects(F,M){if(!(F instanceof e))throw new TypeError("a Range is required");return this.set.some(z=>x(z,M)&&F.set.some(K=>x(K,M)&&z.every(V=>K.every(j=>V.intersects(j,M)))))}test(F){if(!F)return!1;if(typeof F=="string")try{F=new u(F,this.options)}catch{return!1}for(let M=0;M<this.set.length;M++)if(ne(this.set[M],F,this.options))return!0;return!1}}G0=e;const n=IZ(),r=new n,a=Nx(),i=cy(),o=ly(),u=gr(),{safeRe:c,t:f,comparatorTrimReplace:h,tildeTrimReplace:m,caretTrimReplace:g}=oh(),{FLAG_INCLUDE_PRERELEASE:b,FLAG_LOOSE:v}=oy(),w=q=>q.value==="<0.0.0-0",S=q=>q.value==="",x=(q,F)=>{let M=!0;const z=q.slice();let K=z.pop();for(;M&&z.length;)M=z.every(V=>K.intersects(V,F)),K=z.pop();return M},C=(q,F)=>(o("comp",q,F),q=N(q,F),o("caret",q),q=O(q,F),o("tildes",q),q=P(q,F),o("xrange",q),q=T(q,F),o("stars",q),q),E=q=>!q||q.toLowerCase()==="x"||q==="*",O=(q,F)=>q.trim().split(/\s+/).map(M=>A(M,F)).join(" "),A=(q,F)=>{const M=F.loose?c[f.TILDELOOSE]:c[f.TILDE];return q.replace(M,(z,K,V,j,G)=>{o("tilde",q,z,K,V,j,G);let J;return E(K)?J="":E(V)?J=`>=${K}.0.0 <${+K+1}.0.0-0`:E(j)?J=`>=${K}.${V}.0 <${K}.${+V+1}.0-0`:G?(o("replaceTilde pr",G),J=`>=${K}.${V}.${j}-${G} <${K}.${+V+1}.0-0`):J=`>=${K}.${V}.${j} <${K}.${+V+1}.0-0`,o("tilde return",J),J})},N=(q,F)=>q.trim().split(/\s+/).map(M=>D(M,F)).join(" "),D=(q,F)=>{o("caret",q,F);const M=F.loose?c[f.CARETLOOSE]:c[f.CARET],z=F.includePrerelease?"-0":"";return q.replace(M,(K,V,j,G,J)=>{o("caret",q,K,V,j,G,J);let Q;return E(V)?Q="":E(j)?Q=`>=${V}.0.0${z} <${+V+1}.0.0-0`:E(G)?V==="0"?Q=`>=${V}.${j}.0${z} <${V}.${+j+1}.0-0`:Q=`>=${V}.${j}.0${z} <${+V+1}.0.0-0`:J?(o("replaceCaret pr",J),V==="0"?j==="0"?Q=`>=${V}.${j}.${G}-${J} <${V}.${j}.${+G+1}-0`:Q=`>=${V}.${j}.${G}-${J} <${V}.${+j+1}.0-0`:Q=`>=${V}.${j}.${G}-${J} <${+V+1}.0.0-0`):(o("no pr"),V==="0"?j==="0"?Q=`>=${V}.${j}.${G}${z} <${V}.${j}.${+G+1}-0`:Q=`>=${V}.${j}.${G}${z} <${V}.${+j+1}.0-0`:Q=`>=${V}.${j}.${G} <${+V+1}.0.0-0`),o("caret return",Q),Q})},P=(q,F)=>(o("replaceXRanges",q,F),q.split(/\s+/).map(M=>L(M,F)).join(" ")),L=(q,F)=>{q=q.trim();const M=F.loose?c[f.XRANGELOOSE]:c[f.XRANGE];return q.replace(M,(z,K,V,j,G,J)=>{o("xRange",q,z,K,V,j,G,J);const Q=E(V),le=Q||E(j),ce=le||E(G),fe=ce;return K==="="&&fe&&(K=""),J=F.includePrerelease?"-0":"",Q?K===">"||K==="<"?z="<0.0.0-0":z="*":K&&fe?(le&&(j=0),G=0,K===">"?(K=">=",le?(V=+V+1,j=0,G=0):(j=+j+1,G=0)):K==="<="&&(K="<",le?V=+V+1:j=+j+1),K==="<"&&(J="-0"),z=`${K+V}.${j}.${G}${J}`):le?z=`>=${V}.0.0${J} <${+V+1}.0.0-0`:ce&&(z=`>=${V}.${j}.0${J} <${V}.${+j+1}.0-0`),o("xRange return",z),z})},T=(q,F)=>(o("replaceStars",q,F),q.trim().replace(c[f.STAR],"")),B=(q,F)=>(o("replaceGTE0",q,F),q.trim().replace(c[F.includePrerelease?f.GTE0PRE:f.GTE0],"")),Z=q=>(F,M,z,K,V,j,G,J,Q,le,ce,fe)=>(E(z)?M="":E(K)?M=`>=${z}.0.0${q?"-0":""}`:E(V)?M=`>=${z}.${K}.0${q?"-0":""}`:j?M=`>=${M}`:M=`>=${M}${q?"-0":""}`,E(Q)?J="":E(le)?J=`<${+Q+1}.0.0-0`:E(ce)?J=`<${Q}.${+le+1}.0-0`:fe?J=`<=${Q}.${le}.${ce}-${fe}`:q?J=`<${Q}.${le}.${+ce+1}-0`:J=`<=${J}`,`${M} ${J}`.trim()),ne=(q,F,M)=>{for(let z=0;z<q.length;z++)if(!q[z].test(F))return!1;if(F.prerelease.length&&!M.includePrerelease){for(let z=0;z<q.length;z++)if(o(q[z].semver),q[z].semver!==i.ANY&&q[z].semver.prerelease.length>0){const K=q[z].semver;if(K.major===F.major&&K.minor===F.minor&&K.patch===F.patch)return!0}return!1}return!0};return G0}var W0,Dk;function cy(){if(Dk)return W0;Dk=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(h,m){if(m=n(m),h instanceof e){if(h.loose===!!m.loose)return h;h=h.value}h=h.trim().split(/\s+/).join(" "),o("comparator",h,m),this.options=m,this.loose=!!m.loose,this.parse(h),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(h){const m=this.options.loose?r[a.COMPARATORLOOSE]:r[a.COMPARATOR],g=h.match(m);if(!g)throw new TypeError(`Invalid comparator: ${h}`);this.operator=g[1]!==void 0?g[1]:"",this.operator==="="&&(this.operator=""),g[2]?this.semver=new u(g[2],this.options.loose):this.semver=t}toString(){return this.value}test(h){if(o("Comparator.test",h,this.options.loose),this.semver===t||h===t)return!0;if(typeof h=="string")try{h=new u(h,this.options)}catch{return!1}return i(h,this.operator,this.semver,this.options)}intersects(h,m){if(!(h instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(h.value,m).test(this.value):h.operator===""?h.value===""?!0:new c(this.value,m).test(h.semver):(m=n(m),m.includePrerelease&&(this.value==="<0.0.0-0"||h.value==="<0.0.0-0")||!m.includePrerelease&&(this.value.startsWith("<0.0.0")||h.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&h.operator.startsWith(">")||this.operator.startsWith("<")&&h.operator.startsWith("<")||this.semver.version===h.semver.version&&this.operator.includes("=")&&h.operator.includes("=")||i(this.semver,"<",h.semver,m)&&this.operator.startsWith(">")&&h.operator.startsWith("<")||i(this.semver,">",h.semver,m)&&this.operator.startsWith("<")&&h.operator.startsWith(">")))}}W0=e;const n=Nx(),{safeRe:r,t:a}=oh(),i=RM(),o=ly(),u=gr(),c=Da();return W0}var Z0,Bk;function dy(){if(Bk)return Z0;Bk=1;const t=Da();return Z0=(n,r,a)=>{try{r=new t(r,a)}catch{return!1}return r.test(n)},Z0}var K0,Uk;function jZ(){if(Uk)return K0;Uk=1;const t=Da();return K0=(n,r)=>new t(n,r).set.map(a=>a.map(i=>i.value).join(" ").trim().split(" ")),K0}var Y0,zk;function NZ(){if(zk)return Y0;zk=1;const t=gr(),e=Da();return Y0=(r,a,i)=>{let o=null,u=null,c=null;try{c=new e(a,i)}catch{return null}return r.forEach(f=>{c.test(f)&&(!o||u.compare(f)===-1)&&(o=f,u=new t(o,i))}),o},Y0}var X0,Fk;function MZ(){if(Fk)return X0;Fk=1;const t=gr(),e=Da();return X0=(r,a,i)=>{let o=null,u=null,c=null;try{c=new e(a,i)}catch{return null}return r.forEach(f=>{c.test(f)&&(!o||u.compare(f)===1)&&(o=f,u=new t(o,i))}),o},X0}var J0,Vk;function LZ(){if(Vk)return J0;Vk=1;const t=gr(),e=Da(),n=uy();return J0=(a,i)=>{a=new e(a,i);let o=new t("0.0.0");if(a.test(o)||(o=new t("0.0.0-0"),a.test(o)))return o;o=null;for(let u=0;u<a.set.length;++u){const c=a.set[u];let f=null;c.forEach(h=>{const m=new t(h.semver.version);switch(h.operator){case">":m.prerelease.length===0?m.patch++:m.prerelease.push(0),m.raw=m.format();case"":case">=":(!f||n(m,f))&&(f=m);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${h.operator}`)}}),f&&(!o||n(o,f))&&(o=f)}return o&&a.test(o)?o:null},J0}var Q0,Hk;function DZ(){if(Hk)return Q0;Hk=1;const t=Da();return Q0=(n,r)=>{try{return new t(n,r).range||"*"}catch{return null}},Q0}var e_,qk;function Ux(){if(qk)return e_;qk=1;const t=gr(),e=cy(),{ANY:n}=e,r=Da(),a=dy(),i=uy(),o=Lx(),u=Bx(),c=Dx();return e_=(h,m,g,b)=>{h=new t(h,b),m=new r(m,b);let v,w,S,x,C;switch(g){case">":v=i,w=u,S=o,x=">",C=">=";break;case"<":v=o,w=c,S=i,x="<",C="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(h,m,b))return!1;for(let E=0;E<m.set.length;++E){const O=m.set[E];let A=null,N=null;if(O.forEach(D=>{D.semver===n&&(D=new e(">=0.0.0")),A=A||D,N=N||D,v(D.semver,A.semver,b)?A=D:S(D.semver,N.semver,b)&&(N=D)}),A.operator===x||A.operator===C||(!N.operator||N.operator===x)&&w(h,N.semver))return!1;if(N.operator===C&&S(h,N.semver))return!1}return!0},e_}var t_,Gk;function BZ(){if(Gk)return t_;Gk=1;const t=Ux();return t_=(n,r,a)=>t(n,r,">",a),t_}var n_,Wk;function UZ(){if(Wk)return n_;Wk=1;const t=Ux();return n_=(n,r,a)=>t(n,r,"<",a),n_}var r_,Zk;function zZ(){if(Zk)return r_;Zk=1;const t=Da();return r_=(n,r,a)=>(n=new t(n,a),r=new t(r,a),n.intersects(r,a)),r_}var a_,Kk;function FZ(){if(Kk)return a_;Kk=1;const t=dy(),e=La();return a_=(n,r,a)=>{const i=[];let o=null,u=null;const c=n.sort((g,b)=>e(g,b,a));for(const g of c)t(g,r,a)?(u=g,o||(o=g)):(u&&i.push([o,u]),u=null,o=null);o&&i.push([o,null]);const f=[];for(const[g,b]of i)g===b?f.push(g):!b&&g===c[0]?f.push("*"):b?g===c[0]?f.push(`<=${b}`):f.push(`${g} - ${b}`):f.push(`>=${g}`);const h=f.join(" || "),m=typeof r.raw=="string"?r.raw:String(r);return h.length<m.length?h:r},a_}var i_,Yk;function VZ(){if(Yk)return i_;Yk=1;const t=Da(),e=cy(),{ANY:n}=e,r=dy(),a=La(),i=(m,g,b={})=>{if(m===g)return!0;m=new t(m,b),g=new t(g,b);let v=!1;e:for(const w of m.set){for(const S of g.set){const x=c(w,S,b);if(v=v||x!==null,x)continue e}if(v)return!1}return!0},o=[new e(">=0.0.0-0")],u=[new e(">=0.0.0")],c=(m,g,b)=>{if(m===g)return!0;if(m.length===1&&m[0].semver===n){if(g.length===1&&g[0].semver===n)return!0;b.includePrerelease?m=o:m=u}if(g.length===1&&g[0].semver===n){if(b.includePrerelease)return!0;g=u}const v=new Set;let w,S;for(const P of m)P.operator===">"||P.operator===">="?w=f(w,P,b):P.operator==="<"||P.operator==="<="?S=h(S,P,b):v.add(P.semver);if(v.size>1)return null;let x;if(w&&S){if(x=a(w.semver,S.semver,b),x>0)return null;if(x===0&&(w.operator!==">="||S.operator!=="<="))return null}for(const P of v){if(w&&!r(P,String(w),b)||S&&!r(P,String(S),b))return null;for(const L of g)if(!r(P,String(L),b))return!1;return!0}let C,E,O,A,N=S&&!b.includePrerelease&&S.semver.prerelease.length?S.semver:!1,D=w&&!b.includePrerelease&&w.semver.prerelease.length?w.semver:!1;N&&N.prerelease.length===1&&S.operator==="<"&&N.prerelease[0]===0&&(N=!1);for(const P of g){if(A=A||P.operator===">"||P.operator===">=",O=O||P.operator==="<"||P.operator==="<=",w){if(D&&P.semver.prerelease&&P.semver.prerelease.length&&P.semver.major===D.major&&P.semver.minor===D.minor&&P.semver.patch===D.patch&&(D=!1),P.operator===">"||P.operator===">="){if(C=f(w,P,b),C===P&&C!==w)return!1}else if(w.operator===">="&&!r(w.semver,String(P),b))return!1}if(S){if(N&&P.semver.prerelease&&P.semver.prerelease.length&&P.semver.major===N.major&&P.semver.minor===N.minor&&P.semver.patch===N.patch&&(N=!1),P.operator==="<"||P.operator==="<="){if(E=h(S,P,b),E===P&&E!==S)return!1}else if(S.operator==="<="&&!r(S.semver,String(P),b))return!1}if(!P.operator&&(S||w)&&x!==0)return!1}return!(w&&O&&!S&&x!==0||S&&A&&!w&&x!==0||D||N)},f=(m,g,b)=>{if(!m)return g;const v=a(m.semver,g.semver,b);return v>0?m:v<0||g.operator===">"&&m.operator===">="?g:m},h=(m,g,b)=>{if(!m)return g;const v=a(m.semver,g.semver,b);return v<0?m:v>0||g.operator==="<"&&m.operator==="<="?g:m};return i_=i,i_}var s_,Xk;function HZ(){if(Xk)return s_;Xk=1;const t=oh(),e=oy(),n=gr(),r=EM(),a=Ju(),i=_Z(),o=wZ(),u=SZ(),c=xZ(),f=EZ(),h=TZ(),m=CZ(),g=RZ(),b=La(),v=AZ(),w=OZ(),S=Mx(),x=kZ(),C=PZ(),E=uy(),O=Lx(),A=TM(),N=CM(),D=Dx(),P=Bx(),L=RM(),T=$Z(),B=cy(),Z=Da(),ne=dy(),q=jZ(),F=NZ(),M=MZ(),z=LZ(),K=DZ(),V=Ux(),j=BZ(),G=UZ(),J=zZ(),Q=FZ(),le=VZ();return s_={parse:a,valid:i,clean:o,inc:u,diff:c,major:f,minor:h,patch:m,prerelease:g,compare:b,rcompare:v,compareLoose:w,compareBuild:S,sort:x,rsort:C,gt:E,lt:O,eq:A,neq:N,gte:D,lte:P,cmp:L,coerce:T,Comparator:B,Range:Z,satisfies:ne,toComparators:q,maxSatisfying:F,minSatisfying:M,minVersion:z,validRange:K,outside:V,gtr:j,ltr:G,intersects:J,simplifyRange:Q,subset:le,SemVer:n,re:t.re,src:t.src,tokens:t.t,SEMVER_SPEC_VERSION:e.SEMVER_SPEC_VERSION,RELEASE_TYPES:e.RELEASE_TYPES,compareIdentifiers:r.compareIdentifiers,rcompareIdentifiers:r.rcompareIdentifiers},s_}HZ();function Os(t){if(!t||t.split("/").length>2||t.startsWith("/")||t.endsWith("/")||t.split(":").length>2)throw new Error(`Invalid identifier format: ${t}`);const[e,n]=t.split(":"),r=n||"latest";if(e.includes("/")){const[a,i]=e.split("/",2);if(!a||!i)throw new Error(`Invalid identifier format: ${t}`);return[a,i,r]}else{if(!e)throw new Error(`Invalid identifier format: ${t}`);return["-",e,r]}}class qZ extends Error{constructor(e){super(e),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="LangSmithConflictError",this.status=409}}async function We(t,e,n){let r;if(t.ok){n&&(r=await t.text());return}r=await t.text();const a=`Failed to ${e}. Received status [${t.status}]: ${t.statusText}. Server response: ${r}`;if(t.status===409)throw new qZ(a);const i=new Error(a);throw i.status=t.status,i}var Jk="[...]",GZ={result:"[Circular]"},rg=[],uu=[];const WZ=new TextEncoder;function ZZ(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function lm(t){return WZ.encode(t)}function Dr(t,e,n,r,a){var i;try{const o=JSON.stringify(t,n,r);return lm(o)}catch(o){if(!((i=o.message)!=null&&i.includes("Converting circular structure to JSON")))return console.warn(`[WARNING]: LangSmith received unserializable value.${e?`
Context: ${e}`:""}`),lm("[Unserializable]");console.warn(`[WARNING]: LangSmith received circular JSON. This will decrease tracer performance. ${e?`
Context: ${e}`:""}`),typeof a>"u"&&(a=ZZ()),Rw(t,"",0,[],void 0,0,a);let u;try{uu.length===0?u=JSON.stringify(t,n,r):u=JSON.stringify(t,KZ(n),r)}catch{return lm("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;rg.length!==0;){const c=rg.pop();c.length===4?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}}return lm(u)}}function o_(t,e,n,r){var a=Object.getOwnPropertyDescriptor(r,n);a.get!==void 0?a.configurable?(Object.defineProperty(r,n,{value:t}),rg.push([r,n,e,a])):uu.push([e,n,t]):(r[n]=t,rg.push([r,n,e]))}function Rw(t,e,n,r,a,i,o){i+=1;var u;if(typeof t=="object"&&t!==null){for(u=0;u<r.length;u++)if(r[u]===t){o_(GZ,t,e,a);return}if(typeof o.depthLimit<"u"&&i>o.depthLimit){o_(Jk,t,e,a);return}if(typeof o.edgesLimit<"u"&&n+1>o.edgesLimit){o_(Jk,t,e,a);return}if(r.push(t),Array.isArray(t))for(u=0;u<t.length;u++)Rw(t[u],u,u,r,t,i,o);else{var c=Object.keys(t);for(u=0;u<c.length;u++){var f=c[u];Rw(t[f],f,u,r,t,i,o)}}r.pop()}}function KZ(t){return t=typeof t<"u"?t:function(e,n){return n},function(e,n){if(uu.length>0)for(var r=0;r<uu.length;r++){var a=uu[r];if(a[1]===e&&a[0]===n){n=a[2],uu.splice(r,1);break}}return t.call(this,e,n)}}function Qk(t){const e=kM(),n=lK(),r=t.extra??{},a=r.metadata;return t.extra={...r,runtime:{...e,...r==null?void 0:r.runtime},metadata:{...n,...n.revision_id||t.revision_id?{revision_id:t.revision_id??n.revision_id}:{},...a}},t}const YZ=t=>{const e=(t==null?void 0:t.toString())??ei("TRACING_SAMPLING_RATE");if(e===void 0)return;const n=parseFloat(e);if(n<0||n>1)throw new Error(`LANGSMITH_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${n}`);return n},XZ=t=>{const n=t.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return n==="localhost"||n==="127.0.0.1"||n==="::1"};async function JZ(t){const e=[];for await(const n of t)e.push(n);return e}function l_(t){if(t!==void 0)return t.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const QZ=async t=>{if((t==null?void 0:t.status)===429){const e=parseInt(t.headers.get("retry-after")??"30",10)*1e3;if(e>0)return await new Promise(n=>setTimeout(n,e)),!0}return!1};function eP(t){return typeof t=="number"?Number(t.toFixed(4)):t}class eK{constructor(){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"sizeBytes",{enumerable:!0,configurable:!0,writable:!0,value:0})}peek(){return this.items[0]}push(e){let n;const r=new Promise(i=>{n=i}),a=Dr(e.item,`Serializing run with id: ${e.item.id}`).length;return this.items.push({action:e.action,payload:e.item,itemPromiseResolve:n,itemPromise:r,size:a}),this.sizeBytes+=a,r}pop(e){var a;if(e<1)throw new Error("Number of bytes to pop off may not be less than 1.");const n=[];let r=0;for(;r+(((a=this.peek())==null?void 0:a.size)??0)<e&&this.items.length>0;){const i=this.items.shift();i&&(n.push(i),r+=i.size,this.sizeBytes-=i.size)}if(n.length===0&&this.items.length>0){const i=this.items.shift();n.push(i),r+=i.size,this.sizeBytes-=i.size}return[n.map(i=>({action:i.action,item:i.payload})),()=>n.forEach(i=>i.itemPromiseResolve())]}}const tK=20971520,nK=2500;class Rf{constructor(e={}){var r;Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filteredPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:new eK}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"batchSizeBytesLimit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"blockOnRootRunFinalization",{enumerable:!0,configurable:!0,writable:!0,value:zs("LANGSMITH_TRACING_BACKGROUND")==="false"}),Object.defineProperty(this,"traceBatchConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:5}),Object.defineProperty(this,"_serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_getServerInfoPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"manualFlushMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"debug",{enumerable:!0,configurable:!0,writable:!0,value:zs("LANGSMITH_DEBUG")==="true"});const n=Rf.getDefaultClientConfig();if(this.tracingSampleRate=YZ(e.tracingSamplingRate),this.apiUrl=l_(e.apiUrl??n.apiUrl)??"",this.apiUrl.endsWith("/")&&(this.apiUrl=this.apiUrl.slice(0,-1)),this.apiKey=l_(e.apiKey??n.apiKey),this.webUrl=l_(e.webUrl??n.webUrl),(r=this.webUrl)!=null&&r.endsWith("/")&&(this.webUrl=this.webUrl.slice(0,-1)),this.timeout_ms=e.timeout_ms??9e4,this.caller=new rk({...e.callerOptions??{},debug:e.debug??this.debug}),this.traceBatchConcurrency=e.traceBatchConcurrency??this.traceBatchConcurrency,this.traceBatchConcurrency<1)throw new Error("Trace batch concurrency must be positive.");this.debug=e.debug??this.debug,this.batchIngestCaller=new rk({maxRetries:2,maxConcurrency:this.traceBatchConcurrency,...e.callerOptions??{},onFailedResponseHook:QZ,debug:e.debug??this.debug}),this.hideInputs=e.hideInputs??e.anonymizer??n.hideInputs,this.hideOutputs=e.hideOutputs??e.anonymizer??n.hideOutputs,this.autoBatchTracing=e.autoBatchTracing??this.autoBatchTracing,this.blockOnRootRunFinalization=e.blockOnRootRunFinalization??this.blockOnRootRunFinalization,this.batchSizeBytesLimit=e.batchSizeBytesLimit,this.fetchOptions=e.fetchOptions||{},this.manualFlushMode=e.manualFlushMode??this.manualFlushMode}static getDefaultClientConfig(){const e=ei("API_KEY"),n=ei("ENDPOINT")??"https://api.smith.langchain.com",r=ei("HIDE_INPUTS")==="true",a=ei("HIDE_OUTPUTS")==="true";return{apiUrl:n,apiKey:e,webUrl:void 0,hideInputs:r,hideOutputs:a}}getHostUrl(){return this.webUrl?this.webUrl:XZ(this.apiUrl)?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.endsWith("/api/v1")?(this.webUrl=this.apiUrl.replace("/api/v1",""),this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("eu")?(this.webUrl="https://eu.smith.langchain.com",this.webUrl):this.apiUrl.split(".",1)[0].includes("beta")?(this.webUrl="https://beta.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){const e={"User-Agent":`langsmith-js/${AM}`};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),e}async processInputs(e){return this.hideInputs===!1?e:this.hideInputs===!0?{}:typeof this.hideInputs=="function"?this.hideInputs(e):e}async processOutputs(e){return this.hideOutputs===!1?e:this.hideOutputs===!0?{}:typeof this.hideOutputs=="function"?this.hideOutputs(e):e}async prepareRunCreateOrUpdateInputs(e){const n={...e};return n.inputs!==void 0&&(n.inputs=await this.processInputs(n.inputs)),n.outputs!==void 0&&(n.outputs=await this.processOutputs(n.outputs)),n}async _getResponse(e,n){const r=(n==null?void 0:n.toString())??"",a=`${this.apiUrl}${e}?${r}`,i=await this.caller.call(Ce(this.debug),a,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await We(i,`Failed to fetch ${e}`),i}async _get(e,n){return(await this._getResponse(e,n)).json()}async*_getPaginated(e,n=new URLSearchParams,r){let a=Number(n.get("offset"))||0;const i=Number(n.get("limit"))||100;for(;;){n.set("offset",String(a)),n.set("limit",String(i));const o=`${this.apiUrl}${e}?${n}`,u=await this.caller.call(Ce(this.debug),o,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await We(u,`Failed to fetch ${e}`);const c=r?r(await u.json()):await u.json();if(c.length===0||(yield c,c.length<i))break;a+=c.length}}async*_getCursorPaginatedList(e,n=null,r="POST",a="runs"){const i=n?{...n}:{};for(;;){const u=await(await this.caller.call(Ce(this.debug),`${this.apiUrl}${e}`,{method:r,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:JSON.stringify(i)})).json();if(!u||!u[a])break;yield u[a];const c=u.cursors;if(!c||!c.next)break;i.cursor=c.next}}_shouldSample(){return this.tracingSampleRate===void 0?!0:Math.random()<this.tracingSampleRate}_filterForSampling(e,n=!1){if(this.tracingSampleRate===void 0)return e;if(n){const r=[];for(const a of e)this.filteredPostUuids.has(a.id)?this.filteredPostUuids.delete(a.id):r.push(a);return r}else{const r=[];for(const a of e){const i=a.trace_id??a.id;this.filteredPostUuids.has(i)||(a.id===i?this._shouldSample()?r.push(a):this.filteredPostUuids.add(i):r.push(a))}return r}}async _getBatchSizeLimitBytes(){var n;const e=await this._ensureServerInfo();return this.batchSizeBytesLimit??((n=e.batch_ingest_config)==null?void 0:n.size_limit_bytes)??tK}async _getMultiPartSupport(){var n;return((n=(await this._ensureServerInfo()).instance_flags)==null?void 0:n.dataset_examples_multipart_enabled)??!1}drainAutoBatchQueue(e){const n=[];for(;this.autoBatchQueue.items.length>0;){const[r,a]=this.autoBatchQueue.pop(e);if(!r.length){a();break}const i=this._processBatch(r,a).catch(console.error);n.push(i)}return Promise.all(n)}async _processBatch(e,n){var r;if(!e.length){n();return}try{const a={runCreates:e.filter(o=>o.action==="create").map(o=>o.item),runUpdates:e.filter(o=>o.action==="update").map(o=>o.item)},i=await this._ensureServerInfo();(r=i==null?void 0:i.batch_ingest_config)!=null&&r.use_multipart_endpoint?await this.multipartIngestRuns(a):await this.batchIngestRuns(a)}finally{n()}}async processRunOperation(e){clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0,e.action==="create"&&(e.item=Qk(e.item));const n=this.autoBatchQueue.push(e);if(this.manualFlushMode)return n;const r=await this._getBatchSizeLimitBytes();return this.autoBatchQueue.sizeBytes>r&&this.drainAutoBatchQueue(r),this.autoBatchQueue.items.length>0&&(this.autoBatchTimeout=setTimeout(()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue(r)},this.autoBatchAggregationDelayMs)),n}async _getServerInfo(){const e=await this.caller.call(Ce(this.debug),`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(nK),...this.fetchOptions});await We(e,"get server info");const n=await e.json();return this.debug&&console.log(`
=== LangSmith Server Configuration ===
`+JSON.stringify(n,null,2)+`
`),n}async _ensureServerInfo(){return this._getServerInfoPromise===void 0&&(this._getServerInfoPromise=(async()=>{if(this._serverInfo===void 0)try{this._serverInfo=await this._getServerInfo()}catch(e){console.warn(`[WARNING]: LangSmith failed to fetch info on supported operations with status code ${e.status}. Falling back to batch operations and default limits.`)}return this._serverInfo??{}})()),this._getServerInfoPromise.then(e=>(this._serverInfo===void 0&&(this._getServerInfoPromise=void 0),e))}async _getSettings(){return this.settings||(this.settings=this._get("/settings")),await this.settings}async flush(){const e=await this._getBatchSizeLimitBytes();await this.drainAutoBatchQueue(e)}async createRun(e){if(!this._filterForSampling([e]).length)return;const n={...this.headers,"Content-Type":"application/json"},r=e.project_name;delete e.project_name;const a=await this.prepareRunCreateOrUpdateInputs({session_name:r,...e,start_time:e.start_time??Date.now()});if(this.autoBatchTracing&&a.trace_id!==void 0&&a.dotted_order!==void 0){this.processRunOperation({action:"create",item:a}).catch(console.error);return}const i=Qk(a),o=await this.caller.call(Ce(this.debug),`${this.apiUrl}/runs`,{method:"POST",headers:n,body:Dr(i,`Creating run with id: ${i.id}`),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await We(o,"create run",!0)}async batchIngestRuns({runCreates:e,runUpdates:n}){if(e===void 0&&n===void 0)return;let r=await Promise.all((e==null?void 0:e.map(u=>this.prepareRunCreateOrUpdateInputs(u)))??[]),a=await Promise.all((n==null?void 0:n.map(u=>this.prepareRunCreateOrUpdateInputs(u)))??[]);if(r.length>0&&a.length>0){const u=r.reduce((f,h)=>(h.id&&(f[h.id]=h),f),{}),c=[];for(const f of a)f.id!==void 0&&u[f.id]?u[f.id]={...u[f.id],...f}:c.push(f);r=Object.values(u),a=c}const i={post:r,patch:a};if(!i.post.length&&!i.patch.length)return;const o={post:[],patch:[]};for(const u of["post","patch"]){const c=u,f=i[c].reverse();let h=f.pop();for(;h!==void 0;)o[c].push(h),h=f.pop()}if(o.post.length>0||o.patch.length>0){const u=o.post.map(c=>c.id).concat(o.patch.map(c=>c.id)).join(",");await this._postBatchIngestRuns(Dr(o,`Ingesting runs with ids: ${u}`))}}async _postBatchIngestRuns(e){const n={...this.headers,"Content-Type":"application/json",Accept:"application/json"},r=await this.batchIngestCaller.call(Ce(this.debug),`${this.apiUrl}/runs/batch`,{method:"POST",headers:n,body:e,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await We(r,"batch create run",!0)}async multipartIngestRuns({runCreates:e,runUpdates:n}){if(e===void 0&&n===void 0)return;const r={};let a=[];for(const h of e??[]){const m=await this.prepareRunCreateOrUpdateInputs(h);m.id!==void 0&&m.attachments!==void 0&&(r[m.id]=m.attachments),delete m.attachments,a.push(m)}let i=[];for(const h of n??[])i.push(await this.prepareRunCreateOrUpdateInputs(h));if(a.find(h=>h.trace_id===void 0||h.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when creating a run');if(i.find(h=>h.trace_id===void 0||h.dotted_order===void 0)!==void 0)throw new Error('Multipart ingest requires "trace_id" and "dotted_order" to be set when updating a run');if(a.length>0&&i.length>0){const h=a.reduce((g,b)=>(b.id&&(g[b.id]=b),g),{}),m=[];for(const g of i)g.id!==void 0&&h[g.id]?h[g.id]={...h[g.id],...g}:m.push(g);a=Object.values(h),i=m}if(a.length===0&&i.length===0)return;const c=[],f=[];for(const[h,m]of[["post",a],["patch",i]])for(const g of m){const{inputs:b,outputs:v,events:w,attachments:S,...x}=g,C={inputs:b,outputs:v,events:w},E=Dr(x,`Serializing for multipart ingestion of run with id: ${x.id}`);f.push({name:`${h}.${x.id}`,payload:new Blob([E],{type:`application/json; length=${E.length}`})});for(const[O,A]of Object.entries(C)){if(A===void 0)continue;const N=Dr(A,`Serializing ${O} for multipart ingestion of run with id: ${x.id}`);f.push({name:`${h}.${x.id}.${O}`,payload:new Blob([N],{type:`application/json; length=${N.length}`})})}if(x.id!==void 0){const O=r[x.id];if(O){delete r[x.id];for(const[A,N]of Object.entries(O)){let D,P;if(Array.isArray(N)?[D,P]=N:(D=N.mimeType,P=N.data),A.includes(".")){console.warn(`Skipping attachment '${A}' for run ${x.id}: Invalid attachment name. Attachment names must not contain periods ('.'). Please rename the attachment and try again.`);continue}f.push({name:`attachment.${x.id}.${A}`,payload:new Blob([P],{type:`${D}; length=${P.byteLength}`})})}}}c.push(`trace=${x.trace_id},id=${x.id}`)}await this._sendMultipartRequest(f,c.join("; "))}async _createNodeFetchBody(e,n){const r=[];for(const o of e)r.push(new Blob([`--${n}\r
`])),r.push(new Blob([`Content-Disposition: form-data; name="${o.name}"\r
`,`Content-Type: ${o.payload.type}\r
\r
`])),r.push(o.payload),r.push(new Blob([`\r
`]));return r.push(new Blob([`--${n}--\r
`])),await new Blob(r).arrayBuffer()}async _createMultipartStream(e,n){const r=new TextEncoder;return new ReadableStream({async start(i){const o=async u=>{typeof u=="string"?i.enqueue(r.encode(u)):i.enqueue(u)};for(const u of e){await o(`--${n}\r
`),await o(`Content-Disposition: form-data; name="${u.name}"\r
`),await o(`Content-Type: ${u.payload.type}\r
\r
`);const f=u.payload.stream().getReader();try{let h;for(;!(h=await f.read()).done;)i.enqueue(h.value)}finally{f.releaseLock()}await o(`\r
`)}await o(`--${n}--\r
`),i.close()}})}async _sendMultipartRequest(e,n){try{const r="----LangSmithFormBoundary"+Math.random().toString(36).slice(2),a=await(yZ()?this._createNodeFetchBody(e,r):this._createMultipartStream(e,r)),i=await this.batchIngestCaller.call(Ce(this.debug),`${this.apiUrl}/runs/multipart`,{method:"POST",headers:{...this.headers,"Content-Type":`multipart/form-data; boundary=${r}`},body:a,duplex:"half",signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await We(i,"ingest multipart runs",!0)}catch(r){console.warn(`${r.message.trim()}

Context: ${n}`)}}async updateRun(e,n){Ve(e),n.inputs&&(n.inputs=await this.processInputs(n.inputs)),n.outputs&&(n.outputs=await this.processOutputs(n.outputs));const r={...n,id:e};if(!this._filterForSampling([r],!0).length)return;if(this.autoBatchTracing&&r.trace_id!==void 0&&r.dotted_order!==void 0){if(n.end_time!==void 0&&r.parent_run_id===void 0&&this.blockOnRootRunFinalization&&!this.manualFlushMode){await this.processRunOperation({action:"update",item:r}).catch(console.error);return}else this.processRunOperation({action:"update",item:r}).catch(console.error);return}const a={...this.headers,"Content-Type":"application/json"},i=await this.caller.call(Ce(this.debug),`${this.apiUrl}/runs/${e}`,{method:"PATCH",headers:a,body:Dr(n,`Serializing payload to update run with id: ${e}`),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await We(i,"update run",!0)}async readRun(e,{loadChildRuns:n}={loadChildRuns:!1}){Ve(e);let r=await this._get(`/runs/${e}`);return n&&r.child_run_ids&&(r=await this._loadChildRuns(r)),r}async getRunUrl({runId:e,run:n,projectOpts:r}){if(n!==void 0){let a;n.session_id?a=n.session_id:r!=null&&r.projectName?a=(await this.readProject({projectName:r==null?void 0:r.projectName})).id:r!=null&&r.projectId?a=r==null?void 0:r.projectId:a=(await this.readProject({projectName:ei("PROJECT")||"default"})).id;const i=await this._getTenantId();return`${this.getHostUrl()}/o/${i}/projects/p/${a}/r/${n.id}?poll=true`}else if(e!==void 0){const a=await this.readRun(e);if(!a.app_path)throw new Error(`Run ${e} has no app_path`);return`${this.getHostUrl()}${a.app_path}`}else throw new Error("Must provide either runId or run")}async _loadChildRuns(e){const n=await JZ(this.listRuns({id:e.child_run_ids})),r={},a={};n.sort((i,o)=>((i==null?void 0:i.dotted_order)??"").localeCompare((o==null?void 0:o.dotted_order)??""));for(const i of n){if(i.parent_run_id===null||i.parent_run_id===void 0)throw new Error(`Child run ${i.id} has no parent`);i.parent_run_id in r||(r[i.parent_run_id]=[]),r[i.parent_run_id].push(i),a[i.id]=i}e.child_runs=r[e.id]||[];for(const i in r)i!==e.id&&(a[i].child_runs=r[i]);return e}async*listRuns(e){const{projectId:n,projectName:r,parentRunId:a,traceId:i,referenceExampleId:o,startTime:u,executionOrder:c,isRoot:f,runType:h,error:m,id:g,query:b,filter:v,traceFilter:w,treeFilter:S,limit:x,select:C,order:E}=e;let O=[];if(n&&(O=Array.isArray(n)?n:[n]),r){const P=Array.isArray(r)?r:[r],L=await Promise.all(P.map(T=>this.readProject({projectName:T}).then(B=>B.id)));O.push(...L)}const A=["app_path","child_run_ids","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],N={session:O.length?O:null,run_type:h,reference_example:o,query:b,filter:v,trace_filter:w,tree_filter:S,execution_order:c,parent_run:a,start_time:u?u.toISOString():null,error:m,id:g,limit:x,trace:i,select:C||A,is_root:f,order:E};let D=0;for await(const P of this._getCursorPaginatedList("/runs/query",N))if(x){if(D>=x)break;if(P.length+D>x){yield*P.slice(0,x-D);break}D+=P.length,yield*P}else yield*P}async*listGroupRuns(e){const{projectId:n,projectName:r,groupBy:a,filter:i,startTime:o,endTime:u,limit:c,offset:f}=e,m={session_id:n||(await this.readProject({projectName:r})).id,group_by:a,filter:i,start_time:o?o.toISOString():null,end_time:u?u.toISOString():null,limit:Number(c)||100};let g=Number(f)||0;const b="/runs/group",v=`${this.apiUrl}${b}`;for(;;){const w={...m,offset:g},S=Object.fromEntries(Object.entries(w).filter(([A,N])=>N!==void 0)),x=await this.caller.call(Ce(),v,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(S),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await We(x,`Failed to fetch ${b}`);const C=await x.json(),{groups:E,total:O}=C;if(E.length===0)break;for(const A of E)yield A;if(g+=E.length,g>=O)break}}async getRunStats({id:e,trace:n,parentRun:r,runType:a,projectNames:i,projectIds:o,referenceExampleIds:u,startTime:c,endTime:f,error:h,query:m,filter:g,traceFilter:b,treeFilter:v,isRoot:w,dataSourceType:S}){let x=o||[];i&&(x=[...o||[],...await Promise.all(i.map(N=>this.readProject({projectName:N}).then(D=>D.id)))]);const E=Object.fromEntries(Object.entries({id:e,trace:n,parent_run:r,run_type:a,session:x,reference_example:u,start_time:c,end_time:f,error:h,query:m,filter:g,trace_filter:b,tree_filter:v,is_root:w,data_source_type:S}).filter(([N,D])=>D!==void 0));return await(await this.caller.call(Ce(this.debug),`${this.apiUrl}/runs/stats`,{method:"POST",headers:this.headers,body:JSON.stringify(E),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async shareRun(e,{shareId:n}={}){const r={run_id:e,share_token:n||dr()};Ve(e);const i=await(await this.caller.call(Ce(this.debug),`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(i===null||!("share_token"in i))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${i.share_token}/r`}async unshareRun(e){Ve(e);const n=await this.caller.call(Ce(this.debug),`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await We(n,"unshare run",!0)}async readRunSharedLink(e){Ve(e);const r=await(await this.caller.call(Ce(this.debug),`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();if(!(r===null||!("share_token"in r)))return`${this.getHostUrl()}/public/${r.share_token}/r`}async listSharedRuns(e,{runIds:n}={}){const r=new URLSearchParams({share_token:e});if(n!==void 0)for(const o of n)r.append("id",o);return Ve(e),await(await this.caller.call(Ce(this.debug),`${this.apiUrl}/public/${e}/runs${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async readDatasetSharedSchema(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id),Ve(e);const a=await(await this.caller.call(Ce(this.debug),`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return a.url=`${this.getHostUrl()}/public/${a.share_token}/d`,a}async shareDataset(e,n){if(!e&&!n)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:n})).id);const r={dataset_id:e};Ve(e);const i=await(await this.caller.call(Ce(this.debug),`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json();return i.url=`${this.getHostUrl()}/public/${i.share_token}/d`,i}async unshareDataset(e){Ve(e);const n=await this.caller.call(Ce(this.debug),`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await We(n,"unshare dataset",!0)}async readSharedDataset(e){return Ve(e),await(await this.caller.call(Ce(this.debug),`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async listSharedExamples(e,n){const r={};n!=null&&n.exampleIds&&(r.id=n.exampleIds);const a=new URLSearchParams;Object.entries(r).forEach(([u,c])=>{Array.isArray(c)?c.forEach(f=>a.append(u,f)):a.append(u,c)});const i=await this.caller.call(Ce(this.debug),`${this.apiUrl}/public/${e}/examples?${a.toString()}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),o=await i.json();if(!i.ok)throw"detail"in o?new Error(`Failed to list shared examples.
Status: ${i.status}
Message: ${Array.isArray(o.detail)?o.detail.join(`
`):"Unspecified error"}`):new Error(`Failed to list shared examples: ${i.status} ${i.statusText}`);return o.map(u=>({...u,_hostUrl:this.getHostUrl()}))}async createProject({projectName:e,description:n=null,metadata:r=null,upsert:a=!1,projectExtra:i=null,referenceDatasetId:o=null}){const u=a?"?upsert=true":"",c=`${this.apiUrl}/sessions${u}`,f=i||{};r&&(f.metadata=r);const h={name:e,extra:f,description:n};o!==null&&(h.reference_dataset_id=o);const m=await this.caller.call(Ce(this.debug),c,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(h),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await We(m,"create project"),await m.json()}async updateProject(e,{name:n=null,description:r=null,metadata:a=null,projectExtra:i=null,endTime:o=null}){const u=`${this.apiUrl}/sessions/${e}`;let c=i;a&&(c={...c||{},metadata:a});const f={name:n,extra:c,description:r,end_time:o?new Date(o).toISOString():null},h=await this.caller.call(Ce(this.debug),u,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(f),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await We(h,"update project"),await h.json()}async hasProject({projectId:e,projectName:n}){let r="/sessions";const a=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)Ve(e),r+=`/${e}`;else if(n!==void 0)a.append("name",n);else throw new Error("Must provide projectName or projectId");const i=await this.caller.call(Ce(this.debug),`${this.apiUrl}${r}?${a}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});try{const o=await i.json();return i.ok?Array.isArray(o)?o.length>0:!0:!1}catch{return!1}}async readProject({projectId:e,projectName:n,includeStats:r}){let a="/sessions";const i=new URLSearchParams;if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");if(e!==void 0)Ve(e),a+=`/${e}`;else if(n!==void 0)i.append("name",n);else throw new Error("Must provide projectName or projectId");r!==void 0&&i.append("include_stats",r.toString());const o=await this._get(a,i);let u;if(Array.isArray(o)){if(o.length===0)throw new Error(`Project[id=${e}, name=${n}] not found`);u=o[0]}else u=o;return u}async getProjectUrl({projectId:e,projectName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either projectName or projectId");const r=await this.readProject({projectId:e,projectName:n}),a=await this._getTenantId();return`${this.getHostUrl()}/o/${a}/projects/p/${r.id}`}async getDatasetUrl({datasetId:e,datasetName:n}){if(e===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");const r=await this.readDataset({datasetId:e,datasetName:n}),a=await this._getTenantId();return`${this.getHostUrl()}/o/${a}/datasets/${r.id}`}async _getTenantId(){if(this._tenantId!==null)return this._tenantId;const e=new URLSearchParams({limit:"1"});for await(const n of this._getPaginated("/sessions",e))return this._tenantId=n[0].tenant_id,n[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:e,name:n,nameContains:r,referenceDatasetId:a,referenceDatasetName:i,referenceFree:o,metadata:u}={}){const c=new URLSearchParams;if(e!==void 0)for(const f of e)c.append("id",f);if(n!==void 0&&c.append("name",n),r!==void 0&&c.append("name_contains",r),a!==void 0)c.append("reference_dataset",a);else if(i!==void 0){const f=await this.readDataset({datasetName:i});c.append("reference_dataset",f.id)}o!==void 0&&c.append("reference_free",o.toString()),u!==void 0&&c.append("metadata",JSON.stringify(u));for await(const f of this._getPaginated("/sessions",c))yield*f}async deleteProject({projectId:e,projectName:n}){let r;if(e===void 0&&n===void 0)throw new Error("Must provide projectName or projectId");if(e!==void 0&&n!==void 0)throw new Error("Must provide either projectName or projectId, not both");e===void 0?r=(await this.readProject({projectName:n})).id:r=e,Ve(r);const a=await this.caller.call(Ce(this.debug),`${this.apiUrl}/sessions/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await We(a,`delete session ${r} (${n})`,!0)}async uploadCsv({csvFile:e,fileName:n,inputKeys:r,outputKeys:a,description:i,dataType:o,name:u}){const c=`${this.apiUrl}/datasets/upload`,f=new FormData;f.append("file",e,n),r.forEach(g=>{f.append("input_keys",g)}),a.forEach(g=>{f.append("output_keys",g)}),i&&f.append("description",i),o&&f.append("data_type",o),u&&f.append("name",u);const h=await this.caller.call(Ce(this.debug),c,{method:"POST",headers:this.headers,body:f,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await We(h,"upload CSV"),await h.json()}async createDataset(e,{description:n,dataType:r,inputsSchema:a,outputsSchema:i,metadata:o}={}){const u={name:e,description:n,extra:o?{metadata:o}:void 0};r&&(u.data_type=r),a&&(u.inputs_schema_definition=a),i&&(u.outputs_schema_definition=i);const c=await this.caller.call(Ce(this.debug),`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(u),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await We(c,"create dataset"),await c.json()}async readDataset({datasetId:e,datasetName:n}){let r="/datasets";const a=new URLSearchParams({limit:"1"});if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)Ve(e),r+=`/${e}`;else if(n!==void 0)a.append("name",n);else throw new Error("Must provide datasetName or datasetId");const i=await this._get(r,a);let o;if(Array.isArray(i)){if(i.length===0)throw new Error(`Dataset[id=${e}, name=${n}] not found`);o=i[0]}else o=i;return o}async hasDataset({datasetId:e,datasetName:n}){try{return await this.readDataset({datasetId:e,datasetName:n}),!0}catch(r){if(r instanceof Error&&r.message.toLocaleLowerCase().includes("not found"))return!1;throw r}}async diffDatasetVersions({datasetId:e,datasetName:n,fromVersion:r,toVersion:a}){let i=e;if(i===void 0&&n===void 0)throw new Error("Must provide either datasetName or datasetId");if(i!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");i===void 0&&(i=(await this.readDataset({datasetName:n})).id);const o=new URLSearchParams({from_version:typeof r=="string"?r:r.toISOString(),to_version:typeof a=="string"?a:a.toISOString()});return await this._get(`/datasets/${i}/versions/diff`,o)}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:n}){const r="/datasets";if(e===void 0)if(n!==void 0)e=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide either datasetName or datasetId");return(await(await this._getResponse(`${r}/${e}/openai_ft`)).text()).trim().split(`
`).map(u=>JSON.parse(u))}async*listDatasets({limit:e=100,offset:n=0,datasetIds:r,datasetName:a,datasetNameContains:i,metadata:o}={}){const u="/datasets",c=new URLSearchParams({limit:e.toString(),offset:n.toString()});if(r!==void 0)for(const f of r)c.append("id",f);a!==void 0&&c.append("name",a),i!==void 0&&c.append("name_contains",i),o!==void 0&&c.append("metadata",JSON.stringify(o));for await(const f of this._getPaginated(u,c))yield*f}async updateDataset(e){const{datasetId:n,datasetName:r,...a}=e;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const i=n??(await this.readDataset({datasetName:r})).id;Ve(i);const o=await this.caller.call(Ce(this.debug),`${this.apiUrl}/datasets/${i}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await We(o,"update dataset"),await o.json()}async updateDatasetTag(e){const{datasetId:n,datasetName:r,asOf:a,tag:i}=e;if(!n&&!r)throw new Error("Must provide either datasetName or datasetId");const o=n??(await this.readDataset({datasetName:r})).id;Ve(o);const u=await this.caller.call(Ce(this.debug),`${this.apiUrl}/datasets/${o}/tags`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({as_of:typeof a=="string"?a:a.toISOString(),tag:i}),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await We(u,"update dataset tags")}async deleteDataset({datasetId:e,datasetName:n}){let r="/datasets",a=e;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(n!==void 0&&(a=(await this.readDataset({datasetName:n})).id),a!==void 0)Ve(a),r+=`/${a}`;else throw new Error("Must provide datasetName or datasetId");const i=await this.caller.call(Ce(this.debug),this.apiUrl+r,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await We(i,`delete ${r}`),await i.json()}async indexDataset({datasetId:e,datasetName:n,tag:r}){let a=e;if(!a&&!n)throw new Error("Must provide either datasetName or datasetId");if(a&&n)throw new Error("Must provide either datasetName or datasetId, not both");a||(a=(await this.readDataset({datasetName:n})).id),Ve(a);const i={tag:r},o=await this.caller.call(Ce(this.debug),`${this.apiUrl}/datasets/${a}/index`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await We(o,"index dataset"),await o.json()}async similarExamples(e,n,r,{filter:a}={}){const i={limit:r,inputs:e};a!==void 0&&(i.filter=a),Ve(n);const o=await this.caller.call(Ce(this.debug),`${this.apiUrl}/datasets/${n}/search`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await We(o,"fetch similar examples"),(await o.json()).examples}async createExample(e,n,r){var h;if(tP(e)&&(n!==void 0||r!==void 0))throw new Error("Cannot provide outputs or options when using ExampleCreate object");let a=n?r==null?void 0:r.datasetId:e.dataset_id;const i=n?r==null?void 0:r.datasetName:e.dataset_name;if(a===void 0&&i===void 0)throw new Error("Must provide either datasetName or datasetId");if(a!==void 0&&i!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");a===void 0&&(a=(await this.readDataset({datasetName:i})).id);const o=(n?r==null?void 0:r.createdAt:e.created_at)||new Date;let u;tP(e)?u=e:u={inputs:e,outputs:n,created_at:o==null?void 0:o.toISOString(),id:r==null?void 0:r.exampleId,metadata:r==null?void 0:r.metadata,split:r==null?void 0:r.split,source_run_id:r==null?void 0:r.sourceRunId,use_source_run_io:r==null?void 0:r.useSourceRunIO,use_source_run_attachments:r==null?void 0:r.useSourceRunAttachments,attachments:r==null?void 0:r.attachments};const c=await this._uploadExamplesMultipart(a,[u]);return await this.readExample(((h=c.example_ids)==null?void 0:h[0])??dr())}async createExamples(e){if(Array.isArray(e)){if(e.length===0)return[];const C=e;let E=C[0].dataset_id;const O=C[0].dataset_name;if(E===void 0&&O===void 0)throw new Error("Must provide either datasetName or datasetId");if(E!==void 0&&O!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");E===void 0&&(E=(await this.readDataset({datasetName:O})).id);const A=await this._uploadExamplesMultipart(E,C);return await Promise.all(A.example_ids.map(D=>this.readExample(D)))}const{inputs:n,outputs:r,metadata:a,splits:i,sourceRunIds:o,useSourceRunIOs:u,useSourceRunAttachments:c,attachments:f,exampleIds:h,datasetId:m,datasetName:g}=e;if(n===void 0)throw new Error("Must provide inputs when using legacy parameters");let b=m;const v=g;if(b===void 0&&v===void 0)throw new Error("Must provide either datasetName or datasetId");if(b!==void 0&&v!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");b===void 0&&(b=(await this.readDataset({datasetName:v})).id);const w=n.map((C,E)=>({dataset_id:b,inputs:C,outputs:r==null?void 0:r[E],metadata:a==null?void 0:a[E],split:i==null?void 0:i[E],id:h==null?void 0:h[E],attachments:f==null?void 0:f[E],source_run_id:o==null?void 0:o[E],use_source_run_io:u==null?void 0:u[E],use_source_run_attachments:c==null?void 0:c[E]})),S=await this._uploadExamplesMultipart(b,w);return await Promise.all(S.example_ids.map(C=>this.readExample(C)))}async createLLMExample(e,n,r){return this.createExample({input:e},{output:n},r)}async createChatExample(e,n,r){const a=e.map(o=>ak(o)?ik(o):o),i=ak(n)?ik(n):n;return this.createExample({input:a},{output:i},r)}async readExample(e){Ve(e);const n=`/examples/${e}`,r=await this._get(n),{attachment_urls:a,...i}=r,o=i;return a&&(o.attachments=Object.entries(a).reduce((u,[c,f])=>(u[c.slice(11)]={presigned_url:f.presigned_url,mime_type:f.mime_type},u),{})),o}async*listExamples({datasetId:e,datasetName:n,exampleIds:r,asOf:a,splits:i,inlineS3Urls:o,metadata:u,limit:c,offset:f,filter:h,includeAttachments:m}={}){let g;if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");if(e!==void 0)g=e;else if(n!==void 0)g=(await this.readDataset({datasetName:n})).id;else throw new Error("Must provide a datasetName or datasetId");const b=new URLSearchParams({dataset:g}),v=a?typeof a=="string"?a:a==null?void 0:a.toISOString():void 0;v&&b.append("as_of",v);const w=o??!0;if(b.append("inline_s3_urls",w.toString()),r!==void 0)for(const x of r)b.append("id",x);if(i!==void 0)for(const x of i)b.append("splits",x);if(u!==void 0){const x=JSON.stringify(u);b.append("metadata",x)}c!==void 0&&b.append("limit",c.toString()),f!==void 0&&b.append("offset",f.toString()),h!==void 0&&b.append("filter",h),m===!0&&["attachment_urls","outputs","metadata"].forEach(x=>b.append("select",x));let S=0;for await(const x of this._getPaginated("/examples",b)){for(const C of x){const{attachment_urls:E,...O}=C,A=O;E&&(A.attachments=Object.entries(E).reduce((N,[D,P])=>(N[D.slice(11)]={presigned_url:P.presigned_url,mime_type:P.mime_type||void 0},N),{})),yield A,S++}if(c!==void 0&&S>=c)break}}async deleteExample(e){Ve(e);const n=`/examples/${e}`,r=await this.caller.call(Ce(this.debug),this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await We(r,`delete ${n}`),await r.json()}async updateExample(e,n){let r;n?r=e:r=e.id,Ve(r);let a;n?a={id:r,...n}:a=e;let i;return a.dataset_id!==void 0?i=a.dataset_id:i=(await this.readExample(r)).dataset_id,this._updateExamplesMultipart(i,[a])}async updateExamples(e){let n;return e[0].dataset_id===void 0?n=(await this.readExample(e[0].id)).dataset_id:n=e[0].dataset_id,this._updateExamplesMultipart(n,e)}async readDatasetVersion({datasetId:e,datasetName:n,asOf:r,tag:a}){let i;if(e?i=e:i=(await this.readDataset({datasetName:n})).id,Ve(i),r&&a||!r&&!a)throw new Error("Exactly one of asOf and tag must be specified.");const o=new URLSearchParams;r!==void 0&&o.append("as_of",typeof r=="string"?r:r.toISOString()),a!==void 0&&o.append("tag",a);const u=await this.caller.call(Ce(this.debug),`${this.apiUrl}/datasets/${i}/version?${o.toString()}`,{method:"GET",headers:{...this.headers},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await We(u,"read dataset version"),await u.json()}async listDatasetSplits({datasetId:e,datasetName:n,asOf:r}){let a;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?a=(await this.readDataset({datasetName:n})).id:a=e,Ve(a);const i=new URLSearchParams,o=r?typeof r=="string"?r:r==null?void 0:r.toISOString():void 0;return o&&i.append("as_of",o),await this._get(`/datasets/${a}/splits`,i)}async updateDatasetSplits({datasetId:e,datasetName:n,splitName:r,exampleIds:a,remove:i=!1}){let o;if(e===void 0&&n===void 0)throw new Error("Must provide dataset name or ID");if(e!==void 0&&n!==void 0)throw new Error("Must provide either datasetName or datasetId, not both");e===void 0?o=(await this.readDataset({datasetName:n})).id:o=e,Ve(o);const u={split_name:r,examples:a.map(f=>(Ve(f),f)),remove:i},c=await this.caller.call(Ce(this.debug),`${this.apiUrl}/datasets/${o}/splits`,{method:"PUT",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(u),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await We(c,"update dataset splits",!0)}async evaluateRun(e,n,{sourceInfo:r,loadChildRuns:a,referenceExample:i}={loadChildRuns:!1}){xM("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead.");let o;if(typeof e=="string")o=await this.readRun(e,{loadChildRuns:a});else if(typeof e=="object"&&"id"in e)o=e;else throw new Error(`Invalid run type: ${typeof e}`);o.reference_example_id!==null&&o.reference_example_id!==void 0&&(i=await this.readExample(o.reference_example_id));const u=await n.evaluateRun(o,i),[c,f]=await this._logEvaluationFeedback(u,o,r);return f[0]}async createFeedback(e,n,{score:r,value:a,correction:i,comment:o,sourceInfo:u,feedbackSourceType:c="api",sourceRunId:f,feedbackId:h,feedbackConfig:m,projectId:g,comparativeExperimentId:b}){var C;if(!e&&!g)throw new Error("One of runId or projectId must be provided");if(e&&g)throw new Error("Only one of runId or projectId can be provided");const v={type:c??"api",metadata:u??{}};f!==void 0&&(v==null?void 0:v.metadata)!==void 0&&!v.metadata.__run&&(v.metadata.__run={run_id:f}),(v==null?void 0:v.metadata)!==void 0&&((C=v.metadata.__run)==null?void 0:C.run_id)!==void 0&&Ve(v.metadata.__run.run_id);const w={id:h??dr(),run_id:e,key:n,score:eP(r),value:a,correction:i,comment:o,feedback_source:v,comparative_experiment_id:b,feedbackConfig:m,session_id:g},S=`${this.apiUrl}/feedback`,x=await this.caller.call(Ce(this.debug),S,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(w),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await We(x,"create feedback",!0),w}async updateFeedback(e,{score:n,value:r,correction:a,comment:i}){const o={};n!=null&&(o.score=eP(n)),r!=null&&(o.value=r),a!=null&&(o.correction=a),i!=null&&(o.comment=i),Ve(e);const u=await this.caller.call(Ce(this.debug),`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await We(u,"update feedback",!0)}async readFeedback(e){Ve(e);const n=`/feedback/${e}`;return await this._get(n)}async deleteFeedback(e){Ve(e);const n=`/feedback/${e}`,r=await this.caller.call(Ce(this.debug),this.apiUrl+n,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await We(r,`delete ${n}`),await r.json()}async*listFeedback({runIds:e,feedbackKeys:n,feedbackSourceTypes:r}={}){const a=new URLSearchParams;if(e&&a.append("run",e.join(",")),n)for(const i of n)a.append("key",i);if(r)for(const i of r)a.append("source",i);for await(const i of this._getPaginated("/feedback",a))yield*i}async createPresignedFeedbackToken(e,n,{expiration:r,feedbackConfig:a}={}){const i={run_id:e,feedback_key:n,feedback_config:a};return r?typeof r=="string"?i.expires_at=r:(r!=null&&r.hours||r!=null&&r.minutes||r!=null&&r.days)&&(i.expires_in=r):i.expires_in={hours:3},await(await this.caller.call(Ce(this.debug),`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async createComparativeExperiment({name:e,experimentIds:n,referenceDatasetId:r,createdAt:a,description:i,metadata:o,id:u}){var h;if(n.length===0)throw new Error("At least one experiment is required");if(r||(r=(await this.readProject({projectId:n[0]})).reference_dataset_id),!r==null)throw new Error("A reference dataset is required");const c={id:u,name:e,experiment_ids:n,reference_dataset_id:r,description:i,created_at:(h=a??new Date)==null?void 0:h.toISOString(),extra:{}};return o&&(c.extra.metadata=o),await(await this.caller.call(Ce(this.debug),`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async*listPresignedFeedbackTokens(e){Ve(e);const n=new URLSearchParams({run_id:e});for await(const r of this._getPaginated("/feedback/tokens",n))yield*r}_selectEvalResults(e){let n;return"results"in e?n=e.results:Array.isArray(e)?n=e:n=[e],n}async _logEvaluationFeedback(e,n,r){const a=this._selectEvalResults(e),i=[];for(const o of a){let u=r||{};o.evaluatorInfo&&(u={...o.evaluatorInfo,...u});let c=null;o.targetRunId?c=o.targetRunId:n&&(c=n.id),i.push(await this.createFeedback(c,o.key,{score:o.score,value:o.value,comment:o.comment,correction:o.correction,sourceInfo:u,sourceRunId:o.sourceRunId,feedbackConfig:o.feedbackConfig,feedbackSourceType:"model"}))}return[a,i]}async logEvaluationFeedback(e,n,r){const[a]=await this._logEvaluationFeedback(e,n,r);return a}async*listAnnotationQueues(e={}){const{queueIds:n,name:r,nameContains:a,limit:i}=e,o=new URLSearchParams;n&&n.forEach((c,f)=>{Ve(c,`queueIds[${f}]`),o.append("ids",c)}),r&&o.append("name",r),a&&o.append("name_contains",a),o.append("limit",(i!==void 0?Math.min(i,100):100).toString());let u=0;for await(const c of this._getPaginated("/annotation-queues",o))if(yield*c,u++,i!==void 0&&u>=i)break}async createAnnotationQueue(e){const{name:n,description:r,queueId:a,rubricInstructions:i}=e,o={name:n,description:r,id:a||dr(),rubric_instructions:i},u=await this.caller.call(Ce(this.debug),`${this.apiUrl}/annotation-queues`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(Object.fromEntries(Object.entries(o).filter(([f,h])=>h!==void 0))),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await We(u,"create annotation queue"),await u.json()}async readAnnotationQueue(e){const n=await this.caller.call(Ce(this.debug),`${this.apiUrl}/annotation-queues/${Ve(e,"queueId")}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await We(n,"read annotation queue"),await n.json()}async updateAnnotationQueue(e,n){const{name:r,description:a,rubricInstructions:i}=n,o=await this.caller.call(Ce(this.debug),`${this.apiUrl}/annotation-queues/${Ve(e,"queueId")}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({name:r,description:a,rubric_instructions:i}),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await We(o,"update annotation queue")}async deleteAnnotationQueue(e){const n=await this.caller.call(Ce(this.debug),`${this.apiUrl}/annotation-queues/${Ve(e,"queueId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await We(n,"delete annotation queue")}async addRunsToAnnotationQueue(e,n){const r=await this.caller.call(Ce(this.debug),`${this.apiUrl}/annotation-queues/${Ve(e,"queueId")}/runs`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(n.map((a,i)=>Ve(a,`runIds[${i}]`).toString())),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await We(r,"add runs to annotation queue")}async getRunFromAnnotationQueue(e,n){const r=`/annotation-queues/${Ve(e,"queueId")}/run`,a=await this.caller.call(Ce(this.debug),`${this.apiUrl}${r}/${n}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await We(a,"get run from annotation queue"),await a.json()}async deleteRunFromAnnotationQueue(e,n){const r=await this.caller.call(Ce(this.debug),`${this.apiUrl}/annotation-queues/${Ve(e,"queueId")}/runs/${Ve(n,"queueRunId")}`,{method:"DELETE",headers:{...this.headers,Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await We(r,"delete run from annotation queue")}async getSizeFromAnnotationQueue(e){const n=await this.caller.call(Ce(this.debug),`${this.apiUrl}/annotation-queues/${Ve(e,"queueId")}/size`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await We(n,"get size from annotation queue"),await n.json()}async _currentTenantIsOwner(e){const n=await this._getSettings();return e=="-"||n.tenant_handle===e}async _ownerConflictError(e,n){const r=await this._getSettings();return new Error(`Cannot ${e} for another tenant.

      Current tenant: ${r.tenant_handle}

      Requested tenant: ${n}`)}async _getLatestCommitHash(e){const n=await this.caller.call(Ce(this.debug),`${this.apiUrl}/commits/${e}/?limit=1&offset=0`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),r=await n.json();if(!n.ok){const a=typeof r.detail=="string"?r.detail:JSON.stringify(r.detail),i=new Error(`Error ${n.status}: ${n.statusText}
${a}`);throw i.statusCode=n.status,i}if(r.commits.length!==0)return r.commits[0].commit_hash}async _likeOrUnlikePrompt(e,n){const[r,a,i]=Os(e),o=await this.caller.call(Ce(this.debug),`${this.apiUrl}/likes/${r}/${a}`,{method:"POST",body:JSON.stringify({like:n}),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await We(o,`${n?"like":"unlike"} prompt`),await o.json()}async _getPromptUrl(e){const[n,r,a]=Os(e);if(await this._currentTenantIsOwner(n)){const i=await this._getSettings();return a!=="latest"?`${this.getHostUrl()}/prompts/${r}/${a.substring(0,8)}?organizationId=${i.id}`:`${this.getHostUrl()}/prompts/${r}?organizationId=${i.id}`}else return a!=="latest"?`${this.getHostUrl()}/hub/${n}/${r}/${a.substring(0,8)}`:`${this.getHostUrl()}/hub/${n}/${r}`}async promptExists(e){return!!await this.getPrompt(e)}async likePrompt(e){return this._likeOrUnlikePrompt(e,!0)}async unlikePrompt(e){return this._likeOrUnlikePrompt(e,!1)}async*listCommits(e){for await(const n of this._getPaginated(`/commits/${e}/`,new URLSearchParams,r=>r.commits))yield*n}async*listPrompts(e){const n=new URLSearchParams;n.append("sort_field",(e==null?void 0:e.sortField)??"updated_at"),n.append("sort_direction","desc"),n.append("is_archived",(!!(e!=null&&e.isArchived)).toString()),(e==null?void 0:e.isPublic)!==void 0&&n.append("is_public",e.isPublic.toString()),e!=null&&e.query&&n.append("query",e.query);for await(const r of this._getPaginated("/repos",n,a=>a.repos))yield*r}async getPrompt(e){const[n,r,a]=Os(e),i=await this.caller.call(Ce(this.debug),`${this.apiUrl}/repos/${n}/${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(i.status===404)return null;await We(i,"get prompt");const o=await i.json();return o.repo?o.repo:null}async createPrompt(e,n){const r=await this._getSettings();if(n!=null&&n.isPublic&&!r.tenant_handle)throw new Error(`Cannot create a public prompt without first

        creating a LangChain Hub handle. 
        You can add a handle by creating a public prompt at:

        https://smith.langchain.com/prompts`);const[a,i,o]=Os(e);if(!await this._currentTenantIsOwner(a))throw await this._ownerConflictError("create a prompt",a);const u={repo_handle:i,...(n==null?void 0:n.description)&&{description:n.description},...(n==null?void 0:n.readme)&&{readme:n.readme},...(n==null?void 0:n.tags)&&{tags:n.tags},is_public:!!(n!=null&&n.isPublic)},c=await this.caller.call(Ce(this.debug),`${this.apiUrl}/repos/`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(u),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await We(c,"create prompt");const{repo:f}=await c.json();return f}async createCommit(e,n,r){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[a,i,o]=Os(e),u=(r==null?void 0:r.parentCommitHash)==="latest"||!(r!=null&&r.parentCommitHash)?await this._getLatestCommitHash(`${a}/${i}`):r==null?void 0:r.parentCommitHash,c={manifest:JSON.parse(JSON.stringify(n)),parent_commit:u},f=await this.caller.call(Ce(this.debug),`${this.apiUrl}/commits/${a}/${i}`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(c),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await We(f,"create commit");const h=await f.json();return this._getPromptUrl(`${a}/${i}${h.commit_hash?`:${h.commit_hash}`:""}`)}async updateExamplesMultipart(e,n=[]){return this._updateExamplesMultipart(e,n)}async _updateExamplesMultipart(e,n=[]){var u;if(!await this._getMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const c of n){const f=c.id,h={...c.metadata&&{metadata:c.metadata},...c.split&&{split:c.split}},m=Dr(h,`Serializing body for example with id: ${f}`),g=new Blob([m],{type:"application/json"});if(r.append(f,g),c.inputs){const b=Dr(c.inputs,`Serializing inputs for example with id: ${f}`),v=new Blob([b],{type:"application/json"});r.append(`${f}.inputs`,v)}if(c.outputs){const b=Dr(c.outputs,`Serializing outputs whle updating example with id: ${f}`),v=new Blob([b],{type:"application/json"});r.append(`${f}.outputs`,v)}if(c.attachments)for(const[b,v]of Object.entries(c.attachments)){let w,S;Array.isArray(v)?[w,S]=v:(w=v.mimeType,S=v.data);const x=new Blob([S],{type:`${w}; length=${S.byteLength}`});r.append(`${f}.attachment.${b}`,x)}if(c.attachments_operations){const b=Dr(c.attachments_operations,`Serializing attachments while updating example with id: ${f}`),v=new Blob([b],{type:"application/json"});r.append(`${f}.attachments_operations`,v)}}const a=e??((u=n[0])==null?void 0:u.dataset_id);return await(await this.caller.call(Ce(this.debug),`${this.apiUrl}/v1/platform/datasets/${a}/examples`,{method:"PATCH",headers:this.headers,body:r})).json()}async uploadExamplesMultipart(e,n=[]){return this._uploadExamplesMultipart(e,n)}async _uploadExamplesMultipart(e,n=[]){if(!await this._getMultiPartSupport())throw new Error("Your LangSmith deployment does not allow using the multipart examples endpoint, please upgrade your deployment to the latest version.");const r=new FormData;for(const o of n){const u=(o.id??dr()).toString(),c={created_at:o.created_at,...o.metadata&&{metadata:o.metadata},...o.split&&{split:o.split},...o.source_run_id&&{source_run_id:o.source_run_id},...o.use_source_run_io&&{use_source_run_io:o.use_source_run_io},...o.use_source_run_attachments&&{use_source_run_attachments:o.use_source_run_attachments}},f=Dr(c,`Serializing body for uploaded example with id: ${u}`),h=new Blob([f],{type:"application/json"});if(r.append(u,h),o.inputs){const m=Dr(o.inputs,`Serializing inputs for uploaded example with id: ${u}`),g=new Blob([m],{type:"application/json"});r.append(`${u}.inputs`,g)}if(o.outputs){const m=Dr(o.outputs,`Serializing outputs for uploaded example with id: ${u}`),g=new Blob([m],{type:"application/json"});r.append(`${u}.outputs`,g)}if(o.attachments)for(const[m,g]of Object.entries(o.attachments)){let b,v;Array.isArray(g)?[b,v]=g:(b=g.mimeType,v=g.data);const w=new Blob([v],{type:`${b}; length=${v.byteLength}`});r.append(`${u}.attachment.${m}`,w)}}const a=await this.caller.call(Ce(this.debug),`${this.apiUrl}/v1/platform/datasets/${e}/examples`,{method:"POST",headers:this.headers,body:r});return await We(a,"upload examples"),await a.json()}async updatePrompt(e,n){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[r,a]=Os(e);if(!await this._currentTenantIsOwner(r))throw await this._ownerConflictError("update a prompt",r);const i={};if((n==null?void 0:n.description)!==void 0&&(i.description=n.description),(n==null?void 0:n.readme)!==void 0&&(i.readme=n.readme),(n==null?void 0:n.tags)!==void 0&&(i.tags=n.tags),(n==null?void 0:n.isPublic)!==void 0&&(i.is_public=n.isPublic),(n==null?void 0:n.isArchived)!==void 0&&(i.is_archived=n.isArchived),Object.keys(i).length===0)throw new Error("No valid update options provided");const o=await this.caller.call(Ce(this.debug),`${this.apiUrl}/repos/${r}/${a}`,{method:"PATCH",body:JSON.stringify(i),headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await We(o,"update prompt"),o.json()}async deletePrompt(e){if(!await this.promptExists(e))throw new Error("Prompt does not exist, you must create it first.");const[n,r,a]=Os(e);if(!await this._currentTenantIsOwner(n))throw await this._ownerConflictError("delete a prompt",n);return await(await this.caller.call(Ce(this.debug),`${this.apiUrl}/repos/${n}/${r}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions})).json()}async pullPromptCommit(e,n){const[r,a,i]=Os(e),o=await this.caller.call(Ce(this.debug),`${this.apiUrl}/commits/${r}/${a}/${i}${n!=null&&n.includeModel?"?include_model=true":""}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await We(o,"pull prompt commit");const u=await o.json();return{owner:r,repo:a,commit_hash:u.commit_hash,manifest:u.manifest,examples:u.examples}}async _pullPrompt(e,n){const r=await this.pullPromptCommit(e,{includeModel:n==null?void 0:n.includeModel});return JSON.stringify(r.manifest)}async pushPrompt(e,n){return await this.promptExists(e)?n&&Object.keys(n).some(a=>a!=="object")&&await this.updatePrompt(e,{description:n==null?void 0:n.description,readme:n==null?void 0:n.readme,tags:n==null?void 0:n.tags,isPublic:n==null?void 0:n.isPublic}):await this.createPrompt(e,{description:n==null?void 0:n.description,readme:n==null?void 0:n.readme,tags:n==null?void 0:n.tags,isPublic:n==null?void 0:n.isPublic}),n!=null&&n.object?await this.createCommit(e,n==null?void 0:n.object,{parentCommitHash:n==null?void 0:n.parentCommitHash}):await this._getPromptUrl(e)}async clonePublicDataset(e,n={}){const{sourceApiUrl:r=this.apiUrl,datasetName:a}=n,[i,o]=this.parseTokenOrUrl(e,r),u=new Rf({apiUrl:i,apiKey:"placeholder"}),c=await u.readSharedDataset(o),f=a||c.name;try{if(await this.hasDataset({datasetId:f})){console.log(`Dataset ${f} already exists in your tenant. Skipping.`);return}}catch{}const h=await u.listSharedExamples(o),m=await this.createDataset(f,{description:c.description,dataType:c.data_type||"kv",inputsSchema:c.inputs_schema_definition??void 0,outputsSchema:c.outputs_schema_definition??void 0});try{await this.createExamples({inputs:h.map(g=>g.inputs),outputs:h.flatMap(g=>g.outputs?[g.outputs]:[]),datasetId:m.id})}catch(g){throw console.error(`An error occurred while creating dataset ${f}. You should delete it manually.`),g}}parseTokenOrUrl(e,n,r=2,a="dataset"){try{return Ve(e),[n,e]}catch{}try{const o=new URL(e).pathname.split("/").filter(u=>u!=="");if(o.length>=r){const u=o[o.length-r];return[n,u]}else throw new Error(`Invalid public ${a} URL: ${e}`)}catch{throw new Error(`Invalid public ${a} URL or token: ${e}`)}}awaitPendingTraceBatches(){return this.manualFlushMode?(console.warn("[WARNING]: When tracing in manual flush mode, you must call `await client.flush()` manually to submit trace batches."),Promise.resolve()):Promise.all([...this.autoBatchQueue.items.map(({itemPromise:e})=>e),this.batchIngestCaller.queue.onIdle()])}}function tP(t){return"dataset_id"in t||"dataset_name"in t}const AM="0.3.29";var qd={};let Li;const rK=()=>typeof window<"u"&&typeof window.document<"u",aK=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",iK=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),OM=()=>typeof Deno<"u",sK=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!OM(),oK=()=>Li||(rK()?Li="browser":sK()?Li="node":aK()?Li="webworker":iK()?Li="jsdom":OM()?Li="deno":Li="other",Li);let u_;function kM(){if(u_===void 0){const t=oK(),e=cK();u_={library:"langsmith",runtime:t,sdk:"langsmith-js",sdk_version:AM,...e}}return u_}function lK(){const t=uK()||{},e={},n=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION","LANGSMITH_API_KEY","LANGSMITH_ENDPOINT","LANGSMITH_TRACING_V2","LANGSMITH_PROJECT","LANGSMITH_SESSION"];for(const[r,a]of Object.entries(t))(r.startsWith("LANGCHAIN_")||r.startsWith("LANGSMITH_"))&&typeof a=="string"&&!n.includes(r)&&!r.toLowerCase().includes("key")&&!r.toLowerCase().includes("secret")&&!r.toLowerCase().includes("token")&&(r==="LANGCHAIN_REVISION_ID"?e.revision_id=a:e[r]=a);return e}function uK(){try{return typeof process<"u"&&qd?Object.entries(qd).reduce((t,[e,n])=>(t[e]=String(n),t),{}):void 0}catch{return}}function zs(t){try{return typeof process<"u"?qd==null?void 0:qd[t]:void 0}catch{return}}function ei(t){return zs(`LANGSMITH_${t}`)||zs(`LANGCHAIN_${t}`)}let c_;function cK(){if(c_!==void 0)return c_;const t=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],e={};for(const n of t){const r=zs(n);r!==void 0&&(e[n]=r)}return c_=e,e}const dK=t=>!!["TRACING_V2","TRACING"].find(n=>ei(n)==="true"),d_=Symbol.for("lc:context_variables");function fK(t){return t.replace(/[-:.]/g,"")}function hK(t,e,n=1){const r=n.toFixed(0).slice(0,3).padStart(3,"0");return fK(`${new Date(t).toISOString().slice(0,-1)}${r}Z`)+e}class ag{constructor(e,n,r){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=e,this.tags=n,this.project_name=r}static fromHeader(e){const n=e.split(",");let r={},a=[],i;for(const o of n){const[u,c]=o.split("="),f=decodeURIComponent(c);u==="langsmith-metadata"?r=JSON.parse(f):u==="langsmith-tags"?a=f.split(","):u==="langsmith-project"&&(i=f)}return new ag(r,a,i)}toHeader(){const e=[];return this.metadata&&Object.keys(this.metadata).length>0&&e.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&e.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),this.project_name&&e.push(`langsmith-project=${encodeURIComponent(this.project_name)}`),e.join(",")}}class zr{constructor(e){var u;if(Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"attachments",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),PM(e)){Object.assign(this,{...e});return}const n=zr.getDefaultConfig(),{metadata:r,...a}=e,i=a.client??zr.getSharedClient(),o={...r,...(u=a==null?void 0:a.extra)==null?void 0:u.metadata};if(a.extra={...a.extra,metadata:o},Object.assign(this,{...n,...a,client:i}),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.execution_order??(this.execution_order=1),this.child_execution_order??(this.child_execution_order=1),!this.dotted_order){const c=hK(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+c:this.dotted_order=c}}static getDefaultConfig(){return{id:dr(),run_type:"chain",project_name:ei("PROJECT")??zs("LANGCHAIN_SESSION")??"default",child_runs:[],api_url:zs("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:zs("LANGCHAIN_API_KEY"),caller_options:{},start_time:Date.now(),serialized:{},inputs:{},extra:{}}}static getSharedClient(){return zr.sharedClient||(zr.sharedClient=new Rf),zr.sharedClient}createChild(e){var c,f,h,m,g,b;const n=this.child_execution_order+1,r=new zr({...e,parent_run:this,project_name:this.project_name,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:n,child_execution_order:n});d_ in this&&(r[d_]=this[d_]);const a=Symbol.for("lc:child_config"),i=((c=e.extra)==null?void 0:c[a])??this.extra[a];if(mK(i)){const v={...i},w=pK(v.callbacks)?(h=(f=v.callbacks).copy)==null?void 0:h.call(f):void 0;w&&(Object.assign(w,{_parentRunId:r.id}),(b=(g=(m=w.handlers)==null?void 0:m.find($M))==null?void 0:g.updateFromRunTree)==null||b.call(g,r),v.callbacks=w),r.extra[a]=v}const o=new Set;let u=this;for(;u!=null&&!o.has(u.id);)o.add(u.id),u.child_execution_order=Math.max(u.child_execution_order,n),u=u.parent_run;return this.child_runs.push(r),r}async end(e,n,r=Date.now(),a){this.outputs=this.outputs??e,this.error=this.error??n,this.end_time=this.end_time??r,a&&Object.keys(a).length>0&&(this.extra=this.extra?{...this.extra,metadata:{...this.extra.metadata,...a}}:{metadata:a})}_convertToCreate(e,n,r=!0){var c;const a=e.extra??{};if(a.runtime||(a.runtime={}),n)for(const[f,h]of Object.entries(n))a.runtime[f]||(a.runtime[f]=h);let i,o;return r?(o=(c=e.parent_run)==null?void 0:c.id,i=[]):(i=e.child_runs.map(f=>this._convertToCreate(f,n,r)),o=void 0),{id:e.id,name:e.name,start_time:e.start_time,end_time:e.end_time,run_type:e.run_type,reference_example_id:e.reference_example_id,extra:a,serialized:e.serialized,error:e.error,inputs:e.inputs,outputs:e.outputs,session_name:e.project_name,child_runs:i,parent_run_id:o,trace_id:e.trace_id,dotted_order:e.dotted_order,tags:e.tags,attachments:e.attachments}}async postRun(e=!0){try{const n=kM(),r=await this._convertToCreate(this,n,!0);if(await this.client.createRun(r),!e){xM("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(const a of this.child_runs)await a.postRun(!1)}}catch(n){console.error(`Error in postRun for run ${this.id}:`,n)}}async patchRun(){var e;try{const n={end_time:this.end_time,error:this.error,inputs:this.inputs,outputs:this.outputs,parent_run_id:(e=this.parent_run)==null?void 0:e.id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags,attachments:this.attachments,session_name:this.project_name};await this.client.updateRun(this.id,n)}catch(n){console.error(`Error in patchRun for run ${this.id}`,n)}}toJSON(){return this._convertToCreate(this,void 0,!1)}addEvent(e){this.events||(this.events=[]),typeof e=="string"?this.events.push({name:"event",time:new Date().toISOString(),message:e}):this.events.push({...e,time:e.time??new Date().toISOString()})}static fromRunnableConfig(e,n){var f,h,m,g;const r=e==null?void 0:e.callbacks;let a,i,o,u=dK();if(r){const b=((f=r==null?void 0:r.getParentRunId)==null?void 0:f.call(r))??"",v=(h=r==null?void 0:r.handlers)==null?void 0:h.find(w=>(w==null?void 0:w.name)=="langchain_tracer");a=(m=v==null?void 0:v.getRun)==null?void 0:m.call(v,b),i=v==null?void 0:v.projectName,o=v==null?void 0:v.client,u=u||!!v}return a?new zr({name:a.name,id:a.id,trace_id:a.trace_id,dotted_order:a.dotted_order,client:o,tracingEnabled:u,project_name:i,tags:[...new Set(((a==null?void 0:a.tags)??[]).concat((e==null?void 0:e.tags)??[]))],extra:{metadata:{...(g=a==null?void 0:a.extra)==null?void 0:g.metadata,...e==null?void 0:e.metadata}}}).createChild(n):new zr({...n,client:o,tracingEnabled:u,project_name:i})}static fromDottedOrder(e){return this.fromHeaders({"langsmith-trace":e})}static fromHeaders(e,n){var f;const r="get"in e&&typeof e.get=="function"?{"langsmith-trace":e.get("langsmith-trace"),baggage:e.get("baggage")}:e,a=r["langsmith-trace"];if(!a||typeof a!="string")return;const i=a.trim(),o=i.split(".").map(h=>{const[m,g]=h.split("Z");return{strTime:m,time:Date.parse(m+"Z"),uuid:g}}),u=o[0].uuid,c={...n,name:(n==null?void 0:n.name)??"parent",run_type:(n==null?void 0:n.run_type)??"chain",start_time:(n==null?void 0:n.start_time)??Date.now(),id:(f=o.at(-1))==null?void 0:f.uuid,trace_id:u,dotted_order:i};if(r.baggage&&typeof r.baggage=="string"){const h=ag.fromHeader(r.baggage);c.metadata=h.metadata,c.tags=h.tags,c.project_name=h.project_name}return new zr(c)}toHeaders(e){var r;const n={"langsmith-trace":this.dotted_order,baggage:new ag((r=this.extra)==null?void 0:r.metadata,this.tags,this.project_name).toHeader()};if(e)for(const[a,i]of Object.entries(n))e.set(a,i);return n}}Object.defineProperty(zr,"sharedClient",{enumerable:!0,configurable:!0,writable:!0,value:null});function PM(t){return t!==void 0&&typeof t.createChild=="function"&&typeof t.postRun=="function"}function $M(t){return typeof t=="object"&&t!=null&&typeof t.name=="string"&&t.name==="langchain_tracer"}function nP(t){return Array.isArray(t)&&t.some(e=>$M(e))}function pK(t){return typeof t=="object"&&t!=null&&Array.isArray(t.handlers)}function mK(t){var e;return t!==void 0&&typeof t.callbacks=="object"&&(nP((e=t.callbacks)==null?void 0:e.handlers)||nP(t.callbacks))}let gK=class{getStore(){}run(e,n){return n()}};const f_=Symbol.for("ls:tracing_async_local_storage"),yK=new gK;let bK=class{getInstance(){return globalThis[f_]??yK}initializeGlobalInstance(e){globalThis[f_]===void 0&&(globalThis[f_]=e)}};const vK=new bK;function _K(t=!1){const e=vK.getInstance().getStore();if(!t&&!PM(e))throw new Error(`Could not get the current run tree.

Please make sure you are calling this method within a traceable function and that tracing is enabled.`);return e}function zx(t){return typeof t=="function"&&"langsmith:traceable"in t}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */const wK=Object.prototype.hasOwnProperty;function Aw(t,e){return wK.call(t,e)}function Ow(t){if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<n.length;r++)n[r]=""+r;return n}if(Object.keys)return Object.keys(t);let e=[];for(let n in t)Aw(t,n)&&e.push(n);return e}function ni(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function kw(t){let e=0;const n=t.length;let r;for(;e<n;){if(r=t.charCodeAt(e),r>=48&&r<=57){e++;continue}return!1}return!0}function eu(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function SK(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function Pw(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Pw(t[n]))return!0}else if(typeof t=="object"){const n=Ow(t),r=n.length;for(var e=0;e<r;e++)if(Pw(t[n[e]]))return!0}}return!1}function rP(t,e){const n=[t];for(const r in e){const a=typeof e[r]=="object"?JSON.stringify(e[r],null,2):e[r];typeof a<"u"&&n.push(`${r}: ${a}`)}return n.join(`
`)}class xK extends Error{constructor(e,n,r,a,i){super(rP(e,{name:n,index:r,operation:a,tree:i})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.setPrototypeOf(this,new.target.prototype),this.message=rP(e,{name:n,index:r,operation:a,tree:i})}}const Sn=xK,cu={add:function(t,e,n){return t[e]=this.value,{newDocument:n}},remove:function(t,e,n){var r=t[e];return delete t[e],{newDocument:n,removed:r}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:function(t,e,n){let r=$w(n,this.path);r&&(r=ni(r));const a=Gd(n,{op:"remove",path:this.from}).removed;return Gd(n,{op:"add",path:this.path,value:a}),{newDocument:n,removed:r}},copy:function(t,e,n){const r=$w(n,this.from);return Gd(n,{op:"add",path:this.path,value:ni(r)}),{newDocument:n}},test:function(t,e,n){return{newDocument:n,test:sg(t[e],this.value)}},_get:function(t,e,n){return this.value=t[e],{newDocument:n}}};var EK={add:function(t,e,n){return kw(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:n,index:e}},remove:function(t,e,n){var r=t.splice(e,1);return{newDocument:n,removed:r[0]}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:cu.move,copy:cu.copy,test:cu.test,_get:cu._get};function $w(t,e){if(e=="")return t;var n={op:"_get",path:e};return Gd(t,n),n.value}function Gd(t,e,n=!1,r=!0,a=!0,i=0){if(n&&(typeof n=="function"?n(e,0,t,e.path):Iw(e,0)),e.path===""){let o={newDocument:t};if(e.op==="add")return o.newDocument=e.value,o;if(e.op==="replace")return o.newDocument=e.value,o.removed=t,o;if(e.op==="move"||e.op==="copy")return o.newDocument=$w(t,e.from),e.op==="move"&&(o.removed=t),o;if(e.op==="test"){if(o.test=sg(t,e.value),o.test===!1)throw new Sn("Test operation failed","TEST_OPERATION_FAILED",i,e,t);return o.newDocument=t,o}else{if(e.op==="remove")return o.removed=t,o.newDocument=null,o;if(e.op==="_get")return e.value=t,o;if(n)throw new Sn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",i,e,t);return o}}else{r||(t=ni(t));const u=(e.path||"").split("/");let c=t,f=1,h=u.length,m,g,b;for(typeof n=="function"?b=n:b=Iw;;){if(g=u[f],g&&g.indexOf("~")!=-1&&(g=SK(g)),a&&(g=="__proto__"||g=="prototype"&&f>0&&u[f-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&m===void 0&&(c[g]===void 0?m=u.slice(0,f).join("/"):f==h-1&&(m=e.path),m!==void 0&&b(e,0,t,m)),f++,Array.isArray(c)){if(g==="-")g=c.length;else{if(n&&!kw(g))throw new Sn("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",i,e,t);kw(g)&&(g=~~g)}if(f>=h){if(n&&e.op==="add"&&g>c.length)throw new Sn("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",i,e,t);const v=EK[e.op].call(e,c,g,t);if(v.test===!1)throw new Sn("Test operation failed","TEST_OPERATION_FAILED",i,e,t);return v}}else if(f>=h){const v=cu[e.op].call(e,c,g,t);if(v.test===!1)throw new Sn("Test operation failed","TEST_OPERATION_FAILED",i,e,t);return v}if(c=c[g],n&&f<h&&(!c||typeof c!="object"))throw new Sn("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",i,e,t)}}}function ig(t,e,n,r=!0,a=!0){if(n&&!Array.isArray(e))throw new Sn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(t=ni(t));const i=new Array(e.length);for(let o=0,u=e.length;o<u;o++)i[o]=Gd(t,e[o],n,!0,a,o),t=i[o].newDocument;return i.newDocument=t,i}function Iw(t,e,n,r){if(typeof t!="object"||t===null||Array.isArray(t))throw new Sn("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,n);if(cu[t.op]){if(typeof t.path!="string")throw new Sn("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,n);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new Sn('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,n);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new Sn("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new Sn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&Pw(t.value))throw new Sn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,n);if(n){if(t.op=="add"){var a=t.path.split("/").length,i=r.split("/").length;if(a!==i+1&&a!==i)throw new Sn("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,n)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==r)throw new Sn("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,n)}else if(t.op==="move"||t.op==="copy"){var o={op:"_get",path:t.from,value:void 0},u=TK([o],n);if(u&&u.name==="OPERATION_PATH_UNRESOLVABLE")throw new Sn("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,n)}}}else throw new Sn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,n)}function TK(t,e,n){try{if(!Array.isArray(t))throw new Sn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)ig(ni(e),ni(t),n||!0);else{n=n||Iw;for(var r=0;r<t.length;r++)n(t[r],r,e,void 0)}}catch(a){if(a instanceof Sn)return a;throw a}}function sg(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Array.isArray(t),r=Array.isArray(e),a,i,o;if(n&&r){if(i=t.length,i!=e.length)return!1;for(a=i;a--!==0;)if(!sg(t[a],e[a]))return!1;return!0}if(n!=r)return!1;var u=Object.keys(t);if(i=u.length,i!==Object.keys(e).length)return!1;for(a=i;a--!==0;)if(!e.hasOwnProperty(u[a]))return!1;for(a=i;a--!==0;)if(o=u[a],!sg(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2013-2021 Joachim Wester
 * MIT license
 */function IM(t,e,n,r,a){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var i=Ow(e),o=Ow(t),u=!1,c=o.length-1;c>=0;c--){var f=o[c],h=t[f];if(Aw(e,f)&&!(e[f]===void 0&&h!==void 0&&Array.isArray(e)===!1)){var m=e[f];typeof h=="object"&&h!=null&&typeof m=="object"&&m!=null&&Array.isArray(h)===Array.isArray(m)?IM(h,m,n,r+"/"+eu(f),a):h!==m&&(a&&n.push({op:"test",path:r+"/"+eu(f),value:ni(h)}),n.push({op:"replace",path:r+"/"+eu(f),value:ni(m)}))}else Array.isArray(t)===Array.isArray(e)?(a&&n.push({op:"test",path:r+"/"+eu(f),value:ni(h)}),n.push({op:"remove",path:r+"/"+eu(f)}),u=!0):(a&&n.push({op:"test",path:r,value:t}),n.push({op:"replace",path:r,value:e}))}if(!(!u&&i.length==o.length))for(var c=0;c<i.length;c++){var f=i[c];!Aw(t,f)&&e[f]!==void 0&&n.push({op:"add",path:r+"/"+eu(f),value:ni(e[f])})}}}function CK(t,e,n=!1){var r=[];return IM(t,e,r,"",n),r}var h_={};const RK=()=>typeof window<"u"&&typeof window.document<"u",AK=()=>typeof globalThis=="object"&&globalThis.constructor&&globalThis.constructor.name==="DedicatedWorkerGlobalScope",OK=()=>typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),Fx=()=>typeof Deno<"u",kK=()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"&&!Fx(),PK=()=>{let t;return RK()?t="browser":kK()?t="node":AK()?t="webworker":OK()?t="jsdom":Fx()?t="deno":t="other",t};let p_;async function $K(){return p_===void 0&&(p_={library:"langchain-js",runtime:PK()}),p_}function si(t){try{return typeof process<"u"?h_==null?void 0:h_[t]:Fx()?Deno==null?void 0:Deno.env.get(t):void 0}catch{return}}class IK{}function jK(t){return"lc_prefer_streaming"in t&&t.lc_prefer_streaming}class lh extends IK{get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}get lc_serializable_keys(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,sM(this.constructor)]}constructor(e){super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreCustomEvent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"raiseError",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:si("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.ignoreCustomEvent=e.ignoreCustomEvent??this.ignoreCustomEvent,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}copy(){return new this.constructor(this)}toJSON(){return Ho.prototype.toJSON.call(this)}toJSONNotImplemented(){return Ho.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){class n extends lh{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:dr()}),Object.assign(this,e)}}return new n}}const NK=t=>{const e=t;return e!==void 0&&typeof e.copy=="function"&&typeof e.name=="string"&&typeof e.awaitHandlers=="boolean"};function m_(t,e){return t&&!Array.isArray(t)&&typeof t=="object"?t:{[e]:t}}function MK(t){return t.replace(/[-:.]/g,"")}function LK(t,e,n){const r=n.toFixed(0).slice(0,3).padStart(3,"0");return MK(`${new Date(t).toISOString().slice(0,-1)}${r}Z`)+e}function md(t){return typeof t._addRunToRunMap=="function"}class uh extends lh{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}stringifyError(e){return e instanceof Error?e.message+(e!=null&&e.stack?`

${e.stack}`:""):typeof e=="string"?e:`${e}`}_addChildRun(e,n){e.child_runs.push(n)}_addRunToRunMap(e){const n=LK(e.start_time,e.id,e.execution_order),r={...e};if(r.parent_run_id!==void 0){const a=this.runMap.get(r.parent_run_id);a&&(this._addChildRun(a,r),a.child_execution_order=Math.max(a.child_execution_order,r.child_execution_order),r.trace_id=a.trace_id,a.dotted_order!==void 0&&(r.dotted_order=[a.dotted_order,n].join(".")))}else r.trace_id=r.id,r.dotted_order=n;return this.runMap.set(r.id,r),r}async _endTrace(e){var r;const n=e.parent_run_id!==void 0&&this.runMap.get(e.parent_run_id);n?n.child_execution_order=Math.max(n.child_execution_order,e.child_execution_order):await this.persistRun(e),this.runMap.delete(e.id),await((r=this.onRunUpdate)==null?void 0:r.call(this,e))}_getExecutionOrder(e){const n=e!==void 0&&this.runMap.get(e);return n?n.child_execution_order+1:1}_createRunForLLMStart(e,n,r,a,i,o,u,c){const f=this._getExecutionOrder(a),h=Date.now(),m=u?{...i,metadata:u}:i,g={id:r,name:c??e.id[e.id.length-1],parent_run_id:a,start_time:h,serialized:e,events:[{name:"start",time:new Date(h).toISOString()}],inputs:{prompts:n},execution_order:f,child_runs:[],child_execution_order:f,run_type:"llm",extra:m??{},tags:o||[]};return this._addRunToRunMap(g)}async handleLLMStart(e,n,r,a,i,o,u,c){var h,m;const f=this.runMap.get(r)??this._createRunForLLMStart(e,n,r,a,i,o,u,c);return await((h=this.onRunCreate)==null?void 0:h.call(this,f)),await((m=this.onLLMStart)==null?void 0:m.call(this,f)),f}_createRunForChatModelStart(e,n,r,a,i,o,u,c){const f=this._getExecutionOrder(a),h=Date.now(),m=u?{...i,metadata:u}:i,g={id:r,name:c??e.id[e.id.length-1],parent_run_id:a,start_time:h,serialized:e,events:[{name:"start",time:new Date(h).toISOString()}],inputs:{messages:n},execution_order:f,child_runs:[],child_execution_order:f,run_type:"llm",extra:m??{},tags:o||[]};return this._addRunToRunMap(g)}async handleChatModelStart(e,n,r,a,i,o,u,c){var h,m;const f=this.runMap.get(r)??this._createRunForChatModelStart(e,n,r,a,i,o,u,c);return await((h=this.onRunCreate)==null?void 0:h.call(this,f)),await((m=this.onLLMStart)==null?void 0:m.call(this,f)),f}async handleLLMEnd(e,n,r,a,i){var u;const o=this.runMap.get(n);if(!o||(o==null?void 0:o.run_type)!=="llm")throw new Error("No LLM run to end.");return o.end_time=Date.now(),o.outputs=e,o.events.push({name:"end",time:new Date(o.end_time).toISOString()}),o.extra={...o.extra,...i},await((u=this.onLLMEnd)==null?void 0:u.call(this,o)),await this._endTrace(o),o}async handleLLMError(e,n,r,a,i){var u;const o=this.runMap.get(n);if(!o||(o==null?void 0:o.run_type)!=="llm")throw new Error("No LLM run to end.");return o.end_time=Date.now(),o.error=this.stringifyError(e),o.events.push({name:"error",time:new Date(o.end_time).toISOString()}),o.extra={...o.extra,...i},await((u=this.onLLMError)==null?void 0:u.call(this,o)),await this._endTrace(o),o}_createRunForChainStart(e,n,r,a,i,o,u,c){const f=this._getExecutionOrder(a),h=Date.now(),m={id:r,name:c??e.id[e.id.length-1],parent_run_id:a,start_time:h,serialized:e,events:[{name:"start",time:new Date(h).toISOString()}],inputs:n,execution_order:f,child_execution_order:f,run_type:u??"chain",child_runs:[],extra:o?{metadata:o}:{},tags:i||[]};return this._addRunToRunMap(m)}async handleChainStart(e,n,r,a,i,o,u,c){var h,m;const f=this.runMap.get(r)??this._createRunForChainStart(e,n,r,a,i,o,u,c);return await((h=this.onRunCreate)==null?void 0:h.call(this,f)),await((m=this.onChainStart)==null?void 0:m.call(this,f)),f}async handleChainEnd(e,n,r,a,i){var u;const o=this.runMap.get(n);if(!o)throw new Error("No chain run to end.");return o.end_time=Date.now(),o.outputs=m_(e,"output"),o.events.push({name:"end",time:new Date(o.end_time).toISOString()}),(i==null?void 0:i.inputs)!==void 0&&(o.inputs=m_(i.inputs,"input")),await((u=this.onChainEnd)==null?void 0:u.call(this,o)),await this._endTrace(o),o}async handleChainError(e,n,r,a,i){var u;const o=this.runMap.get(n);if(!o)throw new Error("No chain run to end.");return o.end_time=Date.now(),o.error=this.stringifyError(e),o.events.push({name:"error",time:new Date(o.end_time).toISOString()}),(i==null?void 0:i.inputs)!==void 0&&(o.inputs=m_(i.inputs,"input")),await((u=this.onChainError)==null?void 0:u.call(this,o)),await this._endTrace(o),o}_createRunForToolStart(e,n,r,a,i,o,u){const c=this._getExecutionOrder(a),f=Date.now(),h={id:r,name:u??e.id[e.id.length-1],parent_run_id:a,start_time:f,serialized:e,events:[{name:"start",time:new Date(f).toISOString()}],inputs:{input:n},execution_order:c,child_execution_order:c,run_type:"tool",child_runs:[],extra:o?{metadata:o}:{},tags:i||[]};return this._addRunToRunMap(h)}async handleToolStart(e,n,r,a,i,o,u){var f,h;const c=this.runMap.get(r)??this._createRunForToolStart(e,n,r,a,i,o,u);return await((f=this.onRunCreate)==null?void 0:f.call(this,c)),await((h=this.onToolStart)==null?void 0:h.call(this,c)),c}async handleToolEnd(e,n){var a;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.outputs={output:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((a=this.onToolEnd)==null?void 0:a.call(this,r)),await this._endTrace(r),r}async handleToolError(e,n){var a;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="tool")throw new Error("No tool run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((a=this.onToolError)==null?void 0:a.call(this,r)),await this._endTrace(r),r}async handleAgentAction(e,n){var i;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="chain")return;const a=r;a.actions=a.actions||[],a.actions.push(e),a.events.push({name:"agent_action",time:new Date().toISOString(),kwargs:{action:e}}),await((i=this.onAgentAction)==null?void 0:i.call(this,r))}async handleAgentEnd(e,n){var a;const r=this.runMap.get(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"agent_end",time:new Date().toISOString(),kwargs:{action:e}}),await((a=this.onAgentEnd)==null?void 0:a.call(this,r)))}_createRunForRetrieverStart(e,n,r,a,i,o,u){const c=this._getExecutionOrder(a),f=Date.now(),h={id:r,name:u??e.id[e.id.length-1],parent_run_id:a,start_time:f,serialized:e,events:[{name:"start",time:new Date(f).toISOString()}],inputs:{query:n},execution_order:c,child_execution_order:c,run_type:"retriever",child_runs:[],extra:o?{metadata:o}:{},tags:i||[]};return this._addRunToRunMap(h)}async handleRetrieverStart(e,n,r,a,i,o,u){var f,h;const c=this.runMap.get(r)??this._createRunForRetrieverStart(e,n,r,a,i,o,u);return await((f=this.onRunCreate)==null?void 0:f.call(this,c)),await((h=this.onRetrieverStart)==null?void 0:h.call(this,c)),c}async handleRetrieverEnd(e,n){var a;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.outputs={documents:e},r.events.push({name:"end",time:new Date(r.end_time).toISOString()}),await((a=this.onRetrieverEnd)==null?void 0:a.call(this,r)),await this._endTrace(r),r}async handleRetrieverError(e,n){var a;const r=this.runMap.get(n);if(!r||(r==null?void 0:r.run_type)!=="retriever")throw new Error("No retriever run to end");return r.end_time=Date.now(),r.error=this.stringifyError(e),r.events.push({name:"error",time:new Date(r.end_time).toISOString()}),await((a=this.onRetrieverError)==null?void 0:a.call(this,r)),await this._endTrace(r),r}async handleText(e,n){var a;const r=this.runMap.get(n);!r||(r==null?void 0:r.run_type)!=="chain"||(r.events.push({name:"text",time:new Date().toISOString(),kwargs:{text:e}}),await((a=this.onText)==null?void 0:a.call(this,r)))}async handleLLMNewToken(e,n,r,a,i,o){var c;const u=this.runMap.get(r);if(!u||(u==null?void 0:u.run_type)!=="llm")throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return u.events.push({name:"new_token",time:new Date().toISOString(),kwargs:{token:e,idx:n,chunk:o==null?void 0:o.chunk}}),await((c=this.onLLMNewToken)==null?void 0:c.call(this,u,e,{chunk:o==null?void 0:o.chunk})),u}}var Om={exports:{}};Om.exports;var aP;function DK(){return aP||(aP=1,function(t){const n=(i=0)=>o=>`\x1B[${38+i};5;${o}m`,r=(i=0)=>(o,u,c)=>`\x1B[${38+i};2;${o};${u};${c}m`;function a(){const i=new Map,o={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};o.color.gray=o.color.blackBright,o.bgColor.bgGray=o.bgColor.bgBlackBright,o.color.grey=o.color.blackBright,o.bgColor.bgGrey=o.bgColor.bgBlackBright;for(const[u,c]of Object.entries(o)){for(const[f,h]of Object.entries(c))o[f]={open:`\x1B[${h[0]}m`,close:`\x1B[${h[1]}m`},c[f]=o[f],i.set(h[0],h[1]);Object.defineProperty(o,u,{value:c,enumerable:!1})}return Object.defineProperty(o,"codes",{value:i,enumerable:!1}),o.color.close="\x1B[39m",o.bgColor.close="\x1B[49m",o.color.ansi256=n(),o.color.ansi16m=r(),o.bgColor.ansi256=n(10),o.bgColor.ansi16m=r(10),Object.defineProperties(o,{rgbToAnsi256:{value:(u,c,f)=>u===c&&c===f?u<8?16:u>248?231:Math.round((u-8)/247*24)+232:16+36*Math.round(u/255*5)+6*Math.round(c/255*5)+Math.round(f/255*5),enumerable:!1},hexToRgb:{value:u=>{const c=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(u.toString(16));if(!c)return[0,0,0];let{colorString:f}=c.groups;f.length===3&&(f=f.split("").map(m=>m+m).join(""));const h=Number.parseInt(f,16);return[h>>16&255,h>>8&255,h&255]},enumerable:!1},hexToAnsi256:{value:u=>o.rgbToAnsi256(...o.hexToRgb(u)),enumerable:!1}}),o}Object.defineProperty(t,"exports",{enumerable:!0,get:a})}(Om)),Om.exports}var BK=DK();const jM=hi(BK);function ur(t,e){return`${t.open}${e}${t.close}`}function sa(t,e){try{return JSON.stringify(t,null,2)}catch{return e}}function iP(t){return typeof t=="string"?t.trim():t==null?t:sa(t,t.toString())}function ks(t){if(!t.end_time)return"";const e=t.end_time-t.start_time;return e<1e3?`${e}ms`:`${(e/1e3).toFixed(2)}s`}const{color:xr}=jM;class sP extends uh{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){const n=[];let r=e;for(;r.parent_run_id;){const a=this.runMap.get(r.parent_run_id);if(a)n.push(a),r=a;else break}return n}getBreadcrumbs(e){const r=[...this.getParents(e).reverse(),e].map((a,i,o)=>{const u=`${a.execution_order}:${a.run_type}:${a.name}`;return i===o.length-1?ur(jM.bold,u):u}).join(" > ");return ur(xr.grey,r)}onChainStart(e){const n=this.getBreadcrumbs(e);console.log(`${ur(xr.green,"[chain/start]")} [${n}] Entering Chain run with input: ${sa(e.inputs,"[inputs]")}`)}onChainEnd(e){const n=this.getBreadcrumbs(e);console.log(`${ur(xr.cyan,"[chain/end]")} [${n}] [${ks(e)}] Exiting Chain run with output: ${sa(e.outputs,"[outputs]")}`)}onChainError(e){const n=this.getBreadcrumbs(e);console.log(`${ur(xr.red,"[chain/error]")} [${n}] [${ks(e)}] Chain run errored with error: ${sa(e.error,"[error]")}`)}onLLMStart(e){const n=this.getBreadcrumbs(e),r="prompts"in e.inputs?{prompts:e.inputs.prompts.map(a=>a.trim())}:e.inputs;console.log(`${ur(xr.green,"[llm/start]")} [${n}] Entering LLM run with input: ${sa(r,"[inputs]")}`)}onLLMEnd(e){const n=this.getBreadcrumbs(e);console.log(`${ur(xr.cyan,"[llm/end]")} [${n}] [${ks(e)}] Exiting LLM run with output: ${sa(e.outputs,"[response]")}`)}onLLMError(e){const n=this.getBreadcrumbs(e);console.log(`${ur(xr.red,"[llm/error]")} [${n}] [${ks(e)}] LLM run errored with error: ${sa(e.error,"[error]")}`)}onToolStart(e){const n=this.getBreadcrumbs(e);console.log(`${ur(xr.green,"[tool/start]")} [${n}] Entering Tool run with input: "${iP(e.inputs.input)}"`)}onToolEnd(e){var r;const n=this.getBreadcrumbs(e);console.log(`${ur(xr.cyan,"[tool/end]")} [${n}] [${ks(e)}] Exiting Tool run with output: "${iP((r=e.outputs)==null?void 0:r.output)}"`)}onToolError(e){const n=this.getBreadcrumbs(e);console.log(`${ur(xr.red,"[tool/error]")} [${n}] [${ks(e)}] Tool run errored with error: ${sa(e.error,"[error]")}`)}onRetrieverStart(e){const n=this.getBreadcrumbs(e);console.log(`${ur(xr.green,"[retriever/start]")} [${n}] Entering Retriever run with input: ${sa(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const n=this.getBreadcrumbs(e);console.log(`${ur(xr.cyan,"[retriever/end]")} [${n}] [${ks(e)}] Exiting Retriever run with output: ${sa(e.outputs,"[outputs]")}`)}onRetrieverError(e){const n=this.getBreadcrumbs(e);console.log(`${ur(xr.red,"[retriever/error]")} [${n}] [${ks(e)}] Retriever run errored with error: ${sa(e.error,"[error]")}`)}onAgentAction(e){const n=e,r=this.getBreadcrumbs(e);console.log(`${ur(xr.blue,"[agent/action]")} [${r}] Agent selected action: ${sa(n.actions[n.actions.length-1],"[action]")}`)}}let g_;const UK=()=>{if(g_===void 0){const t=si("LANGCHAIN_CALLBACKS_BACKGROUND")==="false"?{blockOnRootRunFinalization:!0}:{};g_=new Rf(t)}return g_};class Wd extends uh{constructor(e={}){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{exampleId:n,projectName:r,client:a}=e;this.projectName=r??si("LANGCHAIN_PROJECT")??si("LANGCHAIN_SESSION"),this.exampleId=n,this.client=a??UK();const i=Wd.getTraceableRunTree();i&&this.updateFromRunTree(i)}async _convertToCreate(e,n=void 0){return{...e,extra:{...e.extra,runtime:await $K()},child_runs:void 0,session_name:this.projectName,reference_example_id:e.parent_run_id?void 0:n}}async persistRun(e){}async onRunCreate(e){const n=await this._convertToCreate(e,this.exampleId);await this.client.createRun(n)}async onRunUpdate(e){const n={end_time:e.end_time,error:e.error,outputs:e.outputs,events:e.events,inputs:e.inputs,trace_id:e.trace_id,dotted_order:e.dotted_order,parent_run_id:e.parent_run_id,extra:e.extra,session_name:this.projectName};await this.client.updateRun(e.id,n)}getRun(e){return this.runMap.get(e)}updateFromRunTree(e){let n=e;const r=new Set;for(;n.parent_run&&!(r.has(n.id)||(r.add(n.id),!n.parent_run));)n=n.parent_run;r.clear();const a=[n];for(;a.length>0;){const i=a.shift();!i||r.has(i.id)||(r.add(i.id),this.runMap.set(i.id,i),i.child_runs&&a.push(...i.child_runs))}this.client=e.client??this.client,this.projectName=e.project_name??this.projectName,this.exampleId=e.reference_example_id??this.exampleId}convertToRunTree(e){const n={},r=[];for(const[a,i]of this.runMap){const o=new zr({...i,child_runs:[],parent_run:void 0,client:this.client,project_name:this.projectName,reference_example_id:this.exampleId,tracingEnabled:!0});n[a]=o,r.push([a,i.dotted_order])}r.sort((a,i)=>!a[1]||!i[1]?0:a[1].localeCompare(i[1]));for(const[a]of r){const i=this.runMap.get(a),o=n[a];if(!(!i||!o)&&i.parent_run_id){const u=n[i.parent_run_id];u&&(u.child_runs.push(o),o.parent_run=u)}}return n[e]}static getTraceableRunTree(){try{return _K(!0)}catch{return}}}const NM=Symbol.for("ls:tracing_async_local_storage"),km=Symbol.for("lc:context_variables"),zK=t=>{globalThis[NM]=t},Af=()=>globalThis[NM];let Zd;function FK(){const t="default"in Gi?Gi.default:Gi;return new t({autoStart:!0,concurrency:1})}function VK(){return typeof Zd>"u"&&(Zd=FK()),Zd}async function On(t,e){if(e===!0){const n=Af();n!==void 0?await n.run(void 0,async()=>t()):await t()}else Zd=VK(),Zd.add(async()=>{const n=Af();n!==void 0?await n.run(void 0,async()=>t()):await t()})}const HK=t=>!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find(n=>si(n)==="true");function MM(t){var r;const e=Af();if(e===void 0)return;const n=e.getStore();return(r=n==null?void 0:n[km])==null?void 0:r[t]}const qK=Symbol("lc:configure_hooks"),GK=()=>MM(qK)||[];class WK{setHandler(e){return this.setHandlers([e])}}class fy{constructor(e,n,r,a,i,o,u,c){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:u}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:c})}get parentRunId(){return this._parentRunId}async handleText(e){await Promise.all(this.handlers.map(n=>On(async()=>{var r;try{await((r=n.handleText)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(a){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleText: ${a}`),n.raiseError)throw a}},n.awaitHandlers)))}async handleCustomEvent(e,n,r,a,i){await Promise.all(this.handlers.map(o=>On(async()=>{var u;try{await((u=o.handleCustomEvent)==null?void 0:u.call(o,e,n,this.runId,this.tags,this.metadata))}catch(c){if((o.raiseError?console.error:console.warn)(`Error in handler ${o.constructor.name}, handleCustomEvent: ${c}`),o.raiseError)throw c}},o.awaitHandlers)))}}class ZK extends fy{getChild(e){const n=new Tr(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleRetrieverEnd(e){await Promise.all(this.handlers.map(n=>On(async()=>{var r;if(!n.ignoreRetriever)try{await((r=n.handleRetrieverEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(a){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleRetriever`),n.raiseError)throw a}},n.awaitHandlers)))}async handleRetrieverError(e){await Promise.all(this.handlers.map(n=>On(async()=>{var r;if(!n.ignoreRetriever)try{await((r=n.handleRetrieverError)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(a){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleRetrieverError: ${a}`),n.raiseError)throw e}},n.awaitHandlers)))}}class oP extends fy{async handleLLMNewToken(e,n,r,a,i,o){await Promise.all(this.handlers.map(u=>On(async()=>{var c;if(!u.ignoreLLM)try{await((c=u.handleLLMNewToken)==null?void 0:c.call(u,e,n??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,o))}catch(f){if((u.raiseError?console.error:console.warn)(`Error in handler ${u.constructor.name}, handleLLMNewToken: ${f}`),u.raiseError)throw f}},u.awaitHandlers)))}async handleLLMError(e,n,r,a,i){await Promise.all(this.handlers.map(o=>On(async()=>{var u;if(!o.ignoreLLM)try{await((u=o.handleLLMError)==null?void 0:u.call(o,e,this.runId,this._parentRunId,this.tags,i))}catch(c){if((o.raiseError?console.error:console.warn)(`Error in handler ${o.constructor.name}, handleLLMError: ${c}`),o.raiseError)throw c}},o.awaitHandlers)))}async handleLLMEnd(e,n,r,a,i){await Promise.all(this.handlers.map(o=>On(async()=>{var u;if(!o.ignoreLLM)try{await((u=o.handleLLMEnd)==null?void 0:u.call(o,e,this.runId,this._parentRunId,this.tags,i))}catch(c){if((o.raiseError?console.error:console.warn)(`Error in handler ${o.constructor.name}, handleLLMEnd: ${c}`),o.raiseError)throw c}},o.awaitHandlers)))}}class KK extends fy{getChild(e){const n=new Tr(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleChainError(e,n,r,a,i){await Promise.all(this.handlers.map(o=>On(async()=>{var u;if(!o.ignoreChain)try{await((u=o.handleChainError)==null?void 0:u.call(o,e,this.runId,this._parentRunId,this.tags,i))}catch(c){if((o.raiseError?console.error:console.warn)(`Error in handler ${o.constructor.name}, handleChainError: ${c}`),o.raiseError)throw c}},o.awaitHandlers)))}async handleChainEnd(e,n,r,a,i){await Promise.all(this.handlers.map(o=>On(async()=>{var u;if(!o.ignoreChain)try{await((u=o.handleChainEnd)==null?void 0:u.call(o,e,this.runId,this._parentRunId,this.tags,i))}catch(c){if((o.raiseError?console.error:console.warn)(`Error in handler ${o.constructor.name}, handleChainEnd: ${c}`),o.raiseError)throw c}},o.awaitHandlers)))}async handleAgentAction(e){await Promise.all(this.handlers.map(n=>On(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleAgentAction)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(a){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleAgentAction: ${a}`),n.raiseError)throw a}},n.awaitHandlers)))}async handleAgentEnd(e){await Promise.all(this.handlers.map(n=>On(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleAgentEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(a){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleAgentEnd: ${a}`),n.raiseError)throw a}},n.awaitHandlers)))}}class YK extends fy{getChild(e){const n=new Tr(this.runId);return n.setHandlers(this.inheritableHandlers),n.addTags(this.inheritableTags),n.addMetadata(this.inheritableMetadata),e&&n.addTags([e],!1),n}async handleToolError(e){await Promise.all(this.handlers.map(n=>On(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleToolError)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(a){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleToolError: ${a}`),n.raiseError)throw a}},n.awaitHandlers)))}async handleToolEnd(e){await Promise.all(this.handlers.map(n=>On(async()=>{var r;if(!n.ignoreAgent)try{await((r=n.handleToolEnd)==null?void 0:r.call(n,e,this.runId,this._parentRunId,this.tags))}catch(a){if((n.raiseError?console.error:console.warn)(`Error in handler ${n.constructor.name}, handleToolEnd: ${a}`),n.raiseError)throw a}},n.awaitHandlers)))}}class Tr extends WK{constructor(e,n){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=(n==null?void 0:n.handlers)??this.handlers,this.inheritableHandlers=(n==null?void 0:n.inheritableHandlers)??this.inheritableHandlers,this.tags=(n==null?void 0:n.tags)??this.tags,this.inheritableTags=(n==null?void 0:n.inheritableTags)??this.inheritableTags,this.metadata=(n==null?void 0:n.metadata)??this.metadata,this.inheritableMetadata=(n==null?void 0:n.inheritableMetadata)??this.inheritableMetadata,this._parentRunId=e}getParentRunId(){return this._parentRunId}async handleLLMStart(e,n,r=void 0,a=void 0,i=void 0,o=void 0,u=void 0,c=void 0){return Promise.all(n.map(async(f,h)=>{const m=h===0&&r?r:dr();return await Promise.all(this.handlers.map(g=>{if(!g.ignoreLLM)return md(g)&&g._createRunForLLMStart(e,[f],m,this._parentRunId,i,this.tags,this.metadata,c),On(async()=>{var b;try{await((b=g.handleLLMStart)==null?void 0:b.call(g,e,[f],m,this._parentRunId,i,this.tags,this.metadata,c))}catch(v){if((g.raiseError?console.error:console.warn)(`Error in handler ${g.constructor.name}, handleLLMStart: ${v}`),g.raiseError)throw v}},g.awaitHandlers)})),new oP(m,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChatModelStart(e,n,r=void 0,a=void 0,i=void 0,o=void 0,u=void 0,c=void 0){return Promise.all(n.map(async(f,h)=>{const m=h===0&&r?r:dr();return await Promise.all(this.handlers.map(g=>{if(!g.ignoreLLM)return md(g)&&g._createRunForChatModelStart(e,[f],m,this._parentRunId,i,this.tags,this.metadata,c),On(async()=>{var b,v;try{if(g.handleChatModelStart)await((b=g.handleChatModelStart)==null?void 0:b.call(g,e,[f],m,this._parentRunId,i,this.tags,this.metadata,c));else if(g.handleLLMStart){const w=dM(f);await((v=g.handleLLMStart)==null?void 0:v.call(g,e,[w],m,this._parentRunId,i,this.tags,this.metadata,c))}}catch(w){if((g.raiseError?console.error:console.warn)(`Error in handler ${g.constructor.name}, handleLLMStart: ${w}`),g.raiseError)throw w}},g.awaitHandlers)})),new oP(m,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}))}async handleChainStart(e,n,r=dr(),a=void 0,i=void 0,o=void 0,u=void 0){return await Promise.all(this.handlers.map(c=>{if(!c.ignoreChain)return md(c)&&c._createRunForChainStart(e,n,r,this._parentRunId,this.tags,this.metadata,a,u),On(async()=>{var f;try{await((f=c.handleChainStart)==null?void 0:f.call(c,e,n,r,this._parentRunId,this.tags,this.metadata,a,u))}catch(h){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleChainStart: ${h}`),c.raiseError)throw h}},c.awaitHandlers)})),new KK(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,n,r=dr(),a=void 0,i=void 0,o=void 0,u=void 0){return await Promise.all(this.handlers.map(c=>{if(!c.ignoreAgent)return md(c)&&c._createRunForToolStart(e,n,r,this._parentRunId,this.tags,this.metadata,u),On(async()=>{var f;try{await((f=c.handleToolStart)==null?void 0:f.call(c,e,n,r,this._parentRunId,this.tags,this.metadata,u))}catch(h){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleToolStart: ${h}`),c.raiseError)throw h}},c.awaitHandlers)})),new YK(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(e,n,r=dr(),a=void 0,i=void 0,o=void 0,u=void 0){return await Promise.all(this.handlers.map(c=>{if(!c.ignoreRetriever)return md(c)&&c._createRunForRetrieverStart(e,n,r,this._parentRunId,this.tags,this.metadata,u),On(async()=>{var f;try{await((f=c.handleRetrieverStart)==null?void 0:f.call(c,e,n,r,this._parentRunId,this.tags,this.metadata,u))}catch(h){if((c.raiseError?console.error:console.warn)(`Error in handler ${c.constructor.name}, handleRetrieverStart: ${h}`),c.raiseError)throw h}},c.awaitHandlers)})),new ZK(r,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleCustomEvent(e,n,r,a,i){await Promise.all(this.handlers.map(o=>On(async()=>{var u;if(!o.ignoreCustomEvent)try{await((u=o.handleCustomEvent)==null?void 0:u.call(o,e,n,r,this.tags,this.metadata))}catch(c){if((o.raiseError?console.error:console.warn)(`Error in handler ${o.constructor.name}, handleCustomEvent: ${c}`),o.raiseError)throw c}},o.awaitHandlers)))}addHandler(e,n=!0){this.handlers.push(e),n&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(n=>n!==e),this.inheritableHandlers=this.inheritableHandlers.filter(n=>n!==e)}setHandlers(e,n=!0){this.handlers=[],this.inheritableHandlers=[];for(const r of e)this.addHandler(r,n)}addTags(e,n=!0){this.removeTags(e),this.tags.push(...e),n&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter(n=>!e.includes(n)),this.inheritableTags=this.inheritableTags.filter(n=>!e.includes(n))}addMetadata(e,n=!0){this.metadata={...this.metadata,...e},n&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(const n of Object.keys(e))delete this.metadata[n],delete this.inheritableMetadata[n]}copy(e=[],n=!0){const r=new Tr(this._parentRunId);for(const a of this.handlers){const i=this.inheritableHandlers.includes(a);r.addHandler(a,i)}for(const a of this.tags){const i=this.inheritableTags.includes(a);r.addTags([a],i)}for(const a of Object.keys(this.metadata)){const i=Object.keys(this.inheritableMetadata).includes(a);r.addMetadata({[a]:this.metadata[a]},i)}for(const a of e)r.handlers.filter(i=>i.name==="console_callback_handler").some(i=>i.name===a.name)||r.addHandler(a,n);return r}static fromHandlers(e){class n extends lh{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:dr()}),Object.assign(this,e)}}const r=new this;return r.addHandler(new n),r}static configure(e,n,r,a,i,o,u){return this._configureSync(e,n,r,a,i,o,u)}static _configureSync(e,n,r,a,i,o,u){var g,b;let c;(e||n)&&(Array.isArray(e)||!e?(c=new Tr,c.setHandlers((e==null?void 0:e.map(og))??[],!0)):c=e,c=c.copy(Array.isArray(n)?n.map(og):n==null?void 0:n.handlers,!1));const f=si("LANGCHAIN_VERBOSE")==="true"||(u==null?void 0:u.verbose),h=((g=Wd.getTraceableRunTree())==null?void 0:g.tracingEnabled)||HK(),m=h||(si("LANGCHAIN_TRACING")??!1);if(f||m){if(c||(c=new Tr),f&&!c.handlers.some(v=>v.name===sP.prototype.name)){const v=new sP;c.addHandler(v,!0)}if(m&&!c.handlers.some(v=>v.name==="langchain_tracer")&&h){const v=new Wd;c.addHandler(v,!0),c._parentRunId=((b=Wd.getTraceableRunTree())==null?void 0:b.id)??c._parentRunId}}for(const{contextVar:v,inheritable:w=!0,handlerClass:S,envVar:x}of GK()){const C=x&&si(x)==="true"&&S;let E;const O=v!==void 0?MM(v):void 0;O&&NK(O)?E=O:C&&(E=new S({})),E!==void 0&&(c||(c=new Tr),c.handlers.some(A=>A.name===E.name)||c.addHandler(E,w))}return(r||a)&&c&&(c.addTags(r??[]),c.addTags(a??[],!1)),(i||o)&&c&&(c.addMetadata(i??{}),c.addMetadata(o??{},!1)),c}}function og(t){return"name"in t?t:lh.fromMethods(t)}class XK{getStore(){}run(e,n){return n()}enterWith(e){}}const JK=new XK,lP=Symbol.for("lc:child_config");class QK{getInstance(){return Af()??JK}getRunnableConfig(){var n,r;return(r=(n=this.getInstance().getStore())==null?void 0:n.extra)==null?void 0:r[lP]}runWithConfig(e,n,r){var h;const a=Tr._configureSync(e==null?void 0:e.callbacks,void 0,e==null?void 0:e.tags,void 0,e==null?void 0:e.metadata),i=this.getInstance(),o=i.getStore(),u=a==null?void 0:a.getParentRunId(),c=(h=a==null?void 0:a.handlers)==null?void 0:h.find(m=>(m==null?void 0:m.name)==="langchain_tracer");let f;return c&&u?f=c.convertToRunTree(u):r||(f=new zr({name:"<runnable_lambda>",tracingEnabled:!1})),f&&(f.extra={...f.extra,[lP]:e}),o!==void 0&&o[km]!==void 0&&(f===void 0&&(f={}),f[km]=o[km]),i.run(f,n)}initializeGlobalInstance(e){Af()===void 0&&zK(e)}}const Ks=new QK,y_=25;async function Pa(t){return Tr._configureSync(t==null?void 0:t.callbacks,void 0,t==null?void 0:t.tags,void 0,t==null?void 0:t.metadata)}function uP(...t){const e={};for(const n of t.filter(r=>!!r))for(const r of Object.keys(n))if(r==="metadata")e[r]={...e[r],...n[r]};else if(r==="tags"){const a=e[r]??[];e[r]=[...new Set(a.concat(n[r]??[]))]}else if(r==="configurable")e[r]={...e[r],...n[r]};else if(r==="timeout")e.timeout===void 0?e.timeout=n.timeout:n.timeout!==void 0&&(e.timeout=Math.min(e.timeout,n.timeout));else if(r==="signal")e.signal===void 0?e.signal=n.signal:n.signal!==void 0&&("any"in AbortSignal?e.signal=AbortSignal.any([e.signal,n.signal]):e.signal=n.signal);else if(r==="callbacks"){const a=e.callbacks,i=n.callbacks;if(Array.isArray(i))if(!a)e.callbacks=i;else if(Array.isArray(a))e.callbacks=a.concat(i);else{const o=a.copy();for(const u of i)o.addHandler(og(u),!0);e.callbacks=o}else if(i)if(!a)e.callbacks=i;else if(Array.isArray(a)){const o=i.copy();for(const u of a)o.addHandler(og(u),!0);e.callbacks=o}else e.callbacks=new Tr(i._parentRunId,{handlers:a.handlers.concat(i.handlers),inheritableHandlers:a.inheritableHandlers.concat(i.inheritableHandlers),tags:Array.from(new Set(a.tags.concat(i.tags))),inheritableTags:Array.from(new Set(a.inheritableTags.concat(i.inheritableTags))),metadata:{...a.metadata,...i.metadata}})}else{const a=r;e[a]=n[a]??e[a]}return e}const eY=new Set(["string","number","boolean"]);function Tt(t){var r;const e=Ks.getRunnableConfig();let n={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(e){const{runId:a,runName:i,...o}=e;n=Object.entries(o).reduce((u,[c,f])=>(f!==void 0&&(u[c]=f),u),n)}if(t&&(n=Object.entries(t).reduce((a,[i,o])=>(o!==void 0&&(a[i]=o),a),n)),n!=null&&n.configurable)for(const a of Object.keys(n.configurable))eY.has(typeof n.configurable[a])&&!((r=n.metadata)!=null&&r[a])&&(n.metadata||(n.metadata={}),n.metadata[a]=n.configurable[a]);if(n.timeout!==void 0){if(n.timeout<=0)throw new Error("Timeout must be a positive number");const a=AbortSignal.timeout(n.timeout);n.signal!==void 0?"any"in AbortSignal&&(n.signal=AbortSignal.any([n.signal,a])):n.signal=a,delete n.timeout}return n}function rr(t={},{callbacks:e,maxConcurrency:n,recursionLimit:r,runName:a,configurable:i,runId:o}={}){const u=Tt(t);return e!==void 0&&(delete u.runName,u.callbacks=e),r!==void 0&&(u.recursionLimit=r),n!==void 0&&(u.maxConcurrency=n),a!==void 0&&(u.runName=a),i!==void 0&&(u.configurable={...u.configurable,...i}),o!==void 0&&delete u.runId,u}function Nu(t){return t?{configurable:t.configurable,recursionLimit:t.recursionLimit,callbacks:t.callbacks,tags:t.tags,metadata:t.metadata,maxConcurrency:t.maxConcurrency,timeout:t.timeout,signal:t.signal}:void 0}async function Ys(t,e){if(e===void 0)return t;let n;return Promise.race([t.catch(r=>{if(!(e!=null&&e.aborted))throw r}),new Promise((r,a)=>{n=()=>{a(new Error("Aborted"))},e.addEventListener("abort",n),e.aborted&&a(new Error("Aborted"))})]).finally(()=>e.removeEventListener("abort",n))}class Wr extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const e=await this.reader.read();return e.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:e.value}}catch(e){throw this.reader.releaseLock(),e}}async return(){if(this.ensureReader(),this.locked){const e=this.reader.cancel();this.reader.releaseLock(),await e}return{done:!0,value:void 0}}async throw(e){if(this.ensureReader(),this.locked){const n=this.reader.cancel();this.reader.releaseLock(),await n}throw e}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}static fromReadableStream(e){const n=e.getReader();return new Wr({start(r){return a();function a(){return n.read().then(({done:i,value:o})=>{if(i){r.close();return}return r.enqueue(o),a()})}},cancel(){n.releaseLock()}})}static fromAsyncGenerator(e){return new Wr({async pull(n){const{value:r,done:a}=await e.next();a&&n.close(),n.enqueue(r)},async cancel(n){await e.return(n)}})}}function LM(t,e=2){const n=Array.from({length:e},()=>[]);return n.map(async function*(a){for(;;)if(a.length===0){const i=await t.next();for(const o of n)o.push(i)}else{if(a[0].done)return;yield a.shift().value}})}function $a(t,e){if(Array.isArray(t)&&Array.isArray(e))return t.concat(e);if(typeof t=="string"&&typeof e=="string")return t+e;if(typeof t=="number"&&typeof e=="number")return t+e;if("concat"in t&&typeof t.concat=="function")return t.concat(e);if(typeof t=="object"&&typeof e=="object"){const n={...t};for(const[r,a]of Object.entries(e))r in n&&!Array.isArray(n[r])?n[r]=$a(n[r],a):n[r]=a;return n}else throw new Error(`Cannot concat ${typeof t} and ${typeof e}`)}class Qu{constructor(e){var n;Object.defineProperty(this,"generator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResult",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResultUsed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.generator=e.generator,this.config=e.config,this.signal=e.signal??((n=this.config)==null?void 0:n.signal),this.setup=new Promise((r,a)=>{Ks.runWithConfig(Nu(e.config),async()=>{this.firstResult=e.generator.next(),e.startSetup?this.firstResult.then(e.startSetup).then(r,a):this.firstResult.then(i=>r(void 0),a)},!0)})}async next(...e){var n;return(n=this.signal)==null||n.throwIfAborted(),this.firstResultUsed?Ks.runWithConfig(Nu(this.config),this.signal?async()=>Ys(this.generator.next(...e),this.signal):async()=>this.generator.next(...e),!0):(this.firstResultUsed=!0,this.firstResult)}async return(e){return this.generator.return(e)}async throw(e){return this.generator.throw(e)}[Symbol.asyncIterator](){return this}async[Symbol.asyncDispose](){await this.return()}}async function tY(t,e,n,r,...a){const i=new Qu({generator:e,startSetup:n,signal:r}),o=await i.setup;return{output:t(i,o,...a),setup:o}}class Ns{constructor(e){Object.defineProperty(this,"ops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.ops=e.ops??[]}concat(e){const n=this.ops.concat(e.ops),r=ig({},n);return new Of({ops:n,state:r[r.length-1].newDocument})}}class Of extends Ns{constructor(e){super(e),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state=e.state}concat(e){const n=this.ops.concat(e.ops),r=ig(this.state,e.ops);return new Of({ops:n,state:r[r.length-1].newDocument})}static fromRunLogPatch(e){const n=ig({},e.ops);return new Of({ops:e.ops,state:n[n.length-1].newDocument})}}const nY=t=>t.name==="log_stream_tracer";async function cP(t,e){if(e==="original")throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:n}=t;if(["retriever","llm","prompt"].includes(t.run_type))return n;if(!(Object.keys(n).length===1&&(n==null?void 0:n.input)===""))return n.input}async function dP(t,e){const{outputs:n}=t;return e==="original"||["retriever","llm","prompt"].includes(t.run_type)?n:n!==void 0&&Object.keys(n).length===1&&(n==null?void 0:n.output)!==void 0?n.output:n}function rY(t){return t!==void 0&&t.message!==void 0}class fP extends uh{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_schemaFormat",{enumerable:!0,configurable:!0,writable:!0,value:"original"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyMapByRunId",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"counterMapByRunName",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"log_stream_tracer"}),Object.defineProperty(this,"lc_prefer_streaming",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this._schemaFormat=(e==null?void 0:e._schemaFormat)??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=Wr.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.run_type)),this.includeTags!==void 0&&(r=r||n.find(a=>{var i;return(i=this.includeTags)==null?void 0:i.includes(a)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.run_type)),this.excludeTags!==void 0&&(r=r&&n.every(a=>{var i;return!((i=this.excludeTags)!=null&&i.includes(a))})),r}async*tapOutputIterable(e,n){for await(const r of n){if(e!==this.rootId){const a=this.keyMapByRunId[e];a&&await this.writer.write(new Ns({ops:[{op:"add",path:`/logs/${a}/streamed_output/-`,value:r}]}))}yield r}}async onRunCreate(e){var a;if(this.rootId===void 0&&(this.rootId=e.id,await this.writer.write(new Ns({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;this.counterMapByRunName[e.name]===void 0&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const n=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=n===1?e.name:`${e.name}:${n}`;const r={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:((a=e.extra)==null?void 0:a.metadata)??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};this._schemaFormat==="streaming_events"&&(r.inputs=await cP(e,this._schemaFormat)),await this.writer.write(new Ns({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:r}]}))}async onRunUpdate(e){try{const n=this.keyMapByRunId[e.id];if(n===void 0)return;const r=[];this._schemaFormat==="streaming_events"&&r.push({op:"replace",path:`/logs/${n}/inputs`,value:await cP(e,this._schemaFormat)}),r.push({op:"add",path:`/logs/${n}/final_output`,value:await dP(e,this._schemaFormat)}),e.end_time!==void 0&&r.push({op:"add",path:`/logs/${n}/end_time`,value:new Date(e.end_time).toISOString()});const a=new Ns({ops:r});await this.writer.write(a)}finally{if(e.id===this.rootId){const n=new Ns({ops:[{op:"replace",path:"/final_output",value:await dP(e,this._schemaFormat)}]});await this.writer.write(n),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,n,r){const a=this.keyMapByRunId[e.id];if(a===void 0)return;const i=e.inputs.messages!==void 0;let o;i?rY(r==null?void 0:r.chunk)?o=r==null?void 0:r.chunk:o=new Hs({id:`run-${e.id}`,content:n}):o=n;const u=new Ns({ops:[{op:"add",path:`/logs/${a}/streamed_output_str/-`,value:n},{op:"add",path:`/logs/${a}/streamed_output/-`,value:o}]});await this.writer.write(u)}}const hP="__run";class Mu{constructor(e){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generationInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new Mu({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}}class Ko extends Mu{constructor(e){super(e),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=e.message}concat(e){return new Ko({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo},message:this.message.concat(e.message)})}}function um({name:t,serialized:e}){return t!==void 0?t:(e==null?void 0:e.name)!==void 0?e.name:(e==null?void 0:e.id)!==void 0&&Array.isArray(e==null?void 0:e.id)?e.id[e.id.length-1]:"Unnamed"}const aY=t=>t.name==="event_stream_tracer";class iY extends uh{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"runInfoMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"tappedPromises",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"event_stream_tracer"}),Object.defineProperty(this,"lc_prefer_streaming",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.autoClose=(e==null?void 0:e.autoClose)??!0,this.includeNames=e==null?void 0:e.includeNames,this.includeTypes=e==null?void 0:e.includeTypes,this.includeTags=e==null?void 0:e.includeTags,this.excludeNames=e==null?void 0:e.excludeNames,this.excludeTypes=e==null?void 0:e.excludeTypes,this.excludeTags=e==null?void 0:e.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=Wr.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){const n=e.tags??[];let r=this.includeNames===void 0&&this.includeTags===void 0&&this.includeTypes===void 0;return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(e.runType)),this.includeTags!==void 0&&(r=r||n.find(a=>{var i;return(i=this.includeTags)==null?void 0:i.includes(a)})!==void 0),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(e.runType)),this.excludeTags!==void 0&&(r=r&&n.every(a=>{var i;return!((i=this.excludeTags)!=null&&i.includes(a))})),r}async*tapOutputIterable(e,n){const r=await n.next();if(r.done)return;const a=this.runInfoMap.get(e);if(a===void 0){yield r.value;return}function i(u,c){return u==="llm"&&typeof c=="string"?new Mu({text:c}):c}let o=this.tappedPromises.get(e);if(o===void 0){let u;o=new Promise(c=>{u=c}),this.tappedPromises.set(e,o);try{const c={event:`on_${a.runType}_stream`,run_id:e,name:a.name,tags:a.tags,metadata:a.metadata,data:{}};await this.send({...c,data:{chunk:i(a.runType,r.value)}},a),yield r.value;for await(const f of n)a.runType!=="tool"&&a.runType!=="retriever"&&await this.send({...c,data:{chunk:i(a.runType,f)}},a),yield f}finally{u()}}else{yield r.value;for await(const u of n)yield u}}async send(e,n){this._includeRun(n)&&await this.writer.write(e)}async sendEndEvent(e,n){const r=this.tappedPromises.get(e.run_id);r!==void 0?r.then(()=>{this.send(e,n)}):await this.send(e,n)}async onLLMStart(e){var o,u;const n=um(e),r=e.inputs.messages!==void 0?"chat_model":"llm",a={tags:e.tags??[],metadata:((o=e.extra)==null?void 0:o.metadata)??{},name:n,runType:r,inputs:e.inputs};this.runInfoMap.set(e.id,a);const i=`on_${r}_start`;await this.send({event:i,data:{input:e.inputs},name:n,tags:e.tags??[],run_id:e.id,metadata:((u=e.extra)==null?void 0:u.metadata)??{}},a)}async onLLMNewToken(e,n,r){const a=this.runInfoMap.get(e.id);let i,o;if(a===void 0)throw new Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if(this.runInfoMap.size!==1){if(a.runType==="chat_model")o="on_chat_model_stream",(r==null?void 0:r.chunk)===void 0?i=new Hs({content:n,id:`run-${e.id}`}):i=r.chunk.message;else if(a.runType==="llm")o="on_llm_stream",(r==null?void 0:r.chunk)===void 0?i=new Mu({text:n}):i=r.chunk;else throw new Error(`Unexpected run type ${a.runType}`);await this.send({event:o,data:{chunk:i},run_id:e.id,name:a.name,tags:a.tags,metadata:a.metadata},a)}}async onLLMEnd(e){var o,u,c;const n=this.runInfoMap.get(e.id);this.runInfoMap.delete(e.id);let r;if(n===void 0)throw new Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);const a=(o=e.outputs)==null?void 0:o.generations;let i;if(n.runType==="chat_model"){for(const f of a??[]){if(i!==void 0)break;i=(u=f[0])==null?void 0:u.message}r="on_chat_model_end"}else if(n.runType==="llm")i={generations:a==null?void 0:a.map(f=>f.map(h=>({text:h.text,generationInfo:h.generationInfo}))),llmOutput:((c=e.outputs)==null?void 0:c.llmOutput)??{}},r="on_llm_end";else throw new Error(`onLLMEnd: Unexpected run type: ${n.runType}`);await this.sendEndEvent({event:r,data:{output:i,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onChainStart(e){var o,u;const n=um(e),r=e.run_type??"chain",a={tags:e.tags??[],metadata:((o=e.extra)==null?void 0:o.metadata)??{},name:n,runType:e.run_type};let i={};e.inputs.input===""&&Object.keys(e.inputs).length===1?(i={},a.inputs={}):e.inputs.input!==void 0?(i.input=e.inputs.input,a.inputs=e.inputs.input):(i.input=e.inputs,a.inputs=e.inputs),this.runInfoMap.set(e.id,a),await this.send({event:`on_${r}_start`,data:i,name:n,tags:e.tags??[],run_id:e.id,metadata:((u=e.extra)==null?void 0:u.metadata)??{}},a)}async onChainEnd(e){var u;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onChainEnd: Run ID ${e.id} not found in run map.`);const r=`on_${e.run_type}_end`,a=e.inputs??n.inputs??{},o={output:((u=e.outputs)==null?void 0:u.output)??e.outputs,input:a};a.input&&Object.keys(a).length===1&&(o.input=a.input,n.inputs=a.input),await this.sendEndEvent({event:r,data:o,run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata??{}},n)}async onToolStart(e){var a,i;const n=um(e),r={tags:e.tags??[],metadata:((a=e.extra)==null?void 0:a.metadata)??{},name:n,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,r),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:n,run_id:e.id,tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{}},r)}async onToolEnd(e){var a;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(n.inputs===void 0)throw new Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);const r=((a=e.outputs)==null?void 0:a.output)===void 0?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:r,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async onRetrieverStart(e){var i,o;const n=um(e),a={tags:e.tags??[],metadata:((i=e.extra)==null?void 0:i.metadata)??{},name:n,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,a),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:n,tags:e.tags??[],run_id:e.id,metadata:((o=e.extra)==null?void 0:o.metadata)??{}},a)}async onRetrieverEnd(e){var r;const n=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),n===void 0)throw new Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:((r=e.outputs)==null?void 0:r.documents)??e.outputs,input:n.inputs},run_id:e.id,name:n.name,tags:n.tags,metadata:n.metadata},n)}async handleCustomEvent(e,n,r){const a=this.runInfoMap.get(r);if(a===void 0)throw new Error(`handleCustomEvent: Run ID ${r} not found in run map.`);await this.send({event:"on_custom_event",run_id:r,name:e,tags:a.tags,metadata:a.metadata,data:n},a)}async finish(){const e=[...this.tappedPromises.values()];Promise.all(e).finally(()=>{this.writer.close()})}}const sY=[400,401,402,403,404,405,406,407,409],oY=t=>{var n,r;if(t.message.startsWith("Cancel")||t.message.startsWith("AbortError")||t.name==="AbortError"||(t==null?void 0:t.code)==="ECONNABORTED")throw t;const e=((n=t==null?void 0:t.response)==null?void 0:n.status)??(t==null?void 0:t.status);if(e&&sY.includes(+e))throw t;if(((r=t==null?void 0:t.error)==null?void 0:r.code)==="insufficient_quota"){const a=new Error(t==null?void 0:t.message);throw a.name="InsufficientQuotaError",a}};class Vx{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??oY;const n="default"in Gi?Gi.default:Gi;this.queue=new n({concurrency:this.maxConcurrency})}call(e,...n){return this.queue.add(()=>ng(()=>e(...n).catch(r=>{throw r instanceof Error?r:new Error(r)}),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0}),{throwOnTimeout:!0})}callWithOptions(e,n,...r){return e.signal?Promise.race([this.call(n,...r),new Promise((a,i)=>{var o;(o=e.signal)==null||o.addEventListener("abort",()=>{i(new Error("AbortError"))})})]):this.call(n,...r)}fetch(...e){return this.call(()=>fetch(...e).then(n=>n.ok?n:Promise.reject(n)))}}class DM extends uh{constructor({config:e,onStart:n,onEnd:r,onError:a}){super({_awaitHandler:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RootListenersTracer"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.config=e,this.argOnStart=n,this.argOnEnd=r,this.argOnError=a}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&await this.argOnStart(e,this.config))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&await this.argOnError(e,this.config):this.argOnEnd&&await this.argOnEnd(e,this.config))}}function Hx(t){return t?t.lc_runnable:!1}class lY{constructor(e){Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.includeNames=e.includeNames,this.includeTypes=e.includeTypes,this.includeTags=e.includeTags,this.excludeNames=e.excludeNames,this.excludeTypes=e.excludeTypes,this.excludeTags=e.excludeTags}includeEvent(e,n){let r=this.includeNames===void 0&&this.includeTypes===void 0&&this.includeTags===void 0;const a=e.tags??[];return this.includeNames!==void 0&&(r=r||this.includeNames.includes(e.name)),this.includeTypes!==void 0&&(r=r||this.includeTypes.includes(n)),this.includeTags!==void 0&&(r=r||a.some(i=>{var o;return(o=this.includeTags)==null?void 0:o.includes(i)})),this.excludeNames!==void 0&&(r=r&&!this.excludeNames.includes(e.name)),this.excludeTypes!==void 0&&(r=r&&!this.excludeTypes.includes(n)),this.excludeTags!==void 0&&(r=r&&a.every(i=>{var o;return!((o=this.excludeTags)!=null&&o.includes(i))})),r}}const uY=Symbol("Let zodToJsonSchema decide on which parser to use"),cY={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},dY=t=>({...cY,...t}),fY=t=>{const e=dY(t),n=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([r,a])=>[a._def,{def:a._def,path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}};function BM(t,e,n,r){r!=null&&r.errorMessages&&n&&(t.errorMessage={...t.errorMessage,[e]:n})}function kt(t,e,n,r,a){t[e]=n,BM(t,e,r,a)}function hY(){return{}}function pY(t,e){var r,a,i;const n={type:"array"};return(r=t.type)!=null&&r._def&&((i=(a=t.type)==null?void 0:a._def)==null?void 0:i.typeName)!==re.ZodAny&&(n.items=Ct(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&kt(n,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&kt(n,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(kt(n,"minItems",t.exactLength.value,t.exactLength.message,e),kt(n,"maxItems",t.exactLength.value,t.exactLength.message,e)),n}function mY(t,e){const n={type:"integer",format:"int64"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?kt(n,"minimum",r.value,r.message,e):kt(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),kt(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?kt(n,"maximum",r.value,r.message,e):kt(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),kt(n,"maximum",r.value,r.message,e));break;case"multipleOf":kt(n,"multipleOf",r.value,r.message,e);break}return n}function gY(){return{type:"boolean"}}function UM(t,e){return Ct(t.type._def,e)}const yY=(t,e)=>Ct(t.innerType._def,e);function zM(t,e,n){const r=n??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((a,i)=>zM(t,e,a))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return bY(t,e)}}const bY=(t,e)=>{const n={type:"integer",format:"unix-time"};if(e.target==="openApi3")return n;for(const r of t.checks)switch(r.kind){case"min":kt(n,"minimum",r.value,r.message,e);break;case"max":kt(n,"maximum",r.value,r.message,e);break}return n};function vY(t,e){return{...Ct(t.innerType._def,e),default:t.defaultValue()}}function _Y(t,e){return e.effectStrategy==="input"?Ct(t.schema._def,e):{}}function wY(t){return{type:"string",enum:Array.from(t.values)}}const SY=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function xY(t,e){const n=[Ct(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),Ct(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(i=>!!i);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const a=[];return n.forEach(i=>{if(SY(i))a.push(...i.allOf),i.unevaluatedProperties===void 0&&(r=void 0);else{let o=i;if("additionalProperties"in i&&i.additionalProperties===!1){const{additionalProperties:u,...c}=i;o=c}else r=void 0;a.push(o)}}),a.length?{allOf:a,...r}:void 0}function EY(t,e){const n=typeof t.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[t.value]}:{type:n==="bigint"?"integer":n,const:t.value}}let b_;const ba={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(b_===void 0&&(b_=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),b_),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function FM(t,e){const n={type:"string"};if(t.checks)for(const r of t.checks)switch(r.kind){case"min":kt(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e);break;case"max":kt(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"email":switch(e.emailStrategy){case"format:email":va(n,"email",r.message,e);break;case"format:idn-email":va(n,"idn-email",r.message,e);break;case"pattern:zod":cr(n,ba.email,r.message,e);break}break;case"url":va(n,"uri",r.message,e);break;case"uuid":va(n,"uuid",r.message,e);break;case"regex":cr(n,r.regex,r.message,e);break;case"cuid":cr(n,ba.cuid,r.message,e);break;case"cuid2":cr(n,ba.cuid2,r.message,e);break;case"startsWith":cr(n,RegExp(`^${v_(r.value,e)}`),r.message,e);break;case"endsWith":cr(n,RegExp(`${v_(r.value,e)}$`),r.message,e);break;case"datetime":va(n,"date-time",r.message,e);break;case"date":va(n,"date",r.message,e);break;case"time":va(n,"time",r.message,e);break;case"duration":va(n,"duration",r.message,e);break;case"length":kt(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,e),kt(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,e);break;case"includes":{cr(n,RegExp(v_(r.value,e)),r.message,e);break}case"ip":{r.version!=="v6"&&va(n,"ipv4",r.message,e),r.version!=="v4"&&va(n,"ipv6",r.message,e);break}case"base64url":cr(n,ba.base64url,r.message,e);break;case"jwt":cr(n,ba.jwt,r.message,e);break;case"cidr":{r.version!=="v6"&&cr(n,ba.ipv4Cidr,r.message,e),r.version!=="v4"&&cr(n,ba.ipv6Cidr,r.message,e);break}case"emoji":cr(n,ba.emoji(),r.message,e);break;case"ulid":{cr(n,ba.ulid,r.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{va(n,"binary",r.message,e);break}case"contentEncoding:base64":{kt(n,"contentEncoding","base64",r.message,e);break}case"pattern:zod":{cr(n,ba.base64,r.message,e);break}}break}case"nanoid":cr(n,ba.nanoid,r.message,e)}return n}function v_(t,e){return e.patternStrategy==="escape"?CY(t):t}const TY=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function CY(t){let e="";for(let n=0;n<t.length;n++)TY.has(t[n])||(e+="\\"),e+=t[n];return e}function va(t,e,n,r){var a;t.format||(a=t.anyOf)!=null&&a.some(i=>i.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&r.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...n&&r.errorMessages&&{errorMessage:{format:n}}})):kt(t,"format",e,n,r)}function cr(t,e,n,r){var a;t.pattern||(a=t.allOf)!=null&&a.some(i=>i.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&r.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:pP(e,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):kt(t,"pattern",pP(e,r),n,r)}function pP(t,e){var c;if(!e.applyRegexFlags||!t.flags)return t.source;const n={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},r=n.i?t.source.toLowerCase():t.source;let a="",i=!1,o=!1,u=!1;for(let f=0;f<r.length;f++){if(i){a+=r[f],i=!1;continue}if(n.i){if(o){if(r[f].match(/[a-z]/)){u?(a+=r[f],a+=`${r[f-2]}-${r[f]}`.toUpperCase(),u=!1):r[f+1]==="-"&&((c=r[f+2])!=null&&c.match(/[a-z]/))?(a+=r[f],u=!0):a+=`${r[f]}${r[f].toUpperCase()}`;continue}}else if(r[f].match(/[a-z]/)){a+=`[${r[f]}${r[f].toUpperCase()}]`;continue}}if(n.m){if(r[f]==="^"){a+=`(^|(?<=[\r
]))`;continue}else if(r[f]==="$"){a+=`($|(?=[\r
]))`;continue}}if(n.s&&r[f]==="."){a+=o?`${r[f]}\r
`:`[${r[f]}\r
]`;continue}a+=r[f],r[f]==="\\"?i=!0:o&&r[f]==="]"?o=!1:!o&&r[f]==="["&&(o=!0)}try{new RegExp(a)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return a}function VM(t,e){var r,a,i,o,u,c;if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&((r=t.keyType)==null?void 0:r._def.typeName)===re.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((f,h)=>({...f,[h]:Ct(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",h]})??{}}),{}),additionalProperties:e.rejectedAdditionalProperties};const n={type:"object",additionalProperties:Ct(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return n;if(((a=t.keyType)==null?void 0:a._def.typeName)===re.ZodString&&((i=t.keyType._def.checks)!=null&&i.length)){const{type:f,...h}=FM(t.keyType._def,e);return{...n,propertyNames:h}}else{if(((o=t.keyType)==null?void 0:o._def.typeName)===re.ZodEnum)return{...n,propertyNames:{enum:t.keyType._def.values}};if(((u=t.keyType)==null?void 0:u._def.typeName)===re.ZodBranded&&t.keyType._def.type._def.typeName===re.ZodString&&((c=t.keyType._def.type._def.checks)!=null&&c.length)){const{type:f,...h}=UM(t.keyType._def,e);return{...n,propertyNames:h}}}return n}function RY(t,e){if(e.mapStrategy==="record")return VM(t,e);const n=Ct(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},r=Ct(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function AY(t){const e=t.values,r=Object.keys(t.values).filter(i=>typeof e[e[i]]!="number").map(i=>e[i]),a=Array.from(new Set(r.map(i=>typeof i)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:r}}function OY(){return{not:{}}}function kY(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const lg={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function PY(t,e){if(e.target==="openApi3")return mP(t,e);const n=t.options instanceof Map?Array.from(t.options.values()):t.options;if(n.every(r=>r._def.typeName in lg&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((a,i)=>{const o=lg[i._def.typeName];return o&&!a.includes(o)?[...a,o]:a},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((a,i)=>{const o=typeof i._def.value;switch(o){case"string":case"number":case"boolean":return[...a,o];case"bigint":return[...a,"integer"];case"object":if(i._def.value===null)return[...a,"null"];case"symbol":case"undefined":case"function":default:return a}},[]);if(r.length===n.length){const a=r.filter((i,o,u)=>u.indexOf(i)===o);return{type:a.length>1?a:a[0],enum:n.reduce((i,o)=>i.includes(o._def.value)?i:[...i,o._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,a)=>[...r,...a._def.values.filter(i=>!r.includes(i))],[])};return mP(t,e)}const mP=(t,e)=>{const n=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((r,a)=>Ct(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${a}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function $Y(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:lg[t.innerType._def.typeName],nullable:!0}:{type:[lg[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=Ct(t.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=Ct(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function IY(t,e){const n={type:"number"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"int":n.type="integer",BM(n,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?kt(n,"minimum",r.value,r.message,e):kt(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),kt(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?kt(n,"maximum",r.value,r.message,e):kt(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),kt(n,"maximum",r.value,r.message,e));break;case"multipleOf":kt(n,"multipleOf",r.value,r.message,e);break}return n}function jY(t,e){const n=e.target==="openAi",r={type:"object",properties:{}},a=[],i=t.shape();for(const u in i){let c=i[u];if(c===void 0||c._def===void 0)continue;let f=MY(c);f&&n&&(c instanceof ka&&(c=c._def.innerType),c.isNullable()||(c=c.nullable()),f=!1);const h=Ct(c._def,{...e,currentPath:[...e.currentPath,"properties",u],propertyPath:[...e.currentPath,"properties",u]});h!==void 0&&(r.properties[u]=h,f||a.push(u))}a.length&&(r.required=a);const o=NY(t,e);return o!==void 0&&(r.additionalProperties=o),r}function NY(t,e){if(t.catchall._def.typeName!=="ZodNever")return Ct(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(t.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function MY(t){try{return t.isOptional()}catch{return!0}}const LY=(t,e)=>{var r;if(e.currentPath.toString()===((r=e.propertyPath)==null?void 0:r.toString()))return Ct(t.innerType._def,e);const n=Ct(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},DY=(t,e)=>{if(e.pipeStrategy==="input")return Ct(t.in._def,e);if(e.pipeStrategy==="output")return Ct(t.out._def,e);const n=Ct(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=Ct(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(a=>a!==void 0)}};function BY(t,e){return Ct(t.type._def,e)}function UY(t,e){const r={type:"array",uniqueItems:!0,items:Ct(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&kt(r,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&kt(r,"maxItems",t.maxSize.value,t.maxSize.message,e),r}function zY(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((n,r)=>Ct(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:Ct(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((n,r)=>Ct(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function FY(){return{not:{}}}function VY(){return{}}const HY=(t,e)=>Ct(t.innerType._def,e),qY=(t,e,n)=>{switch(e){case re.ZodString:return FM(t,n);case re.ZodNumber:return IY(t,n);case re.ZodObject:return jY(t,n);case re.ZodBigInt:return mY(t,n);case re.ZodBoolean:return gY();case re.ZodDate:return zM(t,n);case re.ZodUndefined:return FY();case re.ZodNull:return kY(n);case re.ZodArray:return pY(t,n);case re.ZodUnion:case re.ZodDiscriminatedUnion:return PY(t,n);case re.ZodIntersection:return xY(t,n);case re.ZodTuple:return zY(t,n);case re.ZodRecord:return VM(t,n);case re.ZodLiteral:return EY(t,n);case re.ZodEnum:return wY(t);case re.ZodNativeEnum:return AY(t);case re.ZodNullable:return $Y(t,n);case re.ZodOptional:return LY(t,n);case re.ZodMap:return RY(t,n);case re.ZodSet:return UY(t,n);case re.ZodLazy:return()=>t.getter()._def;case re.ZodPromise:return BY(t,n);case re.ZodNaN:case re.ZodNever:return OY();case re.ZodEffects:return _Y(t,n);case re.ZodAny:return hY();case re.ZodUnknown:return VY();case re.ZodDefault:return vY(t,n);case re.ZodBranded:return UM(t,n);case re.ZodReadonly:return HY(t,n);case re.ZodCatch:return yY(t,n);case re.ZodPipeline:return DY(t,n);case re.ZodFunction:case re.ZodVoid:case re.ZodSymbol:return;default:return(r=>{})()}};function Ct(t,e,n=!1){var u;const r=e.seen.get(t);if(e.override){const c=(u=e.override)==null?void 0:u.call(e,t,e,r,n);if(c!==uY)return c}if(r&&!n){const c=GY(r,e);if(c!==void 0)return c}const a={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,a);const i=qY(t,t.typeName,e),o=typeof i=="function"?Ct(i(),e):i;if(o&&ZY(t,e,o),e.postProcess){const c=e.postProcess(o,t,e);return a.jsonSchema=o,c}return a.jsonSchema=o,o}const GY=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:WY(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((n,r)=>e.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},WY=(t,e)=>{let n=0;for(;n<t.length&&n<e.length&&t[n]===e[n];n++);return[(t.length-n).toString(),...e.slice(n)].join("/")},ZY=(t,e,n)=>(t.description&&(n.description=t.description,e.markdownDescription&&(n.markdownDescription=t.description)),n),ch=(t,e)=>{const n=fY(e),r=void 0,a=e==null?void 0:e.name,i=Ct(t._def,n,!1)??{},o=a===void 0?r?{...i,[n.definitionPath]:r}:i:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,a].join("/"),[n.definitionPath]:{...r,[a]:i}};return n.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in o||"oneOf"in o||"allOf"in o||"type"in o&&Array.isArray(o.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),o};function __(t){return t.replace(/[^a-zA-Z-_0-9]/g,"_")}const KY=["*","_","`"];function YY(t){let e="";for(const[n,r]of Object.entries(t))e+=`	classDef ${n} ${r};
`;return e}function XY(t,e,n){const{firstNode:r,lastNode:a,nodeColors:i,withStyles:o=!0,curveStyle:u="linear",wrapLabelNWords:c=9}=n??{};let f=o?`%%{init: {'flowchart': {'curve': '${u}'}}}%%
graph TD;
`:`graph TD;
`;if(o){const b="default",v={[b]:"{0}({1})"};r!==void 0&&(v[r]="{0}([{1}]):::first"),a!==void 0&&(v[a]="{0}([{1}]):::last");for(const[w,S]of Object.entries(t)){const x=S.name.split(":").pop()??"";let E=KY.some(A=>x.startsWith(A)&&x.endsWith(A))?`<p>${x}</p>`:x;Object.keys(S.metadata??{}).length&&(E+=`<hr/><small><em>${Object.entries(S.metadata??{}).map(([A,N])=>`${A} = ${N}`).join(`
`)}</em></small>`);const O=(v[w]??v[b]).replace("{0}",__(w)).replace("{1}",E);f+=`	${O}
`}}const h={};for(const b of e){const v=b.source.split(":"),w=b.target.split(":"),S=v.filter((x,C)=>x===w[C]).join(":");h[S]||(h[S]=[]),h[S].push(b)}const m=new Set;function g(b,v){const w=b.length===1&&b[0].source===b[0].target;if(v&&!w){const S=v.split(":").pop();if(m.has(S))throw new Error(`Found duplicate subgraph '${S}' -- this likely means that you're reusing a subgraph node with the same name. Please adjust your graph to have subgraph nodes with unique names.`);m.add(S),f+=`	subgraph ${S}
`}for(const S of b){const{source:x,target:C,data:E,conditional:O}=S;let A="";if(E!==void 0){let N=E;const D=N.split(" ");D.length>c&&(N=Array.from({length:Math.ceil(D.length/c)},(P,L)=>D.slice(L*c,(L+1)*c).join(" ")).join("&nbsp;<br>&nbsp;")),A=O?` -. &nbsp;${N}&nbsp; .-> `:` -- &nbsp;${N}&nbsp; --> `}else A=O?" -.-> ":" --> ";f+=`	${__(x)}${A}${__(C)};
`}for(const S in h)S.startsWith(`${v}:`)&&S!==v&&g(h[S],S);v&&!w&&(f+=`	end
`)}g(h[""]??[],"");for(const b in h)!b.includes(":")&&b!==""&&g(h[b],b);return o&&(f+=YY(i??{})),f}async function JY(t,e){let{backgroundColor:n="white"}=e??{};const r=btoa(t);n!==void 0&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(n)||(n=`!${n}`));const a=`https://mermaid.ink/img/${r}?bgColor=${n}`,i=await fetch(a);if(!i.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${i.status}`,`Status text: ${i.statusText}`].join(`
`));return await i.blob()}function QY(t,e){if(t!==void 0&&!Hd(t))return t;if(Hx(e))try{let n=e.getName();return n=n.startsWith("Runnable")?n.slice(8):n,n}catch{return e.getName()}else return e.name??"UnknownSchema"}function eX(t){return Hx(t.data)?{type:"runnable",data:{id:t.data.lc_id,name:t.data.getName()}}:{type:"schema",data:{...ch(t.data.schema),title:t.data.name}}}class hy{constructor(e){Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"edges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.nodes=(e==null?void 0:e.nodes)??this.nodes,this.edges=(e==null?void 0:e.edges)??this.edges}toJSON(){const e={};return Object.values(this.nodes).forEach((n,r)=>{e[n.id]=Hd(n.id)?r:n.id}),{nodes:Object.values(this.nodes).map(n=>({id:e[n.id],...eX(n)})),edges:this.edges.map(n=>{const r={source:e[n.source],target:e[n.target]};return typeof n.data<"u"&&(r.data=n.data),typeof n.conditional<"u"&&(r.conditional=n.conditional),r})}}addNode(e,n,r){if(n!==void 0&&this.nodes[n]!==void 0)throw new Error(`Node with id ${n} already exists`);const a=n??dr(),i={id:a,data:e,name:QY(n,e),metadata:r};return this.nodes[a]=i,i}removeNode(e){delete this.nodes[e.id],this.edges=this.edges.filter(n=>n.source!==e.id&&n.target!==e.id)}addEdge(e,n,r,a){if(this.nodes[e.id]===void 0)throw new Error(`Source node ${e.id} not in graph`);if(this.nodes[n.id]===void 0)throw new Error(`Target node ${n.id} not in graph`);const i={source:e.id,target:n.id,data:r,conditional:a};return this.edges.push(i),i}firstNode(){return gP(this)}lastNode(){return yP(this)}extend(e,n=""){let r=n;Object.values(e.nodes).map(f=>f.id).every(Hd)&&(r="");const i=f=>r?`${r}:${f}`:f;Object.entries(e.nodes).forEach(([f,h])=>{this.nodes[i(f)]={...h,id:i(f)}});const o=e.edges.map(f=>({...f,source:i(f.source),target:i(f.target)}));this.edges=[...this.edges,...o];const u=e.firstNode(),c=e.lastNode();return[u?{id:i(u.id),data:u.data}:void 0,c?{id:i(c.id),data:c.data}:void 0]}trimFirstNode(){const e=this.firstNode();e&&gP(this,[e.id])&&this.removeNode(e)}trimLastNode(){const e=this.lastNode();e&&yP(this,[e.id])&&this.removeNode(e)}reid(){const e=Object.fromEntries(Object.values(this.nodes).map(a=>[a.id,a.name])),n=new Map;Object.values(e).forEach(a=>{n.set(a,(n.get(a)||0)+1)});const r=a=>{const i=e[a];return Hd(a)&&n.get(i)===1?i:a};return new hy({nodes:Object.fromEntries(Object.entries(this.nodes).map(([a,i])=>[r(a),{...i,id:r(a)}])),edges:this.edges.map(a=>({...a,source:r(a.source),target:r(a.target)}))})}drawMermaid(e){const{withStyles:n,curveStyle:r,nodeColors:a={default:"fill:#f2f0ff,line-height:1.2",first:"fill-opacity:0",last:"fill:#bfb6fc"},wrapLabelNWords:i}=e??{},o=this.reid(),u=o.firstNode(),c=o.lastNode();return XY(o.nodes,o.edges,{firstNode:u==null?void 0:u.id,lastNode:c==null?void 0:c.id,withStyles:n,curveStyle:r,nodeColors:a,wrapLabelNWords:i})}async drawMermaidPng(e){const n=this.drawMermaid(e);return JY(n,{backgroundColor:e==null?void 0:e.backgroundColor})}}function gP(t,e=[]){const n=new Set(t.edges.filter(a=>!e.includes(a.source)).map(a=>a.target)),r=[];for(const a of Object.values(t.nodes))!e.includes(a.id)&&!n.has(a.id)&&r.push(a);return r.length===1?r[0]:void 0}function yP(t,e=[]){const n=new Set(t.edges.filter(a=>!e.includes(a.target)).map(a=>a.source)),r=[];for(const a of Object.values(t.nodes))!e.includes(a.id)&&!n.has(a.id)&&r.push(a);return r.length===1?r[0]:void 0}function tX(t){const e=new TextEncoder,n=new ReadableStream({async start(r){for await(const a of t)r.enqueue(e.encode(`event: data
data: ${JSON.stringify(a)}

`));r.enqueue(e.encode(`event: end

`)),r.close()}});return Wr.fromReadableStream(n)}function bP(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.iterator]=="function"&&typeof t.next=="function"}const nX=t=>t!=null&&typeof t=="object"&&"next"in t&&typeof t.next=="function";function jw(t){return typeof t=="object"&&t!==null&&typeof t[Symbol.asyncIterator]=="function"}function*vP(t,e){for(;;){const{value:n,done:r}=Ks.runWithConfig(Nu(t),e.next.bind(e),!0);if(r)break;yield n}}async function*Nw(t,e){const n=e[Symbol.asyncIterator]();for(;;){const{value:r,done:a}=await Ks.runWithConfig(Nu(t),n.next.bind(e),!0);if(a)break;yield r}}function Dn(t,e){return t&&!Array.isArray(t)&&!(t instanceof Date)&&typeof t=="object"?t:{[e]:t}}class Bn extends Ho{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}getName(e){const n=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${n}${e}`:n}bind(e){return new zo({bound:this,kwargs:e,config:{}})}map(){return new ug({bound:this})}withRetry(e){return new rX({bound:this,kwargs:{},config:{},maxAttemptNumber:e==null?void 0:e.stopAfterAttempt,...e})}withConfig(e){return new zo({bound:this,config:e,kwargs:{}})}withFallbacks(e){const n=Array.isArray(e)?e:e.fallbacks;return new iX({runnable:this,fallbacks:n})}_getOptionsList(e,n=0){if(Array.isArray(e)&&e.length!==n)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${n} inputs`);if(Array.isArray(e))return e.map(Tt);if(n>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");const r=Object.fromEntries(Object.entries(e).filter(([a])=>a!=="runId"));return Array.from({length:n},(a,i)=>Tt(i===0?e:r))}return Array.from({length:n},()=>Tt(e))}async batch(e,n,r){var c;const a=this._getOptionsList(n??{},e.length),i=((c=a[0])==null?void 0:c.maxConcurrency)??(r==null?void 0:r.maxConcurrency),o=new Vx({maxConcurrency:i,onFailedAttempt:f=>{throw f}}),u=e.map((f,h)=>o.call(async()=>{try{return await this.invoke(f,a[h])}catch(m){if(r!=null&&r.returnExceptions)return m;throw m}}));return Promise.all(u)}async*_streamIterator(e,n){yield this.invoke(e,n)}async stream(e,n){const r=Tt(n),a=new Qu({generator:this._streamIterator(e,r),config:r});return await a.setup,Wr.fromAsyncGenerator(a)}_separateRunnableConfigFromCallOptions(e){let n;e===void 0?n=Tt(e):n=Tt({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId,timeout:e.timeout,signal:e.signal});const r={...e};return delete r.callbacks,delete r.tags,delete r.metadata,delete r.runName,delete r.configurable,delete r.recursionLimit,delete r.maxConcurrency,delete r.runId,delete r.timeout,delete r.signal,[n,r]}async _callWithConfig(e,n,r){const a=Tt(r),i=await Pa(a),o=await(i==null?void 0:i.handleChainStart(this.toJSON(),Dn(n,"input"),a.runId,a==null?void 0:a.runType,void 0,void 0,(a==null?void 0:a.runName)??this.getName()));delete a.runId;let u;try{const c=e.call(this,n,a,o);u=await Ys(c,r==null?void 0:r.signal)}catch(c){throw await(o==null?void 0:o.handleChainError(c)),c}return await(o==null?void 0:o.handleChainEnd(Dn(u,"output"))),u}async _batchWithConfig(e,n,r,a){var f;const i=this._getOptionsList(r??{},n.length),o=await Promise.all(i.map(Pa)),u=await Promise.all(o.map(async(h,m)=>{const g=await(h==null?void 0:h.handleChainStart(this.toJSON(),Dn(n[m],"input"),i[m].runId,i[m].runType,void 0,void 0,i[m].runName??this.getName()));return delete i[m].runId,g}));let c;try{const h=e.call(this,n,i,u,a);c=await Ys(h,(f=i==null?void 0:i[0])==null?void 0:f.signal)}catch(h){throw await Promise.all(u.map(m=>m==null?void 0:m.handleChainError(h))),h}return await Promise.all(u.map(h=>h==null?void 0:h.handleChainEnd(Dn(c,"output")))),c}async*_transformStreamWithConfig(e,n,r){let a,i=!0,o,u=!0;const c=Tt(r),f=await Pa(c);async function*h(){for await(const g of e){if(i)if(a===void 0)a=g;else try{a=$a(a,g)}catch{a=void 0,i=!1}yield g}}let m;try{const g=await tY(n.bind(this),h(),async()=>f==null?void 0:f.handleChainStart(this.toJSON(),{input:""},c.runId,c.runType,void 0,void 0,c.runName??this.getName()),r==null?void 0:r.signal,c);delete c.runId,m=g.setup;const b=m==null?void 0:m.handlers.find(aY);let v=g.output;b!==void 0&&m!==void 0&&(v=b.tapOutputIterable(m.runId,v));const w=m==null?void 0:m.handlers.find(nY);w!==void 0&&m!==void 0&&(v=w.tapOutputIterable(m.runId,v));for await(const S of v)if(yield S,u)if(o===void 0)o=S;else try{o=$a(o,S)}catch{o=void 0,u=!1}}catch(g){throw await(m==null?void 0:m.handleChainError(g,void 0,void 0,void 0,{inputs:Dn(a,"input")})),g}await(m==null?void 0:m.handleChainEnd(o??{},void 0,void 0,void 0,{inputs:Dn(a,"input")}))}getGraph(e){const n=new hy,r=n.addNode({name:`${this.getName()}Input`,schema:Us.any()}),a=n.addNode(this),i=n.addNode({name:`${this.getName()}Output`,schema:Us.any()});return n.addEdge(r,a),n.addEdge(a,i),n}pipe(e){return new Fi({first:this,last:Lo(e)})}pick(e){return this.pipe(new sX(e))}assign(e){return this.pipe(new HM(new ec({steps:e})))}async*transform(e,n){let r;for await(const a of e)r===void 0?r=a:r=$a(r,a);yield*this._streamIterator(r,Tt(n))}async*streamLog(e,n,r){const a=new fP({...r,autoClose:!1,_schemaFormat:"original"}),i=Tt(n);yield*this._streamLog(e,a,i)}async*_streamLog(e,n,r){const{callbacks:a}=r;if(a===void 0)r.callbacks=[n];else if(Array.isArray(a))r.callbacks=a.concat([n]);else{const c=a.copy();c.addHandler(n,!0),r.callbacks=c}const i=this.stream(e,r);async function o(){try{const c=await i;for await(const f of c){const h=new Ns({ops:[{op:"add",path:"/streamed_output/-",value:f}]});await n.writer.write(h)}}finally{await n.writer.close()}}const u=o();try{for await(const c of n)yield c}finally{await u}}streamEvents(e,n,r){let a;if(n.version==="v1")a=this._streamEventsV1(e,n,r);else if(n.version==="v2")a=this._streamEventsV2(e,n,r);else throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');return n.encoding==="text/event-stream"?tX(a):Wr.fromAsyncGenerator(a)}async*_streamEventsV2(e,n,r){var v;const a=new iY({...r,autoClose:!1}),i=Tt(n),o=i.runId??dr();i.runId=o;const u=i.callbacks;if(u===void 0)i.callbacks=[a];else if(Array.isArray(u))i.callbacks=u.concat(a);else{const w=u.copy();w.addHandler(a,!0),i.callbacks=w}const c=new AbortController,f=this;async function h(){try{let w;n!=null&&n.signal?"any"in AbortSignal?w=AbortSignal.any([c.signal,n.signal]):(w=n.signal,n.signal.addEventListener("abort",()=>{c.abort()},{once:!0})):w=c.signal;const S=await f.stream(e,{...i,signal:w}),x=a.tapOutputIterable(o,S);for await(const C of x)if(c.signal.aborted)break}finally{await a.finish()}}const m=h();let g=!1,b;try{for await(const w of a){if(!g){w.data.input=e,g=!0,b=w.run_id,yield w;continue}w.run_id===b&&w.event.endsWith("_end")&&(v=w.data)!=null&&v.input&&delete w.data.input,yield w}}finally{c.abort(),await m}}async*_streamEventsV1(e,n,r){let a,i=!1;const o=Tt(n),u=o.tags??[],c=o.metadata??{},f=o.runName??this.getName(),h=new fP({...r,autoClose:!1,_schemaFormat:"streaming_events"}),m=new lY({...r}),g=this._streamLog(e,h,o);for await(const v of g){if(a?a=a.concat(v):a=Of.fromRunLogPatch(v),a.state===void 0)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!i){i=!0;const C={...a.state},E={run_id:C.id,event:`on_${C.type}_start`,name:f,tags:u,metadata:c,data:{input:e}};m.includeEvent(E,C.type)&&(yield E)}const w=v.ops.filter(C=>C.path.startsWith("/logs/")).map(C=>C.path.split("/")[2]),S=[...new Set(w)];for(const C of S){let E,O={};const A=a.state.logs[C];if(A.end_time===void 0?A.streamed_output.length>0?E="stream":E="start":E="end",E==="start")A.inputs!==void 0&&(O.input=A.inputs);else if(E==="end")A.inputs!==void 0&&(O.input=A.inputs),O.output=A.final_output;else if(E==="stream"){const N=A.streamed_output.length;if(N!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${N} instead. Encountered in: "${A.name}"`);O={chunk:A.streamed_output[0]},A.streamed_output=[]}yield{event:`on_${A.type}_${E}`,name:A.name,run_id:A.id,tags:A.tags,metadata:A.metadata,data:O}}const{state:x}=a;if(x.streamed_output.length>0){const C=x.streamed_output.length;if(C!==1)throw new Error(`Expected exactly one chunk of streamed output, got ${C} instead. Encountered in: "${x.name}"`);const E={chunk:x.streamed_output[0]};x.streamed_output=[];const O={event:`on_${x.type}_stream`,run_id:x.id,tags:u,metadata:c,name:f,data:E};m.includeEvent(O,x.type)&&(yield O)}}const b=a==null?void 0:a.state;if(b!==void 0){const v={event:`on_${b.type}_end`,name:f,run_id:b.id,tags:u,metadata:c,data:{output:b.final_output}};m.includeEvent(v,b.type)&&(yield v)}}static isRunnable(e){return Hx(e)}withListeners({onStart:e,onEnd:n,onError:r}){return new zo({bound:this,config:{},configFactories:[a=>({callbacks:[new DM({config:a,onStart:e,onEnd:n,onError:r})]})]})}asTool(e){return oX(this,e)}}class zo extends Bn{static lc_name(){return"RunnableBinding"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"configFactories",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound,this.kwargs=e.kwargs,this.config=e.config,this.configFactories=e.configFactories}getName(e){return this.bound.getName(e)}async _mergeConfig(...e){const n=uP(this.config,...e);return uP(n,...this.configFactories?await Promise.all(this.configFactories.map(async r=>await r(n))):[])}bind(e){return new this.constructor({bound:this.bound,kwargs:{...this.kwargs,...e},config:this.config})}withConfig(e){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...e}})}withRetry(e){return new this.constructor({bound:this.bound.withRetry(e),kwargs:this.kwargs,config:this.config})}async invoke(e,n){return this.bound.invoke(e,await this._mergeConfig(Tt(n),this.kwargs))}async batch(e,n,r){const a=Array.isArray(n)?await Promise.all(n.map(async i=>this._mergeConfig(Tt(i),this.kwargs))):await this._mergeConfig(Tt(n),this.kwargs);return this.bound.batch(e,a,r)}async*_streamIterator(e,n){yield*this.bound._streamIterator(e,await this._mergeConfig(Tt(n),this.kwargs))}async stream(e,n){return this.bound.stream(e,await this._mergeConfig(Tt(n),this.kwargs))}async*transform(e,n){yield*this.bound.transform(e,await this._mergeConfig(Tt(n),this.kwargs))}streamEvents(e,n,r){const a=this,i=async function*(){yield*a.bound.streamEvents(e,{...await a._mergeConfig(Tt(n),a.kwargs),version:n.version},r)};return Wr.fromAsyncGenerator(i())}static isRunnableBinding(e){return e.bound&&Bn.isRunnable(e.bound)}withListeners({onStart:e,onEnd:n,onError:r}){return new zo({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[a=>({callbacks:[new DM({config:a,onStart:e,onEnd:n,onError:r})]})]})}}class ug extends Bn{static lc_name(){return"RunnableEach"}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound}bind(e){return new ug({bound:this.bound.bind(e)})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async _invoke(e,n,r){return this.bound.batch(e,rr(n,{callbacks:r==null?void 0:r.getChild()}))}withListeners({onStart:e,onEnd:n,onError:r}){return new ug({bound:this.bound.withListeners({onStart:e,onEnd:n,onError:r})})}}class rX extends zo{static lc_name(){return"RunnableRetry"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"maxAttemptNumber",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,n,r){const a=e>1?`retry:attempt:${e}`:void 0;return rr(n,{callbacks:r==null?void 0:r.getChild(a)})}async _invoke(e,n,r){return ng(a=>super.invoke(e,this._patchConfigForRetry(a,n,r)),{onFailedAttempt:a=>this.onFailedAttempt(a,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async _batch(e,n,r,a){const i={};try{await ng(async o=>{const u=e.map((g,b)=>b).filter(g=>i[g.toString()]===void 0||i[g.toString()]instanceof Error),c=u.map(g=>e[g]),f=u.map(g=>this._patchConfigForRetry(o,n==null?void 0:n[g],r==null?void 0:r[g])),h=await super.batch(c,f,{...a,returnExceptions:!0});let m;for(let g=0;g<h.length;g+=1){const b=h[g],v=u[g];b instanceof Error&&m===void 0&&(m=b,m.input=c[g]),i[v.toString()]=b}if(m)throw m;return h},{onFailedAttempt:o=>this.onFailedAttempt(o,o.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(o){if((a==null?void 0:a.returnExceptions)!==!0)throw o}return Object.keys(i).sort((o,u)=>parseInt(o,10)-parseInt(u,10)).map(o=>i[parseInt(o,10)])}async batch(e,n,r){return this._batchWithConfig(this._batch.bind(this),e,n,r)}}class Fi extends Bn{static lc_name(){return"RunnableSequence"}constructor(e){super(e),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"omitSequenceTags",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),this.first=e.first,this.middle=e.middle??this.middle,this.last=e.last,this.name=e.name,this.omitSequenceTags=e.omitSequenceTags??this.omitSequenceTags}get steps(){return[this.first,...this.middle,this.last]}async invoke(e,n){var c;const r=Tt(n),a=await Pa(r),i=await(a==null?void 0:a.handleChainStart(this.toJSON(),Dn(e,"input"),r.runId,void 0,void 0,void 0,r==null?void 0:r.runName));delete r.runId;let o=e,u;try{const f=[this.first,...this.middle];for(let h=0;h<f.length;h+=1){const g=f[h].invoke(o,rr(r,{callbacks:i==null?void 0:i.getChild(this.omitSequenceTags?void 0:`seq:step:${h+1}`)}));o=await Ys(g,n==null?void 0:n.signal)}if((c=n==null?void 0:n.signal)!=null&&c.aborted)throw new Error("Aborted");u=await this.last.invoke(o,rr(r,{callbacks:i==null?void 0:i.getChild(this.omitSequenceTags?void 0:`seq:step:${this.steps.length}`)}))}catch(f){throw await(i==null?void 0:i.handleChainError(f)),f}return await(i==null?void 0:i.handleChainEnd(Dn(u,"output"))),u}async batch(e,n,r){var c;const a=this._getOptionsList(n??{},e.length),i=await Promise.all(a.map(Pa)),o=await Promise.all(i.map(async(f,h)=>{const m=await(f==null?void 0:f.handleChainStart(this.toJSON(),Dn(e[h],"input"),a[h].runId,void 0,void 0,void 0,a[h].runName));return delete a[h].runId,m}));let u=e;try{for(let f=0;f<this.steps.length;f+=1){const m=this.steps[f].batch(u,o.map((g,b)=>{const v=g==null?void 0:g.getChild(this.omitSequenceTags?void 0:`seq:step:${f+1}`);return rr(a[b],{callbacks:v})}),r);u=await Ys(m,(c=a[0])==null?void 0:c.signal)}}catch(f){throw await Promise.all(o.map(h=>h==null?void 0:h.handleChainError(f))),f}return await Promise.all(o.map(f=>f==null?void 0:f.handleChainEnd(Dn(u,"output")))),u}async*_streamIterator(e,n){var m;const r=await Pa(n),{runId:a,...i}=n??{},o=await(r==null?void 0:r.handleChainStart(this.toJSON(),Dn(e,"input"),a,void 0,void 0,void 0,i==null?void 0:i.runName)),u=[this.first,...this.middle,this.last];let c=!0,f;async function*h(){yield e}try{let g=u[0].transform(h(),rr(i,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:"seq:step:1")}));for(let b=1;b<u.length;b+=1)g=await u[b].transform(g,rr(i,{callbacks:o==null?void 0:o.getChild(this.omitSequenceTags?void 0:`seq:step:${b+1}`)}));for await(const b of g)if((m=n==null?void 0:n.signal)==null||m.throwIfAborted(),yield b,c)if(f===void 0)f=b;else try{f=$a(f,b)}catch{f=void 0,c=!1}}catch(g){throw await(o==null?void 0:o.handleChainError(g)),g}await(o==null?void 0:o.handleChainEnd(Dn(f,"output")))}getGraph(e){const n=new hy;let r=null;return this.steps.forEach((a,i)=>{const o=a.getGraph(e);i!==0&&o.trimFirstNode(),i!==this.steps.length-1&&o.trimLastNode(),n.extend(o);const u=o.firstNode();if(!u)throw new Error(`Runnable ${a} has no first node`);r&&n.addEdge(r,u),r=o.lastNode()}),n}pipe(e){return Fi.isRunnableSequence(e)?new Fi({first:this.first,middle:this.middle.concat([this.last,e.first,...e.middle]),last:e.last,name:this.name??e.name}):new Fi({first:this.first,middle:[...this.middle,this.last],last:Lo(e),name:this.name})}static isRunnableSequence(e){return Array.isArray(e.middle)&&Bn.isRunnable(e)}static from([e,...n],r){let a={};return typeof r=="string"?a.name=r:r!==void 0&&(a=r),new Fi({...a,first:Lo(e),middle:n.slice(0,-1).map(Lo),last:Lo(n[n.length-1])})}}class ec extends Bn{static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(const[n,r]of Object.entries(e.steps))this.steps[n]=Lo(r)}static from(e){return new ec({steps:e})}async invoke(e,n){const r=Tt(n),a=await Pa(r),i=await(a==null?void 0:a.handleChainStart(this.toJSON(),{input:e},r.runId,void 0,void 0,void 0,r==null?void 0:r.runName));delete r.runId;const o={};try{const u=Object.entries(this.steps).map(async([c,f])=>{o[c]=await f.invoke(e,rr(r,{callbacks:i==null?void 0:i.getChild(`map:key:${c}`)}))});await Ys(Promise.all(u),n==null?void 0:n.signal)}catch(u){throw await(i==null?void 0:i.handleChainError(u)),u}return await(i==null?void 0:i.handleChainEnd(o)),o}async*_transform(e,n,r){const a={...this.steps},i=LM(e,Object.keys(a).length),o=new Map(Object.entries(a).map(([u,c],f)=>{const h=c.transform(i[f],rr(r,{callbacks:n==null?void 0:n.getChild(`map:key:${u}`)}));return[u,h.next().then(m=>({key:u,gen:h,result:m}))]}));for(;o.size;){const u=Promise.race(o.values()),{key:c,result:f,gen:h}=await Ys(u,r==null?void 0:r.signal);o.delete(c),f.done||(yield{[c]:f.value},o.set(c,h.next().then(m=>({key:c,gen:h,result:m}))))}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const a=Tt(n),i=new Qu({generator:this.transform(r(),a),config:a});return await i.setup,Wr.fromAsyncGenerator(i)}}class qx extends Bn{constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!zx(e.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=e.func}async invoke(e,n){const[r]=this._getOptionsList(n??{},1),a=await Pa(r),i=this.func(rr(r,{callbacks:a}),e);return Ys(i,r==null?void 0:r.signal)}async*_streamIterator(e,n){var i,o;const[r]=this._getOptionsList(n??{},1),a=await this.invoke(e,n);if(jw(a)){for await(const u of a)(i=r==null?void 0:r.signal)==null||i.throwIfAborted(),yield u;return}if(nX(a)){for(;;){(o=r==null?void 0:r.signal)==null||o.throwIfAborted();const u=a.next();if(u.done)break;yield u.value}return}yield a}static from(e){return new qx({func:e})}}function aX(t){if(zx(t))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}class tc extends Bn{static lc_name(){return"RunnableLambda"}constructor(e){if(zx(e.func))return qx.from(e.func);super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),aX(e.func),this.func=e.func}static from(e){return new tc({func:e})}async _invoke(e,n,r){return new Promise((a,i)=>{const o=rr(n,{callbacks:r==null?void 0:r.getChild(),recursionLimit:((n==null?void 0:n.recursionLimit)??y_)-1});Ks.runWithConfig(Nu(o),async()=>{var u,c;try{let f=await this.func(e,{...o});if(f&&Bn.isRunnable(f)){if((n==null?void 0:n.recursionLimit)===0)throw new Error("Recursion limit reached.");f=await f.invoke(e,{...o,recursionLimit:(o.recursionLimit??y_)-1})}else if(jw(f)){let h;for await(const m of Nw(o,f))if((u=n==null?void 0:n.signal)==null||u.throwIfAborted(),h===void 0)h=m;else try{h=$a(h,m)}catch{h=m}f=h}else if(bP(f)){let h;for(const m of vP(o,f))if((c=n==null?void 0:n.signal)==null||c.throwIfAborted(),h===void 0)h=m;else try{h=$a(h,m)}catch{h=m}f=h}a(f)}catch(f){i(f)}})})}async invoke(e,n){return this._callWithConfig(this._invoke.bind(this),e,n)}async*_transform(e,n,r){var u,c;let a;for await(const f of e)if(a===void 0)a=f;else try{a=$a(a,f)}catch{a=f}const i=rr(r,{callbacks:n==null?void 0:n.getChild(),recursionLimit:((r==null?void 0:r.recursionLimit)??y_)-1}),o=await new Promise((f,h)=>{Ks.runWithConfig(Nu(i),async()=>{try{const m=await this.func(a,{...i,config:i});f(m)}catch(m){h(m)}})});if(o&&Bn.isRunnable(o)){if((r==null?void 0:r.recursionLimit)===0)throw new Error("Recursion limit reached.");const f=await o.stream(a,i);for await(const h of f)yield h}else if(jw(o))for await(const f of Nw(i,o))(u=r==null?void 0:r.signal)==null||u.throwIfAborted(),yield f;else if(bP(o))for(const f of vP(i,o))(c=r==null?void 0:r.signal)==null||c.throwIfAborted(),yield f;else yield o}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const a=Tt(n),i=new Qu({generator:this.transform(r(),a),config:a});return await i.setup,Wr.fromAsyncGenerator(i)}}class iX extends Bn{static lc_name(){return"RunnableWithFallbacks"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,n){const r=Tt(n),a=await Pa(r),{runId:i,...o}=r,u=await(a==null?void 0:a.handleChainStart(this.toJSON(),Dn(e,"input"),i,void 0,void 0,void 0,o==null?void 0:o.runName)),c=rr(o,{callbacks:u==null?void 0:u.getChild()});return await Ks.runWithConfig(c,async()=>{var m;let h;for(const g of this.runnables()){(m=r==null?void 0:r.signal)==null||m.throwIfAborted();try{const b=await g.invoke(e,c);return await(u==null?void 0:u.handleChainEnd(Dn(b,"output"))),b}catch(b){h===void 0&&(h=b)}}throw h===void 0?new Error("No error stored at end of fallback."):(await(u==null?void 0:u.handleChainError(h)),h)})}async*_streamIterator(e,n){var m;const r=Tt(n),a=await Pa(r),{runId:i,...o}=r,u=await(a==null?void 0:a.handleChainStart(this.toJSON(),Dn(e,"input"),i,void 0,void 0,void 0,o==null?void 0:o.runName));let c,f;for(const g of this.runnables()){(m=r==null?void 0:r.signal)==null||m.throwIfAborted();const b=rr(o,{callbacks:u==null?void 0:u.getChild()});try{const v=await g.stream(e,b);f=Nw(b,v);break}catch(v){c===void 0&&(c=v)}}if(f===void 0){const g=c??new Error("No error stored at end of fallback.");throw await(u==null?void 0:u.handleChainError(g)),g}let h;try{for await(const g of f){yield g;try{h=h===void 0?h:$a(h,g)}catch{h=void 0}}}catch(g){throw await(u==null?void 0:u.handleChainError(g)),g}await(u==null?void 0:u.handleChainEnd(Dn(h,"output")))}async batch(e,n,r){var c;if(r!=null&&r.returnExceptions)throw new Error("Not implemented.");const a=this._getOptionsList(n??{},e.length),i=await Promise.all(a.map(f=>Pa(f))),o=await Promise.all(i.map(async(f,h)=>{const m=await(f==null?void 0:f.handleChainStart(this.toJSON(),Dn(e[h],"input"),a[h].runId,void 0,void 0,void 0,a[h].runName));return delete a[h].runId,m}));let u;for(const f of this.runnables()){(c=a[0].signal)==null||c.throwIfAborted();try{const h=await f.batch(e,o.map((m,g)=>rr(a[g],{callbacks:m==null?void 0:m.getChild()})),r);return await Promise.all(o.map((m,g)=>m==null?void 0:m.handleChainEnd(Dn(h[g],"output")))),h}catch(h){u===void 0&&(u=h)}}throw u?(await Promise.all(o.map(f=>f==null?void 0:f.handleChainError(u))),u):new Error("No error stored at end of fallbacks.")}}function Lo(t){if(typeof t=="function")return new tc({func:t});if(Bn.isRunnable(t))return t;if(!Array.isArray(t)&&typeof t=="object"){const e={};for(const[n,r]of Object.entries(t))e[n]=Lo(r);return new ec({steps:e})}else throw new Error(`Expected a Runnable, function or object.
Instead got an unsupported type.`)}class HM extends Bn{static lc_name(){return"RunnableAssign"}constructor(e){e instanceof ec&&(e={mapper:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"mapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.mapper=e.mapper}async invoke(e,n){const r=await this.mapper.invoke(e,n);return{...e,...r}}async*_transform(e,n,r){const a=this.mapper.getStepsKeys(),[i,o]=LM(e),u=this.mapper.transform(o,rr(r,{callbacks:n==null?void 0:n.getChild()})),c=u.next();for await(const f of i){if(typeof f!="object"||Array.isArray(f))throw new Error(`RunnableAssign can only be used with objects as input, got ${typeof f}`);const h=Object.fromEntries(Object.entries(f).filter(([m])=>!a.includes(m)));Object.keys(h).length>0&&(yield h)}yield(await c).value;for await(const f of u)yield f}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const a=Tt(n),i=new Qu({generator:this.transform(r(),a),config:a});return await i.setup,Wr.fromAsyncGenerator(i)}}class sX extends Bn{static lc_name(){return"RunnablePick"}constructor(e){(typeof e=="string"||Array.isArray(e))&&(e={keys:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"keys",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keys=e.keys}async _pick(e){if(typeof this.keys=="string")return e[this.keys];{const n=this.keys.map(r=>[r,e[r]]).filter(r=>r[1]!==void 0);return n.length===0?void 0:Object.fromEntries(n)}}async invoke(e,n){return this._callWithConfig(this._pick.bind(this),e,n)}async*_transform(e){for await(const n of e){const r=await this._pick(n);r!==void 0&&(yield r)}}transform(e,n){return this._transformStreamWithConfig(e,this._transform.bind(this),n)}async stream(e,n){async function*r(){yield e}const a=Tt(n),i=new Qu({generator:this.transform(r(),a),config:a});return await i.setup,Wr.fromAsyncGenerator(i)}}class _P extends zo{constructor(e){const n=Fi.from([tc.from(async r=>{let a;if(cM(r))try{a=await this.schema.parseAsync(r.args)}catch{throw new z7("Received tool input did not match expected schema",JSON.stringify(r.args))}else a=r;return a}).withConfig({runName:`${e.name}:parse_input`}),e.bound]).withConfig({runName:e.name});super({bound:n,config:e.config??{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.description=e.description,this.schema=e.schema}static lc_name(){return"RunnableToolLike"}}function oX(t,e){var a;const n=e.name??t.getName(),r=e.description??((a=e.schema)==null?void 0:a.description);return e.schema.constructor===Us.ZodString?new _P({name:n,description:r,schema:Us.object({input:Us.string()}).transform(i=>i.input),bound:t}):new _P({name:n,description:r,schema:e.schema,bound:t})}/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.6.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */var lX=typeof window=="object"?window:{},Ye="0123456789abcdef".split(""),uX=[-2147483648,8388608,32768,128],_a=[24,16,8,0],Nn=[];function Na(t){t?(Nn[0]=Nn[16]=Nn[1]=Nn[2]=Nn[3]=Nn[4]=Nn[5]=Nn[6]=Nn[7]=Nn[8]=Nn[9]=Nn[10]=Nn[11]=Nn[12]=Nn[13]=Nn[14]=Nn[15]=0,this.blocks=Nn):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Na.prototype.update=function(t){if(!this.finalized){var e=typeof t!="string";e&&t.constructor===lX.ArrayBuffer&&(t=new Uint8Array(t));for(var n,r=0,a,i=t.length||0,o=this.blocks;r<i;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),e)for(a=this.start;r<i&&a<64;++r)o[a>>2]|=t[r]<<_a[a++&3];else for(a=this.start;r<i&&a<64;++r)n=t.charCodeAt(r),n<128?o[a>>2]|=n<<_a[a++&3]:n<2048?(o[a>>2]|=(192|n>>6)<<_a[a++&3],o[a>>2]|=(128|n&63)<<_a[a++&3]):n<55296||n>=57344?(o[a>>2]|=(224|n>>12)<<_a[a++&3],o[a>>2]|=(128|n>>6&63)<<_a[a++&3],o[a>>2]|=(128|n&63)<<_a[a++&3]):(n=65536+((n&1023)<<10|t.charCodeAt(++r)&1023),o[a>>2]|=(240|n>>18)<<_a[a++&3],o[a>>2]|=(128|n>>12&63)<<_a[a++&3],o[a>>2]|=(128|n>>6&63)<<_a[a++&3],o[a>>2]|=(128|n&63)<<_a[a++&3]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=64?(this.block=o[16],this.start=a-64,this.hash(),this.hashed=!0):this.start=a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}};Na.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=uX[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}};Na.prototype.hash=function(){var t=this.h0,e=this.h1,n=this.h2,r=this.h3,a=this.h4,i,o,u,c=this.blocks;for(o=16;o<80;++o)u=c[o-3]^c[o-8]^c[o-14]^c[o-16],c[o]=u<<1|u>>>31;for(o=0;o<20;o+=5)i=e&n|~e&r,u=t<<5|t>>>27,a=u+i+a+1518500249+c[o]<<0,e=e<<30|e>>>2,i=t&e|~t&n,u=a<<5|a>>>27,r=u+i+r+1518500249+c[o+1]<<0,t=t<<30|t>>>2,i=a&t|~a&e,u=r<<5|r>>>27,n=u+i+n+1518500249+c[o+2]<<0,a=a<<30|a>>>2,i=r&a|~r&t,u=n<<5|n>>>27,e=u+i+e+1518500249+c[o+3]<<0,r=r<<30|r>>>2,i=n&r|~n&a,u=e<<5|e>>>27,t=u+i+t+1518500249+c[o+4]<<0,n=n<<30|n>>>2;for(;o<40;o+=5)i=e^n^r,u=t<<5|t>>>27,a=u+i+a+1859775393+c[o]<<0,e=e<<30|e>>>2,i=t^e^n,u=a<<5|a>>>27,r=u+i+r+1859775393+c[o+1]<<0,t=t<<30|t>>>2,i=a^t^e,u=r<<5|r>>>27,n=u+i+n+1859775393+c[o+2]<<0,a=a<<30|a>>>2,i=r^a^t,u=n<<5|n>>>27,e=u+i+e+1859775393+c[o+3]<<0,r=r<<30|r>>>2,i=n^r^a,u=e<<5|e>>>27,t=u+i+t+1859775393+c[o+4]<<0,n=n<<30|n>>>2;for(;o<60;o+=5)i=e&n|e&r|n&r,u=t<<5|t>>>27,a=u+i+a-1894007588+c[o]<<0,e=e<<30|e>>>2,i=t&e|t&n|e&n,u=a<<5|a>>>27,r=u+i+r-1894007588+c[o+1]<<0,t=t<<30|t>>>2,i=a&t|a&e|t&e,u=r<<5|r>>>27,n=u+i+n-1894007588+c[o+2]<<0,a=a<<30|a>>>2,i=r&a|r&t|a&t,u=n<<5|n>>>27,e=u+i+e-1894007588+c[o+3]<<0,r=r<<30|r>>>2,i=n&r|n&a|r&a,u=e<<5|e>>>27,t=u+i+t-1894007588+c[o+4]<<0,n=n<<30|n>>>2;for(;o<80;o+=5)i=e^n^r,u=t<<5|t>>>27,a=u+i+a-899497514+c[o]<<0,e=e<<30|e>>>2,i=t^e^n,u=a<<5|a>>>27,r=u+i+r-899497514+c[o+1]<<0,t=t<<30|t>>>2,i=a^t^e,u=r<<5|r>>>27,n=u+i+n-899497514+c[o+2]<<0,a=a<<30|a>>>2,i=r^a^t,u=n<<5|n>>>27,e=u+i+e-899497514+c[o+3]<<0,r=r<<30|r>>>2,i=n^r^a,u=e<<5|e>>>27,t=u+i+t-899497514+c[o+4]<<0,n=n<<30|n>>>2;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0,this.h4=this.h4+a<<0};Na.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,a=this.h4;return Ye[t>>28&15]+Ye[t>>24&15]+Ye[t>>20&15]+Ye[t>>16&15]+Ye[t>>12&15]+Ye[t>>8&15]+Ye[t>>4&15]+Ye[t&15]+Ye[e>>28&15]+Ye[e>>24&15]+Ye[e>>20&15]+Ye[e>>16&15]+Ye[e>>12&15]+Ye[e>>8&15]+Ye[e>>4&15]+Ye[e&15]+Ye[n>>28&15]+Ye[n>>24&15]+Ye[n>>20&15]+Ye[n>>16&15]+Ye[n>>12&15]+Ye[n>>8&15]+Ye[n>>4&15]+Ye[n&15]+Ye[r>>28&15]+Ye[r>>24&15]+Ye[r>>20&15]+Ye[r>>16&15]+Ye[r>>12&15]+Ye[r>>8&15]+Ye[r>>4&15]+Ye[r&15]+Ye[a>>28&15]+Ye[a>>24&15]+Ye[a>>20&15]+Ye[a>>16&15]+Ye[a>>12&15]+Ye[a>>8&15]+Ye[a>>4&15]+Ye[a&15]};Na.prototype.toString=Na.prototype.hex;Na.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,a=this.h4;return[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24&255,n>>16&255,n>>8&255,n&255,r>>24&255,r>>16&255,r>>8&255,r&255,a>>24&255,a>>16&255,a>>8&255,a&255]};Na.prototype.array=Na.prototype.digest;Na.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(20),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),t};const cX=t=>new Na(!0).update(t).hex(),wP=(...t)=>cX(t.join("_"));class dX{}const fX=new Map;class Gx extends dX{constructor(e){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=e??new Map}lookup(e,n){return Promise.resolve(this.cache.get(wP(e,n))??null)}async update(e,n,r){this.cache.set(wP(e,n),r)}static global(){return new Gx(fX)}}class qM extends Ho{}class hX extends qM{static lc_name(){return"StringPromptValue"}constructor(e){super({value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new ih(this.value)]}}class pX extends qM{static lc_name(){return"ChatPromptValue"}constructor(e){Array.isArray(e)&&(e={messages:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=e.messages}toString(){return dM(this.messages)}toChatMessages(){return this.messages}}var gd={},SP;function mX(){if(SP)return gd;SP=1,gd.byteLength=u,gd.toByteArray=f,gd.fromByteArray=g;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,i=r.length;a<i;++a)t[a]=r[a],e[r.charCodeAt(a)]=a;e[45]=62,e[95]=63;function o(b){var v=b.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=b.indexOf("=");w===-1&&(w=v);var S=w===v?0:4-w%4;return[w,S]}function u(b){var v=o(b),w=v[0],S=v[1];return(w+S)*3/4-S}function c(b,v,w){return(v+w)*3/4-w}function f(b){var v,w=o(b),S=w[0],x=w[1],C=new n(c(b,S,x)),E=0,O=x>0?S-4:S,A;for(A=0;A<O;A+=4)v=e[b.charCodeAt(A)]<<18|e[b.charCodeAt(A+1)]<<12|e[b.charCodeAt(A+2)]<<6|e[b.charCodeAt(A+3)],C[E++]=v>>16&255,C[E++]=v>>8&255,C[E++]=v&255;return x===2&&(v=e[b.charCodeAt(A)]<<2|e[b.charCodeAt(A+1)]>>4,C[E++]=v&255),x===1&&(v=e[b.charCodeAt(A)]<<10|e[b.charCodeAt(A+1)]<<4|e[b.charCodeAt(A+2)]>>2,C[E++]=v>>8&255,C[E++]=v&255),C}function h(b){return t[b>>18&63]+t[b>>12&63]+t[b>>6&63]+t[b&63]}function m(b,v,w){for(var S,x=[],C=v;C<w;C+=3)S=(b[C]<<16&16711680)+(b[C+1]<<8&65280)+(b[C+2]&255),x.push(h(S));return x.join("")}function g(b){for(var v,w=b.length,S=w%3,x=[],C=16383,E=0,O=w-S;E<O;E+=C)x.push(m(b,E,E+C>O?O:E+C));return S===1?(v=b[w-1],x.push(t[v>>2]+t[v<<4&63]+"==")):S===2&&(v=(b[w-2]<<8)+b[w-1],x.push(t[v>>10]+t[v>>4&63]+t[v<<2&63]+"=")),x.join("")}return gd}var gX=mX();const yX=hi(gX);var bX=Object.defineProperty,vX=(t,e,n)=>e in t?bX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_X=(t,e,n)=>(vX(t,e+"",n),n);function wX(t,e){let n=Array.from({length:t.length},(r,a)=>({start:a,end:a+1}));for(;n.length>1;){let r=null;for(let a=0;a<n.length-1;a++){const i=t.slice(n[a].start,n[a+1].end),o=e.get(i.join(","));o!=null&&(r==null||o<r[0])&&(r=[o,a])}if(r!=null){const a=r[1];n[a]={start:n[a].start,end:n[a+1].end},n.splice(a+1,1)}else break}return n}function SX(t,e){return t.length===1?[e.get(t.join(","))]:wX(t,e).map(n=>e.get(t.slice(n.start,n.end).join(","))).filter(n=>n!=null)}function xX(t){return t.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}var Mw=class{constructor(t,e){ra(this,"specialTokens");ra(this,"inverseSpecialTokens");ra(this,"patStr");ra(this,"textEncoder",new TextEncoder);ra(this,"textDecoder",new TextDecoder("utf-8"));ra(this,"rankMap",new Map);ra(this,"textMap",new Map);this.patStr=t.pat_str;const n=t.bpe_ranks.split(`
`).filter(Boolean).reduce((r,a)=>{const[i,o,...u]=a.split(" "),c=Number.parseInt(o,10);return u.forEach((f,h)=>r[f]=c+h),r},{});for(const[r,a]of Object.entries(n)){const i=yX.toByteArray(r);this.rankMap.set(i.join(","),a),this.textMap.set(a,i)}this.specialTokens={...t.special_tokens,...e},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce((r,[a,i])=>(r[i]=this.textEncoder.encode(a),r),{})}encode(t,e=[],n="all"){const r=new RegExp(this.patStr,"ug"),a=Mw.specialTokenRegex(Object.keys(this.specialTokens)),i=[],o=new Set(e==="all"?Object.keys(this.specialTokens):e),u=new Set(n==="all"?Object.keys(this.specialTokens).filter(f=>!o.has(f)):n);if(u.size>0){const f=Mw.specialTokenRegex([...u]),h=t.match(f);if(h!=null)throw new Error(`The text contains a special token that is not allowed: ${h[0]}`)}let c=0;for(;;){let f=null,h=c;for(;a.lastIndex=h,f=a.exec(t),!(f==null||o.has(f[0]));)h=f.index+1;const m=(f==null?void 0:f.index)??t.length;for(const b of t.substring(c,m).matchAll(r)){const v=this.textEncoder.encode(b[0]),w=this.rankMap.get(v.join(","));if(w!=null){i.push(w);continue}i.push(...SX(v,this.rankMap))}if(f==null)break;let g=this.specialTokens[f[0]];i.push(g),c=f.index+f[0].length}return i}decode(t){const e=[];let n=0;for(let i=0;i<t.length;++i){const o=t[i],u=this.textMap.get(o)??this.inverseSpecialTokens[o];u!=null&&(e.push(u),n+=u.length)}const r=new Uint8Array(n);let a=0;for(const i of e)r.set(i,a),a+=i.length;return this.textDecoder.decode(r)}},GM=Mw;_X(GM,"specialTokenRegex",t=>new RegExp(t.map(e=>xX(e)).join("|"),"g"));function EX(t){switch(t){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":case"text-embedding-3-small":case"text-embedding-3-large":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":case"gpt-4o-2024-08-06":case"gpt-4o-2024-11-20":case"gpt-4o-mini-2024-07-18":case"gpt-4o-mini":case"gpt-4o-search-preview":case"gpt-4o-search-preview-2025-03-11":case"gpt-4o-mini-search-preview":case"gpt-4o-mini-search-preview-2025-03-11":case"gpt-4o-audio-preview":case"gpt-4o-audio-preview-2024-12-17":case"gpt-4o-audio-preview-2024-10-01":case"gpt-4o-mini-audio-preview":case"gpt-4o-mini-audio-preview-2024-12-17":case"o1":case"o1-2024-12-17":case"o1-mini":case"o1-mini-2024-09-12":case"o1-preview":case"o1-preview-2024-09-12":case"o1-pro":case"o1-pro-2025-03-19":case"o3":case"o3-2025-04-16":case"o3-mini":case"o3-mini-2025-01-31":case"o4-mini":case"o4-mini-2025-04-16":case"chatgpt-4o-latest":case"gpt-4o-realtime":case"gpt-4o-realtime-preview-2024-10-01":case"gpt-4o-realtime-preview-2024-12-17":case"gpt-4o-mini-realtime-preview":case"gpt-4o-mini-realtime-preview-2024-12-17":case"gpt-4.1":case"gpt-4.1-2025-04-14":case"gpt-4.1-mini":case"gpt-4.1-mini-2025-04-14":case"gpt-4.1-nano":case"gpt-4.1-nano-2025-04-14":case"gpt-4.5-preview":case"gpt-4.5-preview-2025-02-27":return"o200k_base";default:throw new Error("Unknown model")}}const cm={},TX=new Vx({});async function CX(t){return t in cm||(cm[t]=TX.fetch(`https://tiktoken.pages.dev/js/${t}.json`).then(e=>e.json()).then(e=>new GM(e)).catch(e=>{throw delete cm[t],e})),await cm[t]}async function RX(t){return CX(EX(t))}const AX=t=>t.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":t.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":t.startsWith("gpt-4-32k")?"gpt-4-32k":t.startsWith("gpt-4-")?"gpt-4":t.startsWith("gpt-4o")?"gpt-4o":t;function WM(t){return typeof t!="object"||!t?!1:!!("type"in t&&t.type==="function"&&"function"in t&&typeof t.function=="object"&&t.function&&"name"in t.function&&"parameters"in t.function)}const OX=()=>!1;class kX extends Bn{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=e.verbose??OX(),this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}}class PX extends kX{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor({callbacks:e,callbackManager:n,...r}){const{cache:a,...i}=r;super({callbacks:e??n,...i}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof a=="object"?this.cache=a:a?this.cache=Gx.global():this.cache=void 0,this.caller=new Vx(r??{})}async getNumTokens(e){if(typeof e!="string")return 0;let n=Math.ceil(e.length/4);if(!this._encoding)try{this._encoding=await RX("modelName"in this?AX(this.modelName):"gpt2")}catch(r){console.warn("Failed to calculate number of tokens, falling back to approximate count",r)}if(this._encoding)try{n=this._encoding.encode(e).length}catch(r){console.warn("Failed to calculate number of tokens, falling back to approximate count",r)}return n}static _convertInputToPromptValue(e){return typeof e=="string"?new hX(e):Array.isArray(e)?new pX(e.map(kd)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:e,...n}){const r={...this._identifyingParams(),...n,_type:this._llmType(),_model:this._modelType()};return Object.entries(r).filter(([o,u])=>u!==void 0).map(([o,u])=>`${o}:${JSON.stringify(u)}`).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}}class cg extends Bn{static lc_name(){return"RunnablePassthrough"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e&&(this.func=e.func)}async invoke(e,n){const r=Tt(n);return this.func&&await this.func(e,r),this._callWithConfig(a=>Promise.resolve(a),e,r)}async*transform(e,n){const r=Tt(n);let a,i=!0;for await(const o of this._transformStreamWithConfig(e,u=>u,r))if(yield o,i)if(a===void 0)a=o;else try{a=$a(a,o)}catch{a=void 0,i=!1}this.func&&a!==void 0&&await this.func(a,r)}static assign(e){return new HM(new ec({steps:e}))}}function Wx(t){var r;if(!t||typeof t!="object"||Array.isArray(t))return!1;const e=t;return e._def||Object.values(Us.ZodFirstPartyTypeKind).includes(((r=e.constructor)==null?void 0:r.name)??"NOT_INCLUDED")?!0:typeof e.parse=="function"&&typeof e.parseAsync=="function"&&typeof e.safeParse=="function"&&typeof e.safeParseAsync=="function"}function w_(t){const e=[];for(const n of t){let r=n;if(Array.isArray(n.content))for(let a=0;a<n.content.length;a++){const i=n.content[a];(P7(i)||$7(i))&&r===n&&(r=new n.constructor({...r,content:[...n.content.slice(0,a),I7(i),...n.content.slice(a+1)]}))}e.push(r)}return e}class Ms extends PX{constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]}),Object.defineProperty(this,"disableStreaming",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_separateRunnableConfigFromCallOptionsCompat(e){const[n,r]=super._separateRunnableConfigFromCallOptions(e);return r.signal=n.signal,[n,r]}async invoke(e,n){const r=Ms._convertInputToPromptValue(e);return(await this.generatePrompt([r],n,n==null?void 0:n.callbacks)).generations[0][0].message}async*_streamResponseChunks(e,n,r){throw new Error("Not implemented.")}async*_streamIterator(e,n){var r;if(this._streamResponseChunks===Ms.prototype._streamResponseChunks||this.disableStreaming)yield this.invoke(e,n);else{const i=Ms._convertInputToPromptValue(e).toChatMessages(),[o,u]=this._separateRunnableConfigFromCallOptionsCompat(n),c={...o.metadata,...this.getLsParams(u)},f=await Tr.configure(o.callbacks,this.callbacks,o.tags,this.tags,c,this.metadata,{verbose:this.verbose}),h={options:u,invocation_params:this==null?void 0:this.invocationParams(u),batch_size:1},m=await(f==null?void 0:f.handleChatModelStart(this.toJSON(),[w_(i)],o.runId,void 0,h,void 0,void 0,o.runName));let g,b;try{for await(const v of this._streamResponseChunks(i,u,m==null?void 0:m[0])){if(v.message.id==null){const w=(r=m==null?void 0:m.at(0))==null?void 0:r.runId;w!=null&&v.message._updateId(`run-${w}`)}v.message.response_metadata={...v.generationInfo,...v.message.response_metadata},yield v.message,g?g=g.concat(v):g=v,FO(v.message)&&v.message.usage_metadata!==void 0&&(b={tokenUsage:{promptTokens:v.message.usage_metadata.input_tokens,completionTokens:v.message.usage_metadata.output_tokens,totalTokens:v.message.usage_metadata.total_tokens}})}}catch(v){throw await Promise.all((m??[]).map(w=>w==null?void 0:w.handleLLMError(v))),v}await Promise.all((m??[]).map(v=>v==null?void 0:v.handleLLMEnd({generations:[[g]],llmOutput:b})))}}getLsParams(e){const n=this.getName().startsWith("Chat")?this.getName().replace("Chat",""):this.getName();return{ls_model_type:"chat",ls_stop:e.stop,ls_provider:n}}async _generateUncached(e,n,r,a){var m,g;const i=e.map(b=>b.map(kd));let o;if(a!==void 0&&a.length===i.length)o=a;else{const b={...r.metadata,...this.getLsParams(n)},v=await Tr.configure(r.callbacks,this.callbacks,r.tags,this.tags,b,this.metadata,{verbose:this.verbose}),w={options:n,invocation_params:this==null?void 0:this.invocationParams(n),batch_size:1};o=await(v==null?void 0:v.handleChatModelStart(this.toJSON(),i.map(w_),r.runId,void 0,w,void 0,void 0,r.runName))}const u=[],c=[];if(!!(o!=null&&o[0].handlers.find(jK))&&!this.disableStreaming&&i.length===1&&this._streamResponseChunks!==Ms.prototype._streamResponseChunks)try{const b=await this._streamResponseChunks(i[0],n,o==null?void 0:o[0]);let v,w;for await(const S of b){if(S.message.id==null){const x=(m=o==null?void 0:o.at(0))==null?void 0:m.runId;x!=null&&S.message._updateId(`run-${x}`)}v===void 0?v=S:v=$a(v,S),FO(S.message)&&S.message.usage_metadata!==void 0&&(w={tokenUsage:{promptTokens:S.message.usage_metadata.input_tokens,completionTokens:S.message.usage_metadata.output_tokens,totalTokens:S.message.usage_metadata.total_tokens}})}if(v===void 0)throw new Error("Received empty response from chat model call.");u.push([v]),await(o==null?void 0:o[0].handleLLMEnd({generations:u,llmOutput:w}))}catch(b){throw await(o==null?void 0:o[0].handleLLMError(b)),b}else{const b=await Promise.allSettled(i.map((v,w)=>this._generate(v,{...n,promptIndex:w},o==null?void 0:o[w])));await Promise.all(b.map(async(v,w)=>{var S,x,C;if(v.status==="fulfilled"){const E=v.value;for(const O of E.generations){if(O.message.id==null){const A=(S=o==null?void 0:o.at(0))==null?void 0:S.runId;A!=null&&O.message._updateId(`run-${A}`)}O.message.response_metadata={...O.generationInfo,...O.message.response_metadata}}return E.generations.length===1&&(E.generations[0].message.response_metadata={...E.llmOutput,...E.generations[0].message.response_metadata}),u[w]=E.generations,c[w]=E.llmOutput,(x=o==null?void 0:o[w])==null?void 0:x.handleLLMEnd({generations:[E.generations],llmOutput:E.llmOutput})}else return await((C=o==null?void 0:o[w])==null?void 0:C.handleLLMError(v.reason)),Promise.reject(v.reason)}))}const h={generations:u,llmOutput:c.length?(g=this._combineLLMOutput)==null?void 0:g.call(this,...c):void 0};return Object.defineProperty(h,hP,{value:o?{runIds:o==null?void 0:o.map(b=>b.runId)}:void 0,configurable:!0}),h}async _generateCached({messages:e,cache:n,llmStringKey:r,parsedOptions:a,handledOptions:i}){const o=e.map(S=>S.map(kd)),u={...i.metadata,...this.getLsParams(a)},c=await Tr.configure(i.callbacks,this.callbacks,i.tags,this.tags,u,this.metadata,{verbose:this.verbose}),f={options:a,invocation_params:this==null?void 0:this.invocationParams(a),batch_size:1},h=await(c==null?void 0:c.handleChatModelStart(this.toJSON(),o.map(w_),i.runId,void 0,f,void 0,void 0,i.runName)),m=[],b=(await Promise.allSettled(o.map(async(S,x)=>{const C=Ms._convertInputToPromptValue(S).toString(),E=await n.lookup(C,r);return E==null&&m.push(x),E}))).map((S,x)=>({result:S,runManager:h==null?void 0:h[x]})).filter(({result:S})=>S.status==="fulfilled"&&S.value!=null||S.status==="rejected"),v=[];await Promise.all(b.map(async({result:S,runManager:x},C)=>{if(S.status==="fulfilled"){const E=S.value;return v[C]=E.map(O=>("message"in O&&ny(O.message)&&Bs(O.message)&&(O.message.usage_metadata={input_tokens:0,output_tokens:0,total_tokens:0}),O.generationInfo={...O.generationInfo,tokenUsage:{}},O)),E.length&&await(x==null?void 0:x.handleLLMNewToken(E[0].text)),x==null?void 0:x.handleLLMEnd({generations:[E]},void 0,void 0,void 0,{cached:!0})}else return await(x==null?void 0:x.handleLLMError(S.reason,void 0,void 0,void 0,{cached:!0})),Promise.reject(S.reason)}));const w={generations:v,missingPromptIndices:m,startedRunManagers:h};return Object.defineProperty(w,hP,{value:h?{runIds:h==null?void 0:h.map(S=>S.runId)}:void 0,configurable:!0}),w}async generate(e,n,r){let a;Array.isArray(n)?a={stop:n}:a=n;const i=e.map(v=>v.map(kd)),[o,u]=this._separateRunnableConfigFromCallOptionsCompat(a);if(o.callbacks=o.callbacks??r,!this.cache)return this._generateUncached(i,u,o);const{cache:c}=this,f=this._getSerializedCacheKeyParametersForCall(u),{generations:h,missingPromptIndices:m,startedRunManagers:g}=await this._generateCached({messages:i,cache:c,llmStringKey:f,parsedOptions:u,handledOptions:o});let b={};if(m.length>0){const v=await this._generateUncached(m.map(w=>i[w]),u,o,g!==void 0?m.map(w=>g==null?void 0:g[w]):void 0);await Promise.all(v.generations.map(async(w,S)=>{const x=m[S];h[x]=w;const C=Ms._convertInputToPromptValue(i[x]).toString();return c.update(C,f,w)})),b=v.llmOutput??{}}return{generations:h,llmOutput:b}}invocationParams(e){return{}}_modelType(){return"base_chat_model"}serialize(){return{...this.invocationParams(),_type:this._llmType(),_model:this._modelType()}}async generatePrompt(e,n,r){const a=e.map(i=>i.toChatMessages());return this.generate(a,n,r)}async call(e,n,r){return(await this.generate([e.map(kd)],n,r)).generations[0][0].message}async callPrompt(e,n,r){const a=e.toChatMessages();return this.call(a,n,r)}async predictMessages(e,n,r){return this.call(e,n,r)}async predict(e,n,r){const a=new ih(e),i=await this.call([a],n,r);if(typeof i.content!="string")throw new Error("Cannot use predict when output is not a string.");return i.content}withStructuredOutput(e,n){if(typeof this.bindTools!="function")throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');if(n!=null&&n.strict)throw new Error('"strict" mode is not supported for this model by default.');const r=e,a=n==null?void 0:n.name,i=r.description??"A function available to call.",o=n==null?void 0:n.method,u=n==null?void 0:n.includeRaw;if(o==="jsonMode")throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let c=a??"extract",f;Wx(r)?f=[{type:"function",function:{name:c,description:i,parameters:ch(r)}}]:("name"in r&&(c=r.name),f=[{type:"function",function:{name:c,description:i,parameters:r}}]);const h=this.bindTools(f),m=tc.from(w=>{if(!w.tool_calls||w.tool_calls.length===0)throw new Error("No tool calls found in the response.");const S=w.tool_calls.find(x=>x.name===c);if(!S)throw new Error(`No tool call found with name ${c}.`);return S.args});if(!u)return h.pipe(m).withConfig({runName:"StructuredOutput"});const g=cg.assign({parsed:(w,S)=>m.invoke(w.raw,S)}),b=cg.assign({parsed:()=>null}),v=g.withFallbacks({fallbacks:[b]});return Fi.from([{raw:h},v]).withConfig({runName:"StructuredOutputRunnable"})}}class $X extends Bn{parseResultWithPrompt(e,n,r){return this.parseResult(e,r)}_baseMessageToString(e){return typeof e.content=="string"?e.content:this._baseMessageContentToString(e.content)}_baseMessageContentToString(e){return JSON.stringify(e)}async invoke(e,n){return typeof e=="string"?this._callWithConfig(async(r,a)=>this.parseResult([{text:r}],a==null?void 0:a.callbacks),e,{...n,runType:"parser"}):this._callWithConfig(async(r,a)=>this.parseResult([{message:r,text:this._baseMessageToString(r)}],a==null?void 0:a.callbacks),e,{...n,runType:"parser"})}}class ZM extends $X{parseResult(e,n){return this.parse(e[0].text,n)}async parseWithPrompt(e,n,r){return this.parse(e,r)}_type(){throw new Error("_type not implemented")}}class Zx extends Error{constructor(e,n,r,a=!1){if(super(e),Object.defineProperty(this,"llmOutput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"observation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sendToLLM",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.llmOutput=n,this.observation=r,this.sendToLLM=a,a&&(r===void 0||n===void 0))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true");uM(this,"OUTPUT_PARSING_FAILURE")}}function Lw(t,e){const n=typeof t;if(n!==typeof e)return!1;if(Array.isArray(t)){if(!Array.isArray(e))return!1;const r=t.length;if(r!==e.length)return!1;for(let a=0;a<r;a++)if(!Lw(t[a],e[a]))return!1;return!0}if(n==="object"){if(!t||!e)return t===e;const r=Object.keys(t),a=Object.keys(e);if(r.length!==a.length)return!1;for(const o of r)if(!Lw(t[o],e[o]))return!1;return!0}return t===e}class IX extends ZM{async*_transform(e){for await(const n of e)typeof n=="string"?yield this.parseResult([{text:n}]):yield this.parseResult([{message:n,text:this._baseMessageToString(n)}])}async*transform(e,n){yield*this._transformStreamWithConfig(e,this._transform.bind(this),{...n,runType:"parser"})}}class KM extends IX{constructor(e){super(e),Object.defineProperty(this,"diff",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.diff=(e==null?void 0:e.diff)??this.diff}async*_transform(e){let n,r;for await(const a of e){if(typeof a!="string"&&typeof a.content!="string")throw new Error("Cannot handle non-string output.");let i;if(D7(a)){if(typeof a.content!="string")throw new Error("Cannot handle non-string message output.");i=new Ko({message:a,text:a.content})}else if(ny(a)){if(typeof a.content!="string")throw new Error("Cannot handle non-string message output.");i=new Ko({message:H7(a),text:a.content})}else i=new Mu({text:a});r===void 0?r=i:r=r.concat(i);const o=await this.parsePartialResult([r]);o!=null&&!Lw(o,n)&&(this.diff?yield this._diff(n,o):yield o,n=o)}}getFormatInstructions(){return""}}class xP extends ZM{static lc_name(){return"StructuredOutputParser"}toJSON(){return this.toJSONNotImplemented()}constructor(e){super(e),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","structured"]})}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){const n=Us.object(Object.fromEntries(Object.entries(e).map(([r,a])=>[r,Us.string().describe(a)])));return new this(n)}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.

"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.

For example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}
would match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.
Thus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.

Your output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!

Here is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:
\`\`\`json
${JSON.stringify(ch(this.schema))}
\`\`\`
`}async parse(e){try{const r=(e.includes("```")?e.trim().split(/```(?:json)?/)[1]:e.trim()).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,(a,i)=>`"${i.replace(/\n/g,"\\n")}"`).replace(/\n/g,"");return await this.schema.parseAsync(JSON.parse(r))}catch(n){throw new Zx(`Failed to parse. Text: "${e}". Error: ${n}`,e)}}}class EP extends KM{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"JsonOutputParser"}_diff(e,n){if(n)return e?CK(e,n):[{op:"replace",path:"",value:n}]}async parsePartialResult(e){return MO(e[0].text)}async parse(e){return MO(e,JSON.parse)}getFormatInstructions(){return""}}function Kx(t,e){if(t.function===void 0)return;let n;if(e!=null&&e.partial)try{n=Px(t.function.arguments??"{}")}catch{return}else try{n=JSON.parse(t.function.arguments)}catch(a){throw new Zx([`Function "${t.function.name}" arguments:`,"",t.function.arguments,"","are not valid JSON.",`Error: ${a.message}`].join(`
`))}const r={name:t.function.name,args:n,type:"tool_call"};return e!=null&&e.returnId&&(r.id=t.id),r}function jX(t){if(t.id===void 0)throw new Error('All OpenAI tool calls must have an "id" field.');return{id:t.id,type:"function",function:{name:t.name,arguments:JSON.stringify(t.args)}}}function YM(t,e){var n,r;return{name:(n=t.function)==null?void 0:n.name,args:(r=t.function)==null?void 0:r.arguments,id:t.id,error:e,type:"invalid_tool_call"}}class NX extends KM{static lc_name(){return"JsonOutputToolsParser"}constructor(e){super(e),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.returnId=(e==null?void 0:e.returnId)??this.returnId}_diff(){throw new Error("Not supported.")}async parse(){throw new Error("Not implemented.")}async parseResult(e){return await this.parsePartialResult(e,!1)}async parsePartialResult(e,n=!0){var o;const r=e[0].message;let a;if(Bs(r)&&((o=r.tool_calls)!=null&&o.length)?a=r.tool_calls.map(u=>{const{id:c,...f}=u;return this.returnId?{id:c,...f}:f}):r.additional_kwargs.tool_calls!==void 0&&(a=JSON.parse(JSON.stringify(r.additional_kwargs.tool_calls)).map(c=>Kx(c,{returnId:this.returnId,partial:n}))),!a)return[];const i=[];for(const u of a)if(u!==void 0){const c={type:u.name,args:u.args,id:u.id};i.push(c)}return i}}class TP extends NX{static lc_name(){return"JsonOutputKeyToolsParser"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"keyName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSingle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"zodSchema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.zodSchema=e.zodSchema}async _validateResult(e){if(this.zodSchema===void 0)return e;const n=await this.zodSchema.safeParseAsync(e);if(n.success)return n.data;throw new Zx(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(n.error.errors)}`,JSON.stringify(e,null,2))}async parsePartialResult(e){const r=(await super.parsePartialResult(e)).filter(i=>i.type===this.keyName);let a=r;if(r.length)return this.returnId||(a=r.map(i=>i.args)),this.returnSingle?a[0]:a}async parseResult(e){const r=(await super.parsePartialResult(e,!1)).filter(o=>o.type===this.keyName);let a=r;return r.length?(this.returnId||(a=r.map(o=>o.args)),this.returnSingle?this._validateResult(a[0]):await Promise.all(a.map(o=>this._validateResult(o)))):void 0}}const MX=Symbol("Let zodToJsonSchema decide on which parser to use"),CP={name:void 0,$refStrategy:"root",effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",nullableStrategy:"from-target",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},LX=t=>typeof t=="string"?{...CP,basePath:["#"],definitions:{},name:t}:{...CP,basePath:["#"],definitions:{},...t},Dw=t=>"_def"in t?t._def:t;function DX(t){if(!t)return!0;for(const e in t)return!1;return!0}const BX=t=>{const e=LX(t),n=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:n,propertyPath:void 0,seenRefs:new Set,seen:new Map(Object.entries(e.definitions).map(([r,a])=>[Dw(a),{def:Dw(a),path:[...e.basePath,e.definitionPath,r],jsonSchema:void 0}]))}};function XM(t,e,n,r){r!=null&&r.errorMessages&&n&&(t.errorMessage={...t.errorMessage,[e]:n})}function Pt(t,e,n,r,a){t[e]=n,XM(t,e,r,a)}function UX(){return{}}function zX(t,e){var r,a;const n={type:"array"};return((a=(r=t.type)==null?void 0:r._def)==null?void 0:a.typeName)!==re.ZodAny&&(n.items=vt(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&Pt(n,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&Pt(n,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(Pt(n,"minItems",t.exactLength.value,t.exactLength.message,e),Pt(n,"maxItems",t.exactLength.value,t.exactLength.message,e)),n}function FX(t,e){const n={type:"integer",format:"int64"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"min":e.target==="jsonSchema7"?r.inclusive?Pt(n,"minimum",r.value,r.message,e):Pt(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),Pt(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?Pt(n,"maximum",r.value,r.message,e):Pt(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),Pt(n,"maximum",r.value,r.message,e));break;case"multipleOf":Pt(n,"multipleOf",r.value,r.message,e);break}return n}function VX(){return{type:"boolean"}}function HX(t,e){return vt(t.type._def,e)}const qX=(t,e)=>vt(t.innerType._def,e);function JM(t,e,n){const r=n??e.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((a,i)=>JM(t,e,a))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return GX(t,e)}}const GX=(t,e)=>{const n={type:"integer",format:"unix-time"};if(e.target==="openApi3")return n;for(const r of t.checks)switch(r.kind){case"min":Pt(n,"minimum",r.value,r.message,e);break;case"max":Pt(n,"maximum",r.value,r.message,e);break}return n};function WX(t,e){return{...vt(t.innerType._def,e),default:t.defaultValue()}}function ZX(t,e,n){return e.effectStrategy==="input"?vt(t.schema._def,e,n):{}}function KX(t){return{type:"string",enum:[...t.values]}}const YX=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function XX(t,e){const n=[vt(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),vt(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(i=>!!i);let r=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const a=[];return n.forEach(i=>{if(YX(i))a.push(...i.allOf),i.unevaluatedProperties===void 0&&(r=void 0);else{let o=i;if("additionalProperties"in i&&i.additionalProperties===!1){const{additionalProperties:u,...c}=i;o=c}else r=void 0;a.push(o)}}),a.length?{allOf:a,...r}:void 0}function JX(t,e){const n=typeof t.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[t.value]}:{type:n==="bigint"?"integer":n,const:t.value}}let S_;const Ro={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(S_===void 0&&(S_=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),S_),base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/};function QM(t,e){const n={type:"string"};function r(a){return e.patternStrategy==="escape"?QX(a):a}if(t.checks)for(const a of t.checks)switch(a.kind){case"min":Pt(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,a.value):a.value,a.message,e);break;case"max":Pt(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,a.value):a.value,a.message,e);break;case"email":switch(e.emailStrategy){case"format:email":wa(n,"email",a.message,e);break;case"format:idn-email":wa(n,"idn-email",a.message,e);break;case"pattern:zod":Sa(n,Ro.email,a.message,e);break}break;case"url":wa(n,"uri",a.message,e);break;case"uuid":wa(n,"uuid",a.message,e);break;case"regex":Sa(n,a.regex,a.message,e);break;case"cuid":Sa(n,Ro.cuid,a.message,e);break;case"cuid2":Sa(n,Ro.cuid2,a.message,e);break;case"startsWith":Sa(n,RegExp(`^${r(a.value)}`),a.message,e);break;case"endsWith":Sa(n,RegExp(`${r(a.value)}$`),a.message,e);break;case"datetime":wa(n,"date-time",a.message,e);break;case"date":wa(n,"date",a.message,e);break;case"time":wa(n,"time",a.message,e);break;case"duration":wa(n,"duration",a.message,e);break;case"length":Pt(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,a.value):a.value,a.message,e),Pt(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,a.value):a.value,a.message,e);break;case"includes":{Sa(n,RegExp(r(a.value)),a.message,e);break}case"ip":{a.version!=="v6"&&wa(n,"ipv4",a.message,e),a.version!=="v4"&&wa(n,"ipv6",a.message,e);break}case"emoji":Sa(n,Ro.emoji,a.message,e);break;case"ulid":{Sa(n,Ro.ulid,a.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{wa(n,"binary",a.message,e);break}case"contentEncoding:base64":{Pt(n,"contentEncoding","base64",a.message,e);break}case"pattern:zod":{Sa(n,Ro.base64,a.message,e);break}}break}case"nanoid":Sa(n,Ro.nanoid,a.message,e)}return n}const QX=t=>Array.from(t).map(e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`).join(""),wa=(t,e,n,r)=>{var a;t.format||(a=t.anyOf)!=null&&a.some(i=>i.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&r.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...n&&r.errorMessages&&{errorMessage:{format:n}}})):Pt(t,"format",e,n,r)},Sa=(t,e,n,r)=>{var a;t.pattern||(a=t.allOf)!=null&&a.some(i=>i.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&r.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:RP(e,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):Pt(t,"pattern",RP(e,r),n,r)},RP=(t,e)=>{var f;const n=typeof t=="function"?t():t;if(!e.applyRegexFlags||!n.flags)return n.source;const r={i:n.flags.includes("i"),m:n.flags.includes("m"),s:n.flags.includes("s")},a=r.i?n.source.toLowerCase():n.source;let i="",o=!1,u=!1,c=!1;for(let h=0;h<a.length;h++){if(o){i+=a[h],o=!1;continue}if(r.i){if(u){if(a[h].match(/[a-z]/)){c?(i+=a[h],i+=`${a[h-2]}-${a[h]}`.toUpperCase(),c=!1):a[h+1]==="-"&&((f=a[h+2])!=null&&f.match(/[a-z]/))?(i+=a[h],c=!0):i+=`${a[h]}${a[h].toUpperCase()}`;continue}}else if(a[h].match(/[a-z]/)){i+=`[${a[h]}${a[h].toUpperCase()}]`;continue}}if(r.m){if(a[h]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(a[h]==="$"){i+=`($|(?=[\r
]))`;continue}}if(r.s&&a[h]==="."){i+=u?`${a[h]}\r
`:`[${a[h]}\r
]`;continue}i+=a[h],a[h]==="\\"?o=!0:u&&a[h]==="]"?u=!1:!u&&a[h]==="["&&(u=!0)}try{const h=new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),n.source}return i};function e2(t,e){var r,a,i,o;if(e.target==="openApi3"&&((r=t.keyType)==null?void 0:r._def.typeName)===re.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((u,c)=>({...u,[c]:vt(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",c]})??{}}),{}),additionalProperties:!1};const n={type:"object",additionalProperties:vt(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??{}};if(e.target==="openApi3")return n;if(((a=t.keyType)==null?void 0:a._def.typeName)===re.ZodString&&((i=t.keyType._def.checks)!=null&&i.length)){const u=Object.entries(QM(t.keyType._def,e)).reduce((c,[f,h])=>f==="type"?c:{...c,[f]:h},{});return{...n,propertyNames:u}}else if(((o=t.keyType)==null?void 0:o._def.typeName)===re.ZodEnum)return{...n,propertyNames:{enum:t.keyType._def.values}};return n}function eJ(t,e){if(e.mapStrategy==="record")return e2(t,e);const n=vt(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},r=vt(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function tJ(t){const e=t.values,r=Object.keys(t.values).filter(i=>typeof e[e[i]]!="number").map(i=>e[i]),a=Array.from(new Set(r.map(i=>typeof i)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:r}}function nJ(){return{not:{}}}function rJ(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const dg={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function aJ(t,e){if(e.target==="openApi3")return AP(t,e);const n=t.options instanceof Map?Array.from(t.options.values()):t.options;if(n.every(r=>r._def.typeName in dg&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((a,i)=>{const o=dg[i._def.typeName];return o&&!a.includes(o)?[...a,o]:a},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((a,i)=>{const o=typeof i._def.value;switch(o){case"string":case"number":case"boolean":return[...a,o];case"bigint":return[...a,"integer"];case"object":if(i._def.value===null)return[...a,"null"];case"symbol":case"undefined":case"function":default:return a}},[]);if(r.length===n.length){const a=r.filter((i,o,u)=>u.indexOf(i)===o);return{type:a.length>1?a:a[0],enum:n.reduce((i,o)=>i.includes(o._def.value)?i:[...i,o._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,a)=>[...r,...a._def.values.filter(i=>!r.includes(i))],[])};return AP(t,e)}const AP=(t,e)=>{const n=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((r,a)=>vt(r._def,{...e,currentPath:[...e.currentPath,"anyOf",`${a}`]})).filter(r=>!!r&&(!e.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function iJ(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"||e.nullableStrategy==="property"?{type:dg[t.innerType._def.typeName],nullable:!0}:{type:[dg[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const r=vt(t.innerType._def,{...e,currentPath:[...e.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=vt(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function sJ(t,e){const n={type:"number"};if(!t.checks)return n;for(const r of t.checks)switch(r.kind){case"int":n.type="integer",XM(n,"type",r.message,e);break;case"min":e.target==="jsonSchema7"?r.inclusive?Pt(n,"minimum",r.value,r.message,e):Pt(n,"exclusiveMinimum",r.value,r.message,e):(r.inclusive||(n.exclusiveMinimum=!0),Pt(n,"minimum",r.value,r.message,e));break;case"max":e.target==="jsonSchema7"?r.inclusive?Pt(n,"maximum",r.value,r.message,e):Pt(n,"exclusiveMaximum",r.value,r.message,e):(r.inclusive||(n.exclusiveMaximum=!0),Pt(n,"maximum",r.value,r.message,e));break;case"multipleOf":Pt(n,"multipleOf",r.value,r.message,e);break}return n}function oJ(t,e){return e.removeAdditionalStrategy==="strict"?t.catchall._def.typeName==="ZodNever"?t.unknownKeys!=="strict":vt(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0:t.catchall._def.typeName==="ZodNever"?t.unknownKeys==="passthrough":vt(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??!0}function lJ(t,e){const n={type:"object",...Object.entries(t.shape()).reduce((r,[a,i])=>{if(i===void 0||i._def===void 0)return r;const o=[...e.currentPath,"properties",a],u=vt(i._def,{...e,currentPath:o,propertyPath:o});return u===void 0?r:(e.openaiStrictMode&&i.isOptional()&&!i.isNullable()&&console.warn(`Zod field at \`${o.join("/")}\` uses \`.optional()\` without \`.nullable()\` which is not supported by the API. See: https://platform.openai.com/docs/guides/structured-outputs?api-mode=responses#all-fields-must-be-required
This will become an error in a future version of the SDK.`),{properties:{...r.properties,[a]:u},required:i.isOptional()&&!e.openaiStrictMode?r.required:[...r.required,a]})},{properties:{},required:[]}),additionalProperties:oJ(t,e)};return n.required.length||delete n.required,n}const uJ=(t,e)=>{var r;if(e.currentPath.toString()===((r=e.propertyPath)==null?void 0:r.toString()))return vt(t.innerType._def,e);const n=vt(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},cJ=(t,e)=>{if(e.pipeStrategy==="input")return vt(t.in._def,e);if(e.pipeStrategy==="output")return vt(t.out._def,e);const n=vt(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),r=vt(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(a=>a!==void 0)}};function dJ(t,e){return vt(t.type._def,e)}function fJ(t,e){const r={type:"array",uniqueItems:!0,items:vt(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&Pt(r,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&Pt(r,"maxItems",t.maxSize.value,t.maxSize.message,e),r}function hJ(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((n,r)=>vt(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:vt(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((n,r)=>vt(n._def,{...e,currentPath:[...e.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function pJ(){return{not:{}}}function mJ(){return{}}const gJ=(t,e)=>vt(t.innerType._def,e);function vt(t,e,n=!1){var o;const r=e.seen.get(t);if(e.override){const u=(o=e.override)==null?void 0:o.call(e,t,e,r,n);if(u!==MX)return u}if(r&&!n){const u=yJ(r,e);if(u!==void 0)return"$ref"in u&&e.seenRefs.add(u.$ref),u}const a={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,a);const i=vJ(t,t.typeName,e,n);return i&&_J(t,e,i),a.jsonSchema=i,i}const yJ=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"extract-to-root":const n=t.path.slice(e.basePath.length+1).join("_");return n!==e.name&&e.nameStrategy==="duplicate-ref"&&(e.definitions[n]=t.def),{$ref:[...e.basePath,e.definitionPath,n].join("/")};case"relative":return{$ref:bJ(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((r,a)=>e.currentPath[a]===r)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},bJ=(t,e)=>{let n=0;for(;n<t.length&&n<e.length&&t[n]===e[n];n++);return[(t.length-n).toString(),...e.slice(n)].join("/")},vJ=(t,e,n,r)=>{switch(e){case re.ZodString:return QM(t,n);case re.ZodNumber:return sJ(t,n);case re.ZodObject:return lJ(t,n);case re.ZodBigInt:return FX(t,n);case re.ZodBoolean:return VX();case re.ZodDate:return JM(t,n);case re.ZodUndefined:return pJ();case re.ZodNull:return rJ(n);case re.ZodArray:return zX(t,n);case re.ZodUnion:case re.ZodDiscriminatedUnion:return aJ(t,n);case re.ZodIntersection:return XX(t,n);case re.ZodTuple:return hJ(t,n);case re.ZodRecord:return e2(t,n);case re.ZodLiteral:return JX(t,n);case re.ZodEnum:return KX(t);case re.ZodNativeEnum:return tJ(t);case re.ZodNullable:return iJ(t,n);case re.ZodOptional:return uJ(t,n);case re.ZodMap:return eJ(t,n);case re.ZodSet:return fJ(t,n);case re.ZodLazy:return vt(t.getter()._def,n);case re.ZodPromise:return dJ(t,n);case re.ZodNaN:case re.ZodNever:return nJ();case re.ZodEffects:return ZX(t,n,r);case re.ZodAny:return UX();case re.ZodUnknown:return mJ();case re.ZodDefault:return WX(t,n);case re.ZodBranded:return HX(t,n);case re.ZodReadonly:return gJ(t,n);case re.ZodCatch:return qX(t,n);case re.ZodPipeline:return cJ(t,n);case re.ZodFunction:case re.ZodVoid:case re.ZodSymbol:return;default:return(a=>{})()}},_J=(t,e,n)=>(t.description&&(n.description=t.description,e.markdownDescription&&(n.markdownDescription=t.description)),n),wJ=(t,e)=>{const n=BX(e),r=typeof e=="string"?e:(e==null?void 0:e.nameStrategy)==="title"||e==null?void 0:e.name,a=vt(t._def,r===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,r]},!1)??{},i=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;i!==void 0&&(a.title=i);const o=(()=>{if(DX(n.definitions))return;const c={},f=new Set;for(let h=0;h<500;h++){const m=Object.entries(n.definitions).filter(([g])=>!f.has(g));if(m.length===0)break;for(const[g,b]of m)c[g]=vt(Dw(b),{...n,currentPath:[...n.basePath,n.definitionPath,g]},!0)??{},f.add(g)}return c})(),u=r===void 0?o?{...a,[n.definitionPath]:o}:a:n.nameStrategy==="duplicate-ref"?{...a,...o||n.seenRefs.size?{[n.definitionPath]:{...o,...n.seenRefs.size?{[r]:a}:void 0}}:void 0}:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,r].join("/"),[n.definitionPath]:{...o,[r]:a}};return n.target==="jsonSchema7"?u.$schema="http://json-schema.org/draft-07/schema#":n.target==="jsonSchema2019-09"&&(u.$schema="https://json-schema.org/draft/2019-09/schema#"),u};function SJ(t,e){return wJ(t,{openaiStrictMode:!0,name:e.name,nameStrategy:"duplicate-ref",$refStrategy:"extract-to-root",nullableStrategy:"property"})}function xJ(t,e,n){return r7({type:"json_schema",json_schema:{...n,name:e,strict:!0,schema:SJ(t,{name:e})}},r=>t.parse(JSON.parse(r)))}function EJ(t){const{azureOpenAIApiDeploymentName:e,azureOpenAIApiInstanceName:n,azureOpenAIApiKey:r,azureOpenAIBasePath:a,baseURL:i,azureADTokenProvider:o,azureOpenAIEndpoint:u}=t;if((r||o)&&a&&e)return`${a}/${e}`;if((r||o)&&u&&e)return`${u}/openai/deployments/${e}`;if(r||o){if(!n)throw new Error("azureOpenAIApiInstanceName is required when using azureOpenAIApiKey");if(!e)throw new Error("azureOpenAIApiDeploymentName is a required parameter when using azureOpenAIApiKey");return`https://${n}.openai.azure.com/openai/deployments/${e}`}return i}function TJ(t){return t!==void 0&&Array.isArray(t.lc_namespace)}function CJ(t){return t!==void 0&&Bn.isRunnable(t)&&"lc_name"in t.constructor&&typeof t.constructor.lc_name=="function"&&t.constructor.lc_name()==="RunnableToolLike"}function RJ(t){return!!t&&typeof t=="object"&&"name"in t&&"schema"in t&&(Wx(t.schema)||t.schema!=null&&typeof t.schema=="object"&&"type"in t.schema&&typeof t.schema.type=="string"&&["null","boolean","object","array","number","string"].includes(t.schema.type))}function t2(t){return RJ(t)||CJ(t)||TJ(t)}function AJ(t){return Wx(t)?ch(t):t}function OJ(t,e){return{name:t.name,description:t.description,parameters:AJ(t.schema)}}function kJ(t,e){let n;return t2(t)?n={type:"function",function:OJ(t)}:n=t,n}function dm(t,e){return t.lc_error_code=e,t.message=`${t.message}

Troubleshooting URL: https://js.langchain.com/docs/troubleshooting/errors/${e}/
`,t}function x_(t){let e;return t.constructor.name===Vg.name?(e=new Error(t.message),e.name="TimeoutError"):t.constructor.name===Hr.name?(e=new Error(t.message),e.name="AbortError"):t.status===400&&t.message.includes("tool_calls")?e=dm(t,"INVALID_TOOL_RESULTS"):t.status===401?e=dm(t,"MODEL_AUTHENTICATION"):t.status===429?e=dm(t,"MODEL_RATE_LIMIT"):t.status===404?e=dm(t,"MODEL_NOT_FOUND"):e=t,e}function OP(t){if(t)return t==="any"||t==="required"?"required":t==="auto"?"auto":t==="none"?"none":typeof t=="string"?{type:"function",function:{name:t}}:t}function PJ(t){return t.anyOf!==void 0&&Array.isArray(t.anyOf)}function $J(t){const e=["namespace functions {",""];for(const n of t)n.description&&e.push(`// ${n.description}`),Object.keys(n.parameters.properties??{}).length>0?(e.push(`type ${n.name} = (_: {`),e.push(n2(n.parameters,0)),e.push("}) => any;")):e.push(`type ${n.name} = () => any;`),e.push("");return e.push("} // namespace functions"),e.join(`
`)}function n2(t,e){var r;const n=[];for(const[a,i]of Object.entries(t.properties??{}))i.description&&e<2&&n.push(`// ${i.description}`),(r=t.required)!=null&&r.includes(a)?n.push(`${a}: ${fg(i,e)},`):n.push(`${a}?: ${fg(i,e)},`);return n.map(a=>" ".repeat(e)+a).join(`
`)}function fg(t,e){if(PJ(t))return t.anyOf.map(n=>fg(n,e)).join(" | ");switch(t.type){case"string":return t.enum?t.enum.map(n=>`"${n}"`).join(" | "):"string";case"number":return t.enum?t.enum.map(n=>`${n}`).join(" | "):"number";case"integer":return t.enum?t.enum.map(n=>`${n}`).join(" | "):"number";case"boolean":return"boolean";case"null":return"null";case"object":return["{",n2(t,e+2),"}"].join(`
`);case"array":return t.items?`${fg(t.items,e)}[]`:"any[]";default:return""}}function IJ(t,e){let n;return t2(t)?n=kJ(t):n=t,(e==null?void 0:e.strict)!==void 0&&(n.function.strict=e.strict),n}function jJ(t){return t.role!=="system"&&t.role!=="developer"&&t.role!=="assistant"&&t.role!=="user"&&t.role!=="function"&&t.role!=="tool"&&console.warn(`Unknown message role: ${t.role}`),t.role}function Yx(t){const e=t._getType();switch(e){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";case"generic":{if(!Ix.isInstance(t))throw new Error("Invalid generic chat message");return jJ(t)}default:throw new Error(`Unknown message type: ${e}`)}}const r2={providerName:"ChatOpenAI",fromStandardTextBlock(t){return{type:"text",text:t.text}},fromStandardImageBlock(t){var e,n;if(t.source_type==="url")return{type:"image_url",image_url:{url:t.url,...(e=t.metadata)!=null&&e.detail?{detail:t.metadata.detail}:{}}};if(t.source_type==="base64")return{type:"image_url",image_url:{url:`data:${t.mime_type??""};base64,${t.data}`,...(n=t.metadata)!=null&&n.detail?{detail:t.metadata.detail}:{}}};throw new Error(`Image content blocks with source_type ${t.source_type} are not supported for ChatOpenAI`)},fromStandardAudioBlock(t){if(t.source_type==="url"){const e=zO({dataUrl:t.url});if(!e)throw new Error(`URL audio blocks with source_type ${t.source_type} must be formatted as a data URL for ChatOpenAI`);const n=e.mime_type||t.mime_type||"";let r;try{r=UO(n)}catch{throw new Error(`Audio blocks with source_type ${t.source_type} must have mime type of audio/wav or audio/mp3`)}if(r.type!=="audio"||r.subtype!=="wav"&&r.subtype!=="mp3")throw new Error(`Audio blocks with source_type ${t.source_type} must have mime type of audio/wav or audio/mp3`);return{type:"input_audio",input_audio:{format:r.subtype,data:e.data}}}if(t.source_type==="base64"){let e;try{e=UO(t.mime_type??"")}catch{throw new Error(`Audio blocks with source_type ${t.source_type} must have mime type of audio/wav or audio/mp3`)}if(e.type!=="audio"||e.subtype!=="wav"&&e.subtype!=="mp3")throw new Error(`Audio blocks with source_type ${t.source_type} must have mime type of audio/wav or audio/mp3`);return{type:"input_audio",input_audio:{format:e.subtype,data:t.data}}}throw new Error(`Audio content blocks with source_type ${t.source_type} are not supported for ChatOpenAI`)},fromStandardFileBlock(t){var e,n,r,a,i,o,u,c,f,h;if(t.source_type==="url"){if(!zO({dataUrl:t.url}))throw new Error(`URL file blocks with source_type ${t.source_type} must be formatted as a data URL for ChatOpenAI`);return{type:"file",file:{file_data:t.url,...(e=t.metadata)!=null&&e.filename||(n=t.metadata)!=null&&n.name?{filename:((r=t.metadata)==null?void 0:r.filename)||((a=t.metadata)==null?void 0:a.name)}:{}}}}if(t.source_type==="base64")return{type:"file",file:{file_data:`data:${t.mime_type??""};base64,${t.data}`,...(i=t.metadata)!=null&&i.filename||(o=t.metadata)!=null&&o.name||(u=t.metadata)!=null&&u.title?{filename:((c=t.metadata)==null?void 0:c.filename)||((f=t.metadata)==null?void 0:f.name)||((h=t.metadata)==null?void 0:h.title)}:{}}};if(t.source_type==="id")return{type:"file",file:{file_id:t.id}};throw new Error(`File content blocks with source_type ${t.source_type} are not supported for ChatOpenAI`)}};function kP(t,e){return t.flatMap(n=>{var o;let r=Yx(n);r==="system"&&hg(e)&&(r="developer");const a=typeof n.content=="string"?n.content:n.content.map(u=>qo(u)?oM(u,r2):u),i={role:r,content:a};if(n.name!=null&&(i.name=n.name),n.additional_kwargs.function_call!=null&&(i.function_call=n.additional_kwargs.function_call,i.content=""),Bs(n)&&((o=n.tool_calls)!=null&&o.length)?(i.tool_calls=n.tool_calls.map(jX),i.content=""):(n.additional_kwargs.tool_calls!=null&&(i.tool_calls=n.additional_kwargs.tool_calls),n.tool_call_id!=null&&(i.tool_call_id=n.tool_call_id)),n.additional_kwargs.audio&&typeof n.additional_kwargs.audio=="object"&&"id"in n.additional_kwargs.audio){const u={role:"assistant",audio:{id:n.additional_kwargs.audio.id}};return[i,u]}return i})}const du="__openai_function_call_ids__";function NJ(t){const e=(t.summary.length>1?t.summary.reduce((n,r)=>{const a=n.at(-1);return a.index===r.index?a.text+=r.text:n.push(r),n},[{...t.summary[0]}]):t.summary).map(n=>Object.fromEntries(Object.entries(n).filter(([r])=>r!=="index")));return{...t,summary:e}}function PP(t,e,n){var o;const r=t.filter(u=>Bs(u)).pop(),a=(o=r==null?void 0:r.response_metadata)==null?void 0:o.id;return(a&&a.startsWith("resp_")&&!n?t.slice(t.indexOf(r)+1):t).flatMap(u=>{var h,m,g;let c=Yx(u);if(c==="system"&&hg(e)&&(c="developer"),c==="function")throw new Error("Function messages are not supported in Responses API");if(c==="tool"){const b=u;return((h=b.additional_kwargs)==null?void 0:h.type)==="computer_call_output"?{type:"computer_call_output",output:(()=>{if(typeof b.content=="string")return{type:"computer_screenshot",image_url:b.content};if(Array.isArray(b.content)){const w=b.content.find(x=>x.type==="computer_screenshot");if(w)return w;const S=b.content.find(x=>x.type==="image_url");if(S)return{type:"computer_screenshot",image_url:typeof S.image_url=="string"?S.image_url:S.image_url.url}}throw new Error("Invalid computer call output")})(),call_id:b.tool_call_id}:{type:"function_call_output",call_id:b.tool_call_id,id:b.id,output:typeof b.content!="string"?JSON.stringify(b.content):b.content}}if(c==="assistant"){if(!n&&u.response_metadata.output!=null&&Array.isArray(u.response_metadata.output)&&u.response_metadata.output.length>0&&u.response_metadata.output.every(C=>"type"in C))return u.response_metadata.output;const b=[];if(!n&&u.additional_kwargs.reasoning!=null&&(E=>typeof E=="object"&&E!=null&&"type"in E&&E.type==="reasoning")(u.additional_kwargs.reasoning)){const E=NJ(u.additional_kwargs.reasoning);b.push(E)}let{content:v}=u;u.additional_kwargs.refusal!=null&&(typeof v=="string"&&(v=[{type:"output_text",text:v,annotations:[]}]),v=[...v,{type:"refusal",refusal:u.additional_kwargs.refusal}]),b.push({type:"message",role:"assistant",...u.id&&!n?{id:u.id}:{},content:typeof v=="string"?v:v.flatMap(C=>C.type==="text"?{type:"output_text",text:C.text,annotations:C.annotations??[]}:C.type==="output_text"||C.type==="refusal"?C:[])});const w=u.additional_kwargs[du];Bs(u)&&((m=u.tool_calls)!=null&&m.length)?b.push(...u.tool_calls.map(C=>({type:"function_call",name:C.name,arguments:JSON.stringify(C.args),call_id:C.id,...n?{id:w==null?void 0:w[C.id]}:{}}))):u.additional_kwargs.tool_calls!=null&&b.push(...u.additional_kwargs.tool_calls.map(C=>({type:"function_call",name:C.function.name,call_id:C.id,...n?{id:w==null?void 0:w[C.id]}:{},arguments:C.function.arguments})));const S=(g=u.response_metadata.output)!=null&&g.length?u.response_metadata.output:u.additional_kwargs.tool_outputs;let x=[];if(S!=null){const C=S;x=C==null?void 0:C.filter(E=>E.type==="computer_call"),x.length>0&&b.push(...x)}return b}const f=typeof u.content=="string"?u.content:u.content.flatMap(b=>{if(qo(b))return oM(b,r2);if(b.type==="text")return{type:"input_text",text:b.text};if(b.type==="image_url"){const v=typeof b.image_url=="string"?b.image_url:b.image_url.url,w=typeof b.image_url=="string"?"auto":b.image_url.detail;return{type:"input_image",image_url:v,detail:w}}return b.type==="input_text"||b.type==="input_image"||b.type==="input_file"?b:[]});return c==="user"||c==="system"||c==="developer"?{type:"message",role:c,content:f}:(console.warn(`Unsupported role found when converting to OpenAI Responses API: ${c}`),[])})}function a2(t){if(t.error){const u=new Error(t.error.message);throw u.name=t.error.code,u}let e;const n=[],r=[],a=[],i={model:t.model,created_at:t.created_at,id:t.id,incomplete_details:t.incomplete_details,metadata:t.metadata,object:t.object,status:t.status,user:t.user,model_name:t.model},o={};for(const u of t.output)if(u.type==="message")e=u.id,n.push(...u.content.flatMap(c=>c.type==="output_text"?("parsed"in c&&c.parsed!=null&&(o.parsed=c.parsed),{type:"text",text:c.text,annotations:c.annotations}):c.type==="refusal"?(o.refusal=c.refusal,[]):c));else if(u.type==="function_call"){const c={function:{name:u.name,arguments:u.arguments},id:u.call_id};try{r.push(Kx(c,{returnId:!0}))}catch(f){let h;typeof f=="object"&&f!=null&&"message"in f&&typeof f.message=="string"&&(h=f.message),a.push(YM(c,h))}o[du]??(o[du]={}),u.id&&(o[du][u.call_id]=u.id)}else u.type==="reasoning"?o.reasoning=u:(o.tool_outputs??(o.tool_outputs=[]),o.tool_outputs.push(u));return new ff({id:e,content:n,tool_calls:r,invalid_tool_calls:a,usage_metadata:t.usage,additional_kwargs:o,response_metadata:i})}function MJ(t){var c,f;const e=[];let n={},r;const a=[],i={},o={};let u;if(t.type==="response.output_text.delta")e.push({type:"text",text:t.delta,index:t.content_index});else if(t.type==="response.output_text.annotation.added")e.push({type:"text",text:"",annotations:[t.annotation],index:t.content_index});else if(t.type==="response.output_item.added"&&t.item.type==="message")u=t.item.id;else if(t.type==="response.output_item.added"&&t.item.type==="function_call")a.push({type:"tool_call_chunk",name:t.item.name,args:t.item.arguments,id:t.item.call_id,index:t.output_index}),o[du]={[t.item.call_id]:t.item.id};else if(t.type==="response.output_item.done"&&(t.item.type==="web_search_call"||t.item.type==="file_search_call"||t.item.type==="computer_call"))o.tool_outputs=[t.item];else if(t.type==="response.created")i.id=t.response.id,i.model_name=t.response.model,i.model=t.response.model;else if(t.type==="response.completed"){const h=a2(t.response);r=t.response.usage,((f=(c=t.response.text)==null?void 0:c.format)==null?void 0:f.type)==="json_schema"&&(o.parsed??(o.parsed=JSON.parse(h.text)));for(const[m,g]of Object.entries(t.response))m!=="id"&&(i[m]=g)}else if(t.type==="response.function_call_arguments.delta")a.push({type:"tool_call_chunk",args:t.delta,index:t.output_index});else if(t.type==="response.web_search_call.completed"||t.type==="response.file_search_call.completed")n={tool_outputs:{id:t.item_id,type:t.type.replace("response.","").replace(".completed",""),status:"completed"}};else if(t.type==="response.refusal.done")o.refusal=t.refusal;else if(t.type==="response.output_item.added"&&"item"in t&&t.item.type==="reasoning"){const h=t.item.summary?t.item.summary.map((m,g)=>({...m,index:g})):void 0;o.reasoning={id:t.item.id,type:t.item.type,...h?{summary:h}:{}}}else if(t.type==="response.reasoning_summary_part.added")o.reasoning={type:"reasoning",summary:[{...t.part,index:t.summary_index}]};else if(t.type==="response.reasoning_summary_text.delta")o.reasoning={type:"reasoning",summary:[{text:t.delta,type:"summary_text",index:t.summary_index}]};else return null;return new Ko({text:e.map(h=>h.text).join(""),message:new Hs({id:u,content:e,tool_call_chunks:a,usage_metadata:r,additional_kwargs:o,response_metadata:i}),generationInfo:n})}function E_(t){return"type"in t&&t.type!=="function"}function LJ(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type!=="function"}function $P(t,e){return WM(t)?(e==null?void 0:e.strict)!==void 0?{...t,function:{...t.function,strict:e.strict}}:t:IJ(t,e)}function hg(t){return t&&/^o\d/.test(t)}class DJ extends Ms{static lc_name(){return"ChatOpenAI"}get callKeys(){return[...super.callKeys,"options","function_call","functions","tools","tool_choice","promptIndex","response_format","seed","reasoning_effort"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",apiKey:"OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",apiKey:"openai_api_key"}}get lc_serializable_keys(){return["configuration","logprobs","topLogprobs","prefixMessages","supportsStrictToolCalling","modalities","audio","reasoningEffort","temperature","maxTokens","topP","frequencyPenalty","presencePenalty","n","logitBias","user","streaming","streamUsage","modelName","model","modelKwargs","stop","stopSequences","timeout","openAIApiKey","apiKey","cache","maxConcurrency","maxRetries","verbose","callbacks","tags","metadata","disableStreaming","useResponsesApi","zdrEnabled","reasoning"]}constructor(e){var n,r,a;super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"streamUsage",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logprobs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topLogprobs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__includeRawResponse",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"supportsStrictToolCalling",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"audio",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modalities",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reasoningEffort",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reasoning",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"useResponsesApi",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"zdrEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=(e==null?void 0:e.apiKey)??(e==null?void 0:e.openAIApiKey)??((n=e==null?void 0:e.configuration)==null?void 0:n.apiKey)??si("OPENAI_API_KEY"),this.apiKey=this.openAIApiKey,this.organization=((r=e==null?void 0:e.configuration)==null?void 0:r.organization)??si("OPENAI_ORGANIZATION"),this.model=(e==null?void 0:e.model)??(e==null?void 0:e.modelName)??this.model,this.modelName=this.model,this.modelKwargs=(e==null?void 0:e.modelKwargs)??{},this.timeout=e==null?void 0:e.timeout,this.temperature=(e==null?void 0:e.temperature)??this.temperature,this.topP=(e==null?void 0:e.topP)??this.topP,this.frequencyPenalty=(e==null?void 0:e.frequencyPenalty)??this.frequencyPenalty,this.presencePenalty=(e==null?void 0:e.presencePenalty)??this.presencePenalty,this.logprobs=e==null?void 0:e.logprobs,this.topLogprobs=e==null?void 0:e.topLogprobs,this.n=(e==null?void 0:e.n)??this.n,this.logitBias=e==null?void 0:e.logitBias,this.stop=(e==null?void 0:e.stopSequences)??(e==null?void 0:e.stop),this.stopSequences=this.stop,this.user=e==null?void 0:e.user,this.__includeRawResponse=e==null?void 0:e.__includeRawResponse,this.audio=e==null?void 0:e.audio,this.modalities=e==null?void 0:e.modalities,this.reasoningEffort=(e==null?void 0:e.reasoningEffort)??((a=e==null?void 0:e.reasoning)==null?void 0:a.effort),this.reasoning=(e==null?void 0:e.reasoning)??(e!=null&&e.reasoningEffort?{effort:e.reasoningEffort}:void 0),this.maxTokens=(e==null?void 0:e.maxCompletionTokens)??(e==null?void 0:e.maxTokens),this.useResponsesApi=(e==null?void 0:e.useResponsesApi)??this.useResponsesApi,this.disableStreaming=(e==null?void 0:e.disableStreaming)??this.disableStreaming,this.model==="o1"&&(this.disableStreaming=!0),this.streaming=(e==null?void 0:e.streaming)??!1,this.disableStreaming&&(this.streaming=!1),this.streamUsage=(e==null?void 0:e.streamUsage)??this.streamUsage,this.disableStreaming&&(this.streamUsage=!1),this.clientConfig={apiKey:this.apiKey,organization:this.organization,dangerouslyAllowBrowser:!0,...e==null?void 0:e.configuration},(e==null?void 0:e.supportsStrictToolCalling)!==void 0&&(this.supportsStrictToolCalling=e.supportsStrictToolCalling),this.zdrEnabled=(e==null?void 0:e.zdrEnabled)??!1}getLsParams(e){const n=this.invocationParams(e);return{ls_provider:"openai",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:n.temperature??void 0,ls_max_tokens:n.max_tokens??void 0,ls_stop:e.stop}}bindTools(e,n){let r;return(n==null?void 0:n.strict)!==void 0?r=n.strict:this.supportsStrictToolCalling!==void 0&&(r=this.supportsStrictToolCalling),this.bind({tools:e.map(a=>E_(a)?a:$P(a,{strict:r})),...n})}createResponseFormat(e){return e&&e.type==="json_schema"&&e.json_schema.schema&&fm(e.json_schema.schema)?xJ(e.json_schema.schema,e.json_schema.name,{description:e.json_schema.description}):e}getReasoningParams(e){if(!hg(this.model))return;let n;return this.reasoningEffort!==void 0&&(n={effort:this.reasoningEffort}),this.reasoning!==void 0&&(n={...n,...this.reasoning}),(e==null?void 0:e.reasoning_effort)!==void 0&&(n={...n,effort:e.reasoning_effort}),(e==null?void 0:e.reasoning)!==void 0&&(n={...n,...e.reasoning}),n}invocationParams(e,n){var u,c;let r;if((e==null?void 0:e.strict)!==void 0?r=e.strict:this.supportsStrictToolCalling!==void 0&&(r=this.supportsStrictToolCalling),this._useResponseApi(e)){const f={model:this.model,temperature:this.temperature,top_p:this.topP,user:this.user,stream:this.streaming,previous_response_id:e==null?void 0:e.previous_response_id,truncation:e==null?void 0:e.truncation,include:e==null?void 0:e.include,tools:(u=e==null?void 0:e.tools)!=null&&u.length?e.tools.map(m=>E_(m)?m:WM(m)?{type:"function",name:m.function.name,parameters:m.function.parameters,description:m.function.description,strict:r}:null).filter(m=>m!==null):void 0,tool_choice:LJ(e==null?void 0:e.tool_choice)?e==null?void 0:e.tool_choice:(()=>{const m=OP(e==null?void 0:e.tool_choice);if(typeof m=="object"&&"type"in m)return{type:"function",name:m.function.name}})(),text:(()=>{if(e!=null&&e.text)return e.text;const m=this.createResponseFormat(e==null?void 0:e.response_format);return(m==null?void 0:m.type)==="json_schema"?m.json_schema.schema!=null?{format:{type:"json_schema",schema:m.json_schema.schema,description:m.json_schema.description,name:m.json_schema.name,strict:m.json_schema.strict}}:void 0:{format:m}})(),parallel_tool_calls:e==null?void 0:e.parallel_tool_calls,max_output_tokens:this.maxTokens===-1?void 0:this.maxTokens,...this.zdrEnabled?{store:!1}:{},...this.modelKwargs},h=this.getReasoningParams(e);return h!==void 0&&(f.reasoning=h),f}let a={};(e==null?void 0:e.stream_options)!==void 0?a={stream_options:e.stream_options}:this.streamUsage&&(this.streaming||n!=null&&n.streaming)&&(a={stream_options:{include_usage:!0}});const i={model:this.model,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,logprobs:this.logprobs,top_logprobs:this.topLogprobs,n:this.n,logit_bias:this.logitBias,stop:(e==null?void 0:e.stop)??this.stopSequences,user:this.user,stream:this.streaming,functions:e==null?void 0:e.functions,function_call:e==null?void 0:e.function_call,tools:(c=e==null?void 0:e.tools)!=null&&c.length?e.tools.map(f=>$P(f,{strict:r})):void 0,tool_choice:OP(e==null?void 0:e.tool_choice),response_format:this.createResponseFormat(e==null?void 0:e.response_format),seed:e==null?void 0:e.seed,...a,parallel_tool_calls:e==null?void 0:e.parallel_tool_calls,...this.audio||e!=null&&e.audio?{audio:this.audio||(e==null?void 0:e.audio)}:{},...this.modalities||e!=null&&e.modalities?{modalities:this.modalities||(e==null?void 0:e.modalities)}:{},...this.modelKwargs};(e==null?void 0:e.prediction)!==void 0&&(i.prediction=e.prediction);const o=this.getReasoningParams(e);return o!==void 0&&o.effort!==void 0&&(i.reasoning_effort=o.effort),hg(i.model)?i.max_completion_tokens=this.maxTokens===-1?void 0:this.maxTokens:i.max_tokens=this.maxTokens===-1?void 0:this.maxTokens,i}_convertOpenAIChatCompletionMessageToBaseMessage(e,n){const r=e.tool_calls;switch(e.role){case"assistant":{const a=[],i=[];for(const c of r??[])try{a.push(Kx(c,{returnId:!0}))}catch(f){i.push(YM(c,f.message))}const o={function_call:e.function_call,tool_calls:r};this.__includeRawResponse!==void 0&&(o.__raw_response=n);const u={model_name:n.model,...n.system_fingerprint?{usage:{...n.usage},system_fingerprint:n.system_fingerprint}:{}};return e.audio&&(o.audio=e.audio),new ff({content:e.content||"",tool_calls:a,invalid_tool_calls:i,additional_kwargs:o,response_metadata:u,id:n.id})}default:return new Ix(e.content||"",e.role??"unknown")}}_convertOpenAIDeltaToBaseMessageChunk(e,n,r){var c,f;const a=e.role??r,i=e.content??"";let o;e.function_call?o={function_call:e.function_call}:e.tool_calls?o={tool_calls:e.tool_calls}:o={},this.__includeRawResponse&&(o.__raw_response=n),e.audio&&(o.audio={...e.audio,index:n.choices[0].index});const u={usage:{...n.usage}};if(a==="user")return new iy({content:i,response_metadata:u});if(a==="assistant"){const h=[];if(Array.isArray(e.tool_calls))for(const m of e.tool_calls)h.push({name:(c=m.function)==null?void 0:c.name,args:(f=m.function)==null?void 0:f.arguments,id:m.id,index:m.index,type:"tool_call_chunk"});return new Hs({content:i,tool_call_chunks:h,additional_kwargs:o,id:n.id,response_metadata:u})}else return a==="system"?new hf({content:i,response_metadata:u}):a==="developer"?new hf({content:i,response_metadata:u,additional_kwargs:{__openai_role__:"developer"}}):a==="function"?new ay({content:i,additional_kwargs:o,name:e.name,response_metadata:u}):a==="tool"?new $x({content:i,additional_kwargs:o,tool_call_id:e.tool_call_id,response_metadata:u}):new ry({content:i,role:a,response_metadata:u})}_identifyingParams(){return{model_name:this.model,...this.invocationParams(),...this.clientConfig}}async*_streamResponseChunks(e,n,r){var f,h,m,g,b,v,w,S,x,C,E;if(this._useResponseApi(n)){const O=e.filter(D=>Bs(D)).pop(),A=(f=O==null?void 0:O.response_metadata)==null?void 0:f.id,N=await this.responseApiWithRetry({...this.invocationParams(n,{streaming:!0}),input:PP(e,this.model,this.zdrEnabled),stream:!0,...A&&A.startsWith("resp_")&&!this.zdrEnabled?{previous_response_id:A}:{}},n);for await(const D of N){const P=MJ(D);P!=null&&(yield P)}return}const a=kP(e,this.model),i={...this.invocationParams(n,{streaming:!0}),messages:a,stream:!0};let o;const u=await this.completionWithRetry(i,n);let c;for await(const O of u){const A=(h=O==null?void 0:O.choices)==null?void 0:h[0];if(O.usage&&(c=O.usage),!A)continue;const{delta:N}=A;if(!N)continue;const D=this._convertOpenAIDeltaToBaseMessageChunk(N,O,o);o=N.role??o;const P={prompt:n.promptIndex??0,completion:A.index??0};if(typeof D.content!="string"){console.log("[WARNING]: Received non-string content from OpenAI. This is currently not supported.");continue}const L={...P};A.finish_reason!=null&&(L.finish_reason=A.finish_reason,L.system_fingerprint=O.system_fingerprint,L.model_name=O.model),this.logprobs&&(L.logprobs=A.logprobs);const T=new Ko({message:D,text:D.content,generationInfo:L});yield T,await(r==null?void 0:r.handleLLMNewToken(T.text??"",P,void 0,void 0,void 0,{chunk:T}))}if(c){const O={...((m=c.prompt_tokens_details)==null?void 0:m.audio_tokens)!==null&&{audio:(g=c.prompt_tokens_details)==null?void 0:g.audio_tokens},...((b=c.prompt_tokens_details)==null?void 0:b.cached_tokens)!==null&&{cache_read:(v=c.prompt_tokens_details)==null?void 0:v.cached_tokens}},A={...((w=c.completion_tokens_details)==null?void 0:w.audio_tokens)!==null&&{audio:(S=c.completion_tokens_details)==null?void 0:S.audio_tokens},...((x=c.completion_tokens_details)==null?void 0:x.reasoning_tokens)!==null&&{reasoning:(C=c.completion_tokens_details)==null?void 0:C.reasoning_tokens}};yield new Ko({message:new Hs({content:"",response_metadata:{usage:{...c}},usage_metadata:{input_tokens:c.prompt_tokens,output_tokens:c.completion_tokens,total_tokens:c.total_tokens,...Object.keys(O).length>0&&{input_token_details:O},...Object.keys(A).length>0&&{output_token_details:A}}}),text:""})}if((E=n.signal)!=null&&E.aborted)throw new Error("AbortError")}identifyingParams(){return this._identifyingParams()}async _responseApiGenerate(e,n,r){var f,h;const a=this.invocationParams(n);if(a.stream){const m=this._streamResponseChunks(e,n,r);let g;for await(const b of m)b.message.response_metadata={...b.generationInfo,...b.message.response_metadata},g=(g==null?void 0:g.concat(b))??b;return{generations:g?[g]:[],llmOutput:{estimatedTokenUsage:(f=g==null?void 0:g.message)==null?void 0:f.usage_metadata}}}const i=e.filter(m=>Bs(m)).pop(),o=(h=i==null?void 0:i.response_metadata)==null?void 0:h.id,u=PP(e,this.model,this.zdrEnabled),c=await this.responseApiWithRetry({input:u,...a,...o&&o.startsWith("resp_")&&!this.zdrEnabled?{previous_response_id:o}:{}},{signal:n==null?void 0:n.signal,...n==null?void 0:n.options});return{generations:[{text:c.output_text,message:a2(c)}],llmOutput:{id:c.id,estimatedTokenUsage:c.usage?{promptTokens:c.usage.input_tokens,completionTokens:c.usage.output_tokens,totalTokens:c.usage.total_tokens}:void 0}}}_useResponseApi(e){var a,i,o;const n=(a=e==null?void 0:e.tools)==null?void 0:a.some(E_),r=(e==null?void 0:e.previous_response_id)!=null||(e==null?void 0:e.text)!=null||(e==null?void 0:e.truncation)!=null||(e==null?void 0:e.include)!=null||((i=e==null?void 0:e.reasoning)==null?void 0:i.summary)!=null||((o=this.reasoning)==null?void 0:o.summary)!=null;return this.useResponsesApi||n||r}async _generate(e,n,r){var u,c;if(this._useResponseApi(n))return this._responseApiGenerate(e,n,r);const a={},i=this.invocationParams(n),o=kP(e,this.model);if(i.stream){const f=this._streamResponseChunks(e,n,r),h={};for await(const S of f){S.message.response_metadata={...S.generationInfo,...S.message.response_metadata};const x=((u=S.generationInfo)==null?void 0:u.completion)??0;h[x]===void 0?h[x]=S:h[x]=h[x].concat(S)}const m=Object.entries(h).sort(([S],[x])=>parseInt(S,10)-parseInt(x,10)).map(([S,x])=>x),{functions:g,function_call:b}=this.invocationParams(n),v=await this.getEstimatedTokenCountFromPrompt(e,g,b),w=await this.getNumTokensFromGenerations(m);return a.input_tokens=v,a.output_tokens=w,a.total_tokens=v+w,{generations:m,llmOutput:{estimatedTokenUsage:{promptTokens:a.input_tokens,completionTokens:a.output_tokens,totalTokens:a.total_tokens}}}}else{let f;n.response_format&&n.response_format.type==="json_schema"?f=await this.betaParsedCompletionWithRetry({...i,stream:!1,messages:o},{signal:n==null?void 0:n.signal,...n==null?void 0:n.options}):f=await this.completionWithRetry({...i,stream:!1,messages:o},{signal:n==null?void 0:n.signal,...n==null?void 0:n.options});const{completion_tokens:h,prompt_tokens:m,total_tokens:g,prompt_tokens_details:b,completion_tokens_details:v}=(f==null?void 0:f.usage)??{};h&&(a.output_tokens=(a.output_tokens??0)+h),m&&(a.input_tokens=(a.input_tokens??0)+m),g&&(a.total_tokens=(a.total_tokens??0)+g),((b==null?void 0:b.audio_tokens)!==null||(b==null?void 0:b.cached_tokens)!==null)&&(a.input_token_details={...(b==null?void 0:b.audio_tokens)!==null&&{audio:b==null?void 0:b.audio_tokens},...(b==null?void 0:b.cached_tokens)!==null&&{cache_read:b==null?void 0:b.cached_tokens}}),((v==null?void 0:v.audio_tokens)!==null||(v==null?void 0:v.reasoning_tokens)!==null)&&(a.output_token_details={...(v==null?void 0:v.audio_tokens)!==null&&{audio:v==null?void 0:v.audio_tokens},...(v==null?void 0:v.reasoning_tokens)!==null&&{reasoning:v==null?void 0:v.reasoning_tokens}});const w=[];for(const S of(f==null?void 0:f.choices)??[]){const C={text:((c=S.message)==null?void 0:c.content)??"",message:this._convertOpenAIChatCompletionMessageToBaseMessage(S.message??{role:"assistant"},f)};C.generationInfo={...S.finish_reason?{finish_reason:S.finish_reason}:{},...S.logprobs?{logprobs:S.logprobs}:{}},Bs(C.message)&&(C.message.usage_metadata=a),C.message=new ff(Object.fromEntries(Object.entries(C.message).filter(([E])=>!E.startsWith("lc_")))),w.push(C)}return{generations:w,llmOutput:{tokenUsage:{promptTokens:a.input_tokens,completionTokens:a.output_tokens,totalTokens:a.total_tokens}}}}}async getEstimatedTokenCountFromPrompt(e,n,r){let a=(await this.getNumTokensFromMessages(e)).totalCount;if(n&&r!=="auto"){const i=$J(n);a+=await this.getNumTokens(i),a+=9}return n&&e.find(i=>i._getType()==="system")&&(a-=4),r==="none"?a+=1:typeof r=="object"&&(a+=await this.getNumTokens(r.name)+4),a}async getNumTokensFromGenerations(e){return(await Promise.all(e.map(async r=>{var a;return(a=r.message.additional_kwargs)!=null&&a.function_call?(await this.getNumTokensFromMessages([r.message])).countPerMessage[0]:await this.getNumTokens(r.message.content)}))).reduce((r,a)=>r+a,0)}async getNumTokensFromMessages(e){let n=0,r=0,a=0;this.model==="gpt-3.5-turbo-0301"?(r=4,a=-1):(r=3,a=1);const i=await Promise.all(e.map(async o=>{var g,b,v,w,S,x;const u=await this.getNumTokens(o.content),c=await this.getNumTokens(Yx(o)),f=o.name!==void 0?a+await this.getNumTokens(o.name):0;let h=u+r+c+f;const m=o;if(m._getType()==="function"&&(h-=2),(g=m.additional_kwargs)!=null&&g.function_call&&(h+=3),(b=m==null?void 0:m.additional_kwargs.function_call)!=null&&b.name&&(h+=await this.getNumTokens((v=m.additional_kwargs.function_call)==null?void 0:v.name)),(w=m.additional_kwargs.function_call)!=null&&w.arguments)try{h+=await this.getNumTokens(JSON.stringify(JSON.parse((S=m.additional_kwargs.function_call)==null?void 0:S.arguments)))}catch(C){console.error("Error parsing function arguments",C,JSON.stringify(m.additional_kwargs.function_call)),h+=await this.getNumTokens((x=m.additional_kwargs.function_call)==null?void 0:x.arguments)}return n+=h,h}));return n+=3,{totalCount:n,countPerMessage:i}}async completionWithRetry(e,n){const r=this._getClientOptions(n);return this.caller.call(async()=>{try{return await this.client.chat.completions.create(e,r)}catch(a){throw x_(a)}})}async responseApiWithRetry(e,n){return this.caller.call(async()=>{var a,i;const r=this._getClientOptions(n);try{return((i=(a=e.text)==null?void 0:a.format)==null?void 0:i.type)==="json_schema"&&!e.stream?await this.client.responses.parse(e,r):await this.client.responses.create(e,r)}catch(o){throw x_(o)}})}async betaParsedCompletionWithRetry(e,n){const r=this._getClientOptions(n);return this.caller.call(async()=>{try{return await this.client.beta.chat.completions.parse(e,r)}catch(a){throw x_(a)}})}_getClientOptions(e){if(!this.client){const r={baseURL:this.clientConfig.baseURL},a=EJ(r),i={...this.clientConfig,baseURL:a,timeout:this.timeout,maxRetries:0};i.baseURL||delete i.baseURL,this.client=new qe(i)}return{...this.clientConfig,...e}}_llmType(){return"openai"}_combineLLMOutput(...e){return e.reduce((n,r)=>(r&&r.tokenUsage&&(n.tokenUsage.completionTokens+=r.tokenUsage.completionTokens??0,n.tokenUsage.promptTokens+=r.tokenUsage.promptTokens??0,n.tokenUsage.totalTokens+=r.tokenUsage.totalTokens??0),n),{tokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}withStructuredOutput(e,n){let r,a,i,o;BJ(e)?(r=e.schema,a=e.name,i=e.method,o=e.includeRaw):(r=e,a=n==null?void 0:n.name,i=n==null?void 0:n.method,o=n==null?void 0:n.includeRaw);let u,c;if((n==null?void 0:n.strict)!==void 0&&i==="jsonMode")throw new Error("Argument `strict` is only supported for `method` = 'function_calling'");if(!this.model.startsWith("gpt-3")&&!this.model.startsWith("gpt-4-")&&this.model!=="gpt-4"?i===void 0&&(i="jsonSchema"):i==="jsonSchema"&&console.warn(`[WARNING]: JSON Schema is not supported for model "${this.model}". Falling back to tool calling.`),i==="jsonMode")u=this.bind({response_format:{type:"json_object"}}),fm(r)?c=xP.fromZodSchema(r):c=new EP;else if(i==="jsonSchema")if(u=this.bind({response_format:{type:"json_schema",json_schema:{name:a??"extract",description:r.description,schema:r,strict:n==null?void 0:n.strict}}}),fm(r)){const g=xP.fromZodSchema(r);c=tc.from(b=>"parsed"in b.additional_kwargs?b.additional_kwargs.parsed:g)}else c=new EP;else{let g=a??"extract";if(fm(r)){const b=ch(r);u=this.bind({tools:[{type:"function",function:{name:g,description:b.description,parameters:b}}],tool_choice:{type:"function",function:{name:g}},...(n==null?void 0:n.strict)!==void 0?{strict:n.strict}:{}}),c=new TP({returnSingle:!0,keyName:g,zodSchema:r})}else{let b;typeof r.name=="string"&&typeof r.parameters=="object"&&r.parameters!=null?(b=r,g=r.name):(g=r.title??g,b={name:g,description:r.description??"",parameters:r}),u=this.bind({tools:[{type:"function",function:b}],tool_choice:{type:"function",function:{name:g}},...(n==null?void 0:n.strict)!==void 0?{strict:n.strict}:{}}),c=new TP({returnSingle:!0,keyName:g})}}if(!o)return u.pipe(c);const f=cg.assign({parsed:(g,b)=>c.invoke(g.raw,b)}),h=cg.assign({parsed:()=>null}),m=f.withFallbacks({fallbacks:[h]});return Fi.from([{raw:u},m])}}function fm(t){return typeof(t==null?void 0:t.parse)=="function"}function BJ(t){return t!==void 0&&typeof t.schema=="object"}const UJ=new DJ({modelName:"gpt-4o",temperature:.2,openAIApiKey:"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"}),IP=async(t,e)=>{const n=zJ(t),r=await FJ(),a=`당신은 맥도날드 주문을 돕는 AI 주문 키오스크입니다. 고객이 메뉴를 선택하고 주문할 수 있도록 친절하게 안내해 주세요.

    맥도날드 지점은 부산 해운대구 센텀서로구로 100번길 10 맥도날드 센텀점입니다.

    현재 고객의 장바구니:
    ${n}

    메뉴 정보:
    ${r}
    
    주문 번호:
    

    당신의 역할:
    1. 고객의 메뉴 질문에 답변하기 (메뉴 추천, 메뉴 설명 등)
    2. 고객이 원하는 메뉴를 장바구니에 추가하기
    3. 고객이 요청하면 메뉴 수량 변경하기
    4. 고객이 요청하면 장바구니에서 메뉴 제거하기
    5. 주문을 완료할 준비가 되었는지 확인하기
    6. 메뉴 정보를 그대로 보여주지는 말고 메뉴 이름과 가격만 보여줘


    7. 고객이 메뉴를 주문하려 할 때는 다음 형식으로 응답하고 추가되었다는 메시지를 보내주고 더 필요한게 있는지 물어봐줘:
    MENU_ADD|메뉴ID|수량|옵션ID1,옵션ID2,...

    ex) MENU_ADD|1|1|2

    8.고객이 수량을 변경하려 할 때는 다음 형식으로 응답하고 수량이 변경되었다는 메시지를 보내줘:
    MENU_UPDATE|메뉴ID|수량

    예시:
      - 콜라 주문: MENU_ADD|10|1
      - 빅맥 2개 주문: MENU_ADD|1|2

    9. 고객이 메뉴를 제거하려 할 때는 다음 형식으로 응답하고 제거되었다는 메시지를 보내줘:
    MENU_REMOVE|메뉴ID

    10. MENU_ADD, MENU_UPDATE, MENU_REMOVE 형식이 아니면 대화중인 카테고리 메뉴에 따라 아래 형식으로 응답하고 친절하게 설명해줘
    SHOW_BURGER : 버거에 대해 대화할 때
    SHOW_SIDE : 사이드에 대해 대화할 때
    SHOW_DRINK : 음료에 대해 대화할 때
    SHOW_DESSERT : 디저트에 대해 대화할 때

    11.주문을 완료하겠다는 답변이 있으면 아래 형식으로 응답해주고 다른 말은 하지 말아줘.
    ORDER_COMPLETE


    12.일반적인 대화는 그냥 자연스럽게 응답하세요.
    `;return console.log("systemPropmpt",a),a},zJ=t=>{if(t.length===0)return"장바구니가 비어 있습니다.";let e="";t.forEach((r,a)=>{e+=`${a+1}. ${r.name} - ${r.quantity}개 (${r.price.toLocaleString()}원)
`,r.options.length>0&&r.options.forEach(i=>{e+=`   - ${i.name} (${i.price_adjustment>0?"+":""}${i.price_adjustment.toLocaleString()}원)
`}),r.special_instructions&&(e+=`   - 요청사항: ${r.special_instructions}
`)});const n=t.reduce((r,a)=>r+a.price*a.quantity,0);return e+=`
총 금액: ${n.toLocaleString()}원`,console.log("result",e),e},FJ=async()=>{const t=await hG();console.log("menuItems",t);let e=`메뉴 ID - 메뉴 이름 - 가격 - 카테고리 
`;return t.forEach(n=>{var r;e+=`${n.id} - ${n.name} - ${n.price} - ${(r=n.menu_categories)==null?void 0:r.name}
`}),e};class VJ{constructor(){this.conversationState={messages:[]}}async initializeConversation(e=[]){const n=new ou(await IP(e));return this.conversationState.messages=[n],"대화가 초기화되었습니다."}async processMessage(e,n=[]){try{const r=await IP(n),a=new ou(r),i=new ih(e),o=[a,...this.conversationState.messages.filter(g=>!(g instanceof ou)),i],u=await UJ.invoke(o);this.conversationState.messages=[a,...this.conversationState.messages.filter(g=>!(g instanceof ou)),i,u];const c=u.content;let f;if(console.log("content",c),c.includes("MENU_ADD|")){const g=c.match(/MENU_ADD\|(\d+)\|(\d+)(?:\|([\d,]+))?/);if(console.log("match",g),g){const[b,v,w,S]=g;console.log(b);const x=S?S.split(",").map(Number):[];f={type:"ADD_MENU",payload:{menuId:parseInt(v),quantity:parseInt(w),options:x}}}}else if(c.includes("MENU_UPDATE|")){const g=c.match(/MENU_UPDATE\|(.*)\|(\d+)/);if(g){const[b,v,w]=g;console.log(b),f={type:"UPDATE_MENU",payload:{menuId:v,quantity:parseInt(w)}}}}else if(c.includes("MENU_REMOVE|")){const g=c.match(/MENU_REMOVE\|(.*)/);if(g){const[b,v]=g;console.log(b),f={type:"REMOVE_MENU",payload:{menuId:v}}}}else c.includes("ORDER_COMPLETE")?f={type:"ORDER_COMPLETE",payload:{}}:c.includes("SHOW_BURGER")?f={type:"SHOW_BURGER",payload:{}}:c.includes("SHOW_SIDE")?f={type:"SHOW_SIDE",payload:{}}:c.includes("SHOW_DRINK")?f={type:"SHOW_DRINK",payload:{}}:c.includes("SHOW_DESSERT")&&(f={type:"SHOW_DESSERT",payload:{}});console.log("content",c);const h=c.replace(/MENU_ADD\|(\d+)\|(\d+)(?:\|([\d,]+))?/g,"").replace(/MENU_UPDATE\|(.*)\|(\d+)/g,"").replace(/MENU_REMOVE\|(.*)/g,"").replace(/SHOW_BURGER/g,"").replace(/SHOW_SIDE/g,"").replace(/SHOW_DRINK/g,"").replace(/SHOW_DESSERT/g,"").replace(/ORDER_COMPLETE/g,"").trim();console.log("cleanedContent",h);const m={action:f};return h!==""&&(m.aiMessage={role:"assistant",content:h}),m}catch(r){return console.error("대화 처리 중 오류 발생:",r),{aiMessage:{role:"assistant",content:"죄송합니다. 요청을 처리하는 중에 오류가 발생했습니다."}}}}clearConversation(){this.conversationState.messages=[]}}const dh=e8((t,e)=>({sessionId:"",chatMessages:[],isLoading:!1,orderAssistant:null,menuCategories:[],selectedCategoryId:null,menuItems:[],isMenuLoading:!1,cartItems:[],navigate:null,orderNumber:100,initializeSession:()=>{const n=s8(),r=new VJ;r.initializeConversation(),t({sessionId:n,orderAssistant:r,chatMessages:[{role:"assistant",content:"안녕하세요! 맥도날드 주문을 도와드리겠습니다. 어떤 메뉴를 원하시나요?"}]})},sendMessage:async n=>{const{orderAssistant:r,chatMessages:a,cartItems:i}=e();if(!r){console.error("Order assistant not initialized");return}t({isLoading:!0});const o=[...a,{role:"user",content:n}];t({chatMessages:o});try{const u=await r.processMessage(n,i);if(t({chatMessages:[...o,u.aiMessage]}),u.action){const{type:c,payload:f}=u.action;switch(c){case"ADD_MENU":{const{menuId:h,quantity:m,options:g}=f;console.log("menuId",h),console.log("quantity",m),console.log("options",g),await e().addItemToCartById(Number(h),m,g);break}case"UPDATE_MENU":{const{menuId:h,quantity:m}=f;e().updateItemQuantityByName(Number(h),m);break}case"REMOVE_MENU":{const{menuId:h}=f;e().removeItemByName(Number(h));break}case"SHOW_BURGER":{console.log("SHOW_BURGER"),e().selectedCategoryId!==1&&e().loadMenuItems(1);break}case"SHOW_SIDE":{console.log("SHOW_SIDE"),e().selectedCategoryId!==2&&e().loadMenuItems(2);break}case"SHOW_DRINK":{console.log("SHOW_DRINK"),e().selectedCategoryId!==3&&e().loadMenuItems(3);break}case"SHOW_DESSERT":{console.log("SHOW_DESSERT"),e().selectedCategoryId!==4&&e().loadMenuItems(4);break}case"ORDER_COMPLETE":{console.log("ORDER_COMPLETE");const{navigate:h}=e();h&&h("/checkout");break}}}}catch(u){console.error("Error processing message:",u),t({chatMessages:[...o,{role:"assistant",content:"죄송합니다. 요청을 처리하는 중에 오류가 발생했습니다."}]})}finally{t({isLoading:!1})}},setNavigate:n=>{t({navigate:n})},loadMenuCategories:async()=>{try{const n=await fG();t({menuCategories:n,selectedCategoryId:n.length>0?n[0].id:null}),n.length>0&&e().loadMenuItems(n[0].id)}catch(n){console.error("Error loading menu categories:",n)}},loadMenuItems:async n=>{try{t({isMenuLoading:!0});const r=await pG(n);t({menuItems:r,isMenuLoading:!1,selectedCategoryId:n})}catch(r){console.error("Error loading menu items:",r),t({isMenuLoading:!1})}},selectCategory:n=>{t({selectedCategoryId:n}),e().loadMenuItems(n)},addToCart:async n=>{try{const r=await fO(n.id),a={id:n.id,name:n.name,price:n.price,quantity:1,options:[]},{cartItems:i}=e(),o=i.findIndex(h=>h.id===n.id&&h.options.length===0);let u;o>=0?u=i.map((h,m)=>m===o?{...h,quantity:h.quantity+1}:h):u=[...i,a],t({cartItems:u});const{orderAssistant:c,chatMessages:f}=e();c&&(c.initializeConversation(u),t({chatMessages:[...f,{role:"assistant",content:`${n.name}을(를) 장바구니에 추가했습니다.`}]}))}catch(r){console.error("Error adding item to cart:",r)}},addItemToCartById:async(n,r=1,a=[])=>{try{const i=await fO(n);let o=[],u=0;if(a.length>0&&i.optionCategories)for(const g of i.optionCategories)for(const b of g.options)a.includes(b.id)&&(o.push({id:b.id,name:b.name,price_adjustment:b.price_adjustment}),u+=b.price_adjustment);const c={id:n,name:i.name,price:i.price+u,quantity:r,options:o},{cartItems:f}=e(),h=f.findIndex(g=>{if(g.id!==n||g.options.length!==o.length)return!1;const b=o.map(w=>w.id).sort().join(","),v=g.options.map(w=>w.id).sort().join(",");return b===v});let m;h>=0?m=f.map((g,b)=>b===h?{...g,quantity:g.quantity+r}:g):m=[...f,c],t({cartItems:m})}catch(i){console.error("Error adding item to cart by ID:",i)}},removeFromCart:n=>{const{cartItems:r,orderAssistant:a,chatMessages:i}=e();console.log("removeFromCart",r,n);const o=r.filter((u,c)=>c!==n);t({cartItems:o}),a&&(a.initializeConversation(o),t({chatMessages:[...i,{role:"assistant",content:`장바구니에서 ${r[n].name}을(를) 제거했습니다.`}]}))},setChatMessages:n=>{t({chatMessages:n})},changeItemQuantity:(n,r)=>{const{cartItems:a,orderAssistant:i}=e(),o=a.map((u,c)=>c===n?{...u,quantity:r}:u);t({cartItems:o}),i&&i.initializeConversation(o)},updateItemQuantityByName:(n,r)=>{const{cartItems:a,orderAssistant:i}=e();console.log("updateItemQuantityByName",a,n,r);const o=a.findIndex(c=>c.id===n);if(o===-1){console.log("cartItems",typeof a[0].id),console.log("menuId",typeof n),console.log("cartItems[0].id==menuId",a[0].id===n),console.warn(`Item with id "${n}" not found in cart`);return}const u=a.map((c,f)=>f===o?{...c,quantity:r}:c);t({cartItems:u}),i&&i.initializeConversation(u)},removeItemByName:n=>{const{cartItems:r,orderAssistant:a}=e(),i=r.findIndex(u=>u.id===n);if(i===-1){console.warn(`Item with id "${n}" not found in cart`);return}const o=r.filter((u,c)=>c!==i);t({cartItems:o}),a&&a.initializeConversation(o)},completeOrder:async()=>{const{cartItems:n}=e();if(n.length===0)return!1;try{t({isLoading:!0});const r=await mG(n);return t({cartItems:[],isLoading:!1,orderNumber:r.orderNumber}),!0}catch(r){return console.error("Error completing order:",r),t({isLoading:!1}),!1}},clearCart:()=>{t({cartItems:[]});const{orderAssistant:n}=e();n&&n.initializeConversation([])}})),HJ=()=>{const t=Bf(),{menuCategories:e,selectedCategoryId:n,menuItems:r,isMenuLoading:a,loadMenuCategories:i,selectCategory:o,addToCart:u,cartItems:c,removeFromCart:f,changeItemQuantity:h,setNavigate:m,orderAssistant:g,chatMessages:b,setChatMessages:v}=dh();R.useEffect(()=>{i()},[i]);const w=()=>{c.length>0&&t("/checkout")};return R.useEffect(()=>{m(t)},[t,m]),I.jsx(DS,{maxWidth:"xl",children:I.jsxs(US,{container:!0,spacing:3,children:[I.jsxs(ht,{sx:{height:"calc(100vh - 150px)",width:{xs:"100%",md:"65%"},display:"flex",flexDirection:"column"},children:[I.jsx(FH,{categories:e,selectedCategory:n,onSelectCategory:o}),I.jsx(ht,{sx:{flex:1,mt:2,overflow:"auto",bgcolor:"background.paper",borderRadius:1,boxShadow:1},children:I.jsx(qH,{items:r,isLoading:a,onSelectItem:u})})]}),I.jsx(ht,{sx:{height:"calc(100vh - 150px)",width:{xs:"100%",md:"30%"}},children:I.jsx(YH,{items:c,onRemoveItem:f,onChangeQuantity:h,onCheckout:w})})]})})};var yd={},Id={exports:{}},qJ=Id.exports,jP;function GJ(){return jP||(jP=1,function(t,e){(function(n,r){r(e)})(qJ,function(n){var r=function(){return r=Object.assign||function(i){for(var o,u=1,c=arguments.length;u<c;u++)for(var f in o=arguments[u])Object.prototype.hasOwnProperty.call(o,f)&&(i[f]=o[f]);return i},r.apply(this,arguments)},a=function(){function i(o,u,c){var f=this;this.endVal=u,this.options=c,this.version="2.8.1",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(h){f.startTime||(f.startTime=h);var m=h-f.startTime;f.remaining=f.duration-m,f.useEasing?f.countDown?f.frameVal=f.startVal-f.easingFn(m,0,f.startVal-f.endVal,f.duration):f.frameVal=f.easingFn(m,f.startVal,f.endVal-f.startVal,f.duration):f.frameVal=f.startVal+(f.endVal-f.startVal)*(m/f.duration);var g=f.countDown?f.frameVal<f.endVal:f.frameVal>f.endVal;f.frameVal=g?f.endVal:f.frameVal,f.frameVal=Number(f.frameVal.toFixed(f.options.decimalPlaces)),f.printValue(f.frameVal),m<f.duration?f.rAF=requestAnimationFrame(f.count):f.finalEndVal!==null?f.update(f.finalEndVal):f.options.onCompleteCallback&&f.options.onCompleteCallback()},this.formatNumber=function(h){var m,g,b,v,w=h<0?"-":"";m=Math.abs(h).toFixed(f.options.decimalPlaces);var S=(m+="").split(".");if(g=S[0],b=S.length>1?f.options.decimal+S[1]:"",f.options.useGrouping){v="";for(var x=3,C=0,E=0,O=g.length;E<O;++E)f.options.useIndianSeparators&&E===4&&(x=2,C=1),E!==0&&C%x==0&&(v=f.options.separator+v),C++,v=g[O-E-1]+v;g=v}return f.options.numerals&&f.options.numerals.length&&(g=g.replace(/[0-9]/g,function(A){return f.options.numerals[+A]}),b=b.replace(/[0-9]/g,function(A){return f.options.numerals[+A]})),w+f.options.prefix+g+b+f.options.suffix},this.easeOutExpo=function(h,m,g,b){return g*(1-Math.pow(2,-10*h/b))*1024/1023+m},this.options=r(r({},this.defaults),c),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(u),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof o=="string"?document.getElementById(o):o,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,o):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return f.handleScroll(f)}),window.onscroll=function(){window.onScrollFns.forEach(function(h){return h()})},this.handleScroll(this)))}return i.prototype.handleScroll=function(o){if(o&&window&&!o.once){var u=window.innerHeight+window.scrollY,c=o.el.getBoundingClientRect(),f=c.top+window.pageYOffset,h=c.top+c.height+window.pageYOffset;h<u&&h>window.scrollY&&o.paused?(o.paused=!1,setTimeout(function(){return o.start()},o.options.scrollSpyDelay),o.options.scrollSpyOnce&&(o.once=!0)):(window.scrollY>h||f>u)&&!o.paused&&o.reset()}},i.prototype.determineDirectionAndSmartEasing=function(){var o=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>o;var u=o-this.startVal;if(Math.abs(u)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=o;var c=this.countDown?1:-1;this.endVal=o+c*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=o,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},i.prototype.start=function(o){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),o&&(this.options.onCompleteCallback=o),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},i.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},i.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},i.prototype.update=function(o){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(o),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},i.prototype.printValue=function(o){var u;if(this.el){var c=this.formattingFn(o);!((u=this.options.plugin)===null||u===void 0)&&u.render?this.options.plugin.render(this.el,c):this.el.tagName==="INPUT"?this.el.value=c:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=c:this.el.innerHTML=c}},i.prototype.ensureNumber=function(o){return typeof o=="number"&&!isNaN(o)},i.prototype.validateValue=function(o){var u=Number(o);return this.ensureNumber(u)?u:(this.error="[CountUp] invalid start or end value: ".concat(o),null)},i.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},i}();n.CountUp=a})}(Id,Id.exports)),Id.exports}var NP;function WJ(){if(NP)return yd;NP=1,Object.defineProperty(yd,"__esModule",{value:!0});var t=vg(),e=GJ();function n(P,L){var T=P==null?null:typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(T!=null){var B,Z,ne,q,F=[],M=!0,z=!1;try{if(ne=(T=T.call(P)).next,L!==0)for(;!(M=(B=ne.call(T)).done)&&(F.push(B.value),F.length!==L);M=!0);}catch(K){z=!0,Z=K}finally{try{if(!M&&T.return!=null&&(q=T.return(),Object(q)!==q))return}finally{if(z)throw Z}}return F}}function r(P,L){var T=Object.keys(P);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(P);L&&(B=B.filter(function(Z){return Object.getOwnPropertyDescriptor(P,Z).enumerable})),T.push.apply(T,B)}return T}function a(P){for(var L=1;L<arguments.length;L++){var T=arguments[L]!=null?arguments[L]:{};L%2?r(Object(T),!0).forEach(function(B){u(P,B,T[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(T)):r(Object(T)).forEach(function(B){Object.defineProperty(P,B,Object.getOwnPropertyDescriptor(T,B))})}return P}function i(P,L){if(typeof P!="object"||!P)return P;var T=P[Symbol.toPrimitive];if(T!==void 0){var B=T.call(P,L);if(typeof B!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(P)}function o(P){var L=i(P,"string");return typeof L=="symbol"?L:String(L)}function u(P,L,T){return L=o(L),L in P?Object.defineProperty(P,L,{value:T,enumerable:!0,configurable:!0,writable:!0}):P[L]=T,P}function c(){return c=Object.assign?Object.assign.bind():function(P){for(var L=1;L<arguments.length;L++){var T=arguments[L];for(var B in T)Object.prototype.hasOwnProperty.call(T,B)&&(P[B]=T[B])}return P},c.apply(this,arguments)}function f(P,L){if(P==null)return{};var T={},B=Object.keys(P),Z,ne;for(ne=0;ne<B.length;ne++)Z=B[ne],!(L.indexOf(Z)>=0)&&(T[Z]=P[Z]);return T}function h(P,L){if(P==null)return{};var T=f(P,L),B,Z;if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(P);for(Z=0;Z<ne.length;Z++)B=ne[Z],!(L.indexOf(B)>=0)&&Object.prototype.propertyIsEnumerable.call(P,B)&&(T[B]=P[B])}return T}function m(P,L){return g(P)||n(P,L)||b(P,L)||w()}function g(P){if(Array.isArray(P))return P}function b(P,L){if(P){if(typeof P=="string")return v(P,L);var T=Object.prototype.toString.call(P).slice(8,-1);if(T==="Object"&&P.constructor&&(T=P.constructor.name),T==="Map"||T==="Set")return Array.from(P);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return v(P,L)}}function v(P,L){(L==null||L>P.length)&&(L=P.length);for(var T=0,B=new Array(L);T<L;T++)B[T]=P[T];return B}function w(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?t.useLayoutEffect:t.useEffect;function x(P){var L=t.useRef(P);return S(function(){L.current=P}),t.useCallback(function(){for(var T=arguments.length,B=new Array(T),Z=0;Z<T;Z++)B[Z]=arguments[Z];return L.current.apply(void 0,B)},[])}var C=function(L,T){var B=T.decimal,Z=T.decimals,ne=T.duration,q=T.easingFn,F=T.end,M=T.formattingFn,z=T.numerals,K=T.prefix,V=T.separator,j=T.start,G=T.suffix,J=T.useEasing,Q=T.useGrouping,le=T.useIndianSeparators,ce=T.enableScrollSpy,fe=T.scrollSpyDelay,Ae=T.scrollSpyOnce,Ee=T.plugin;return new e.CountUp(L,F,{startVal:j,duration:ne,decimal:B,decimalPlaces:Z,easingFn:q,formattingFn:M,numerals:z,separator:V,prefix:K,suffix:G,plugin:Ee,useEasing:J,useIndianSeparators:le,useGrouping:Q,enableScrollSpy:ce,scrollSpyDelay:fe,scrollSpyOnce:Ae})},E=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],O={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},A=function(L){var T=Object.fromEntries(Object.entries(L).filter(function(at){var $e=m(at,2),ut=$e[1];return ut!==void 0})),B=t.useMemo(function(){return a(a({},O),T)},[L]),Z=B.ref,ne=B.startOnMount,q=B.enableReinitialize,F=B.delay,M=B.onEnd,z=B.onStart,K=B.onPauseResume,V=B.onReset,j=B.onUpdate,G=h(B,E),J=t.useRef(),Q=t.useRef(),le=t.useRef(!1),ce=x(function(){return C(typeof Z=="string"?Z:Z.current,G)}),fe=x(function(at){var $e=J.current;if($e&&!at)return $e;var ut=ce();return J.current=ut,ut}),Ae=x(function(){var at=function(){return fe(!0).start(function(){M==null||M({pauseResume:Ee,reset:Oe,start:Me,update:ye})})};F&&F>0?Q.current=setTimeout(at,F*1e3):at(),z==null||z({pauseResume:Ee,reset:Oe,update:ye})}),Ee=x(function(){fe().pauseResume(),K==null||K({reset:Oe,start:Me,update:ye})}),Oe=x(function(){fe().el&&(Q.current&&clearTimeout(Q.current),fe().reset(),V==null||V({pauseResume:Ee,start:Me,update:ye}))}),ye=x(function(at){fe().update(at),j==null||j({pauseResume:Ee,reset:Oe,start:Me})}),Me=x(function(){Oe(),Ae()}),ze=x(function(at){ne&&(at&&Oe(),Ae())});return t.useEffect(function(){le.current?q&&ze(!0):(le.current=!0,ze())},[q,le,ze,F,L.start,L.suffix,L.prefix,L.duration,L.separator,L.decimals,L.decimal,L.formattingFn]),t.useEffect(function(){return function(){Oe()}},[Oe]),{start:Me,pauseResume:Ee,reset:Oe,update:ye,getCountUp:fe}},N=["className","redraw","containerProps","children","style"],D=function(L){var T=L.className,B=L.redraw,Z=L.containerProps,ne=L.children,q=L.style,F=h(L,N),M=t.useRef(null),z=t.useRef(!1),K=A(a(a({},F),{},{ref:M,startOnMount:typeof ne!="function"||L.delay===0,enableReinitialize:!1})),V=K.start,j=K.reset,G=K.update,J=K.pauseResume,Q=K.getCountUp,le=x(function(){V()}),ce=x(function(Ee){L.preserveValue||j(),G(Ee)}),fe=x(function(){if(typeof L.children=="function"&&!(M.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}Q()});t.useEffect(function(){fe()},[fe]),t.useEffect(function(){z.current&&ce(L.end)},[L.end,ce]);var Ae=B&&L;return t.useEffect(function(){B&&z.current&&le()},[le,B,Ae]),t.useEffect(function(){!B&&z.current&&le()},[le,B,L.start,L.suffix,L.prefix,L.duration,L.separator,L.decimals,L.decimal,L.className,L.formattingFn]),t.useEffect(function(){z.current=!0},[]),typeof ne=="function"?ne({countUpRef:M,start:V,reset:j,update:G,pauseResume:J,getCountUp:Q}):t.createElement("span",c({className:T,ref:M,style:q},Z),typeof L.start<"u"?Q().formattingFn(L.start):"")};return yd.default=D,yd.useCountUp=A,yd}var ZJ=WJ();const KJ=hi(ZJ),i2=R.createContext({});function YJ(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const Xx=typeof window<"u",XJ=Xx?R.useLayoutEffect:R.useEffect,Jx=R.createContext(null);function Qx(t,e){t.indexOf(e)===-1&&t.push(e)}function eE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const es=(t,e,n)=>n>e?e:n<t?t:n;let tE=()=>{};const ts={},s2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function o2(t){return typeof t=="object"&&t!==null}const l2=t=>/^0[^.\s]+$/u.test(t);function nE(t){let e;return()=>(e===void 0&&(e=t()),e)}const ca=t=>t,JJ=(t,e)=>n=>e(t(n)),fh=(...t)=>t.reduce(JJ),kf=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class rE{constructor(){this.subscriptions=[]}add(e){return Qx(this.subscriptions,e),()=>eE(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const oi=t=>t*1e3,li=t=>t/1e3;function u2(t,e){return e?t*(1e3/e):0}const c2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,QJ=1e-7,eQ=12;function tQ(t,e,n,r,a){let i,o,u=0;do o=e+(n-e)/2,i=c2(o,r,a)-t,i>0?n=o:e=o;while(Math.abs(i)>QJ&&++u<eQ);return o}function hh(t,e,n,r){if(t===e&&n===r)return ca;const a=i=>tQ(i,0,1,t,n);return i=>i===0||i===1?i:c2(a(i),e,r)}const d2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,f2=t=>e=>1-t(1-e),h2=hh(.33,1.53,.69,.99),aE=f2(h2),p2=d2(aE),m2=t=>(t*=2)<1?.5*aE(t):.5*(2-Math.pow(2,-10*(t-1))),iE=t=>1-Math.sin(Math.acos(t)),g2=f2(iE),y2=d2(iE),nQ=hh(.42,0,1,1),rQ=hh(0,0,.58,1),b2=hh(.42,0,.58,1),aQ=t=>Array.isArray(t)&&typeof t[0]!="number",v2=t=>Array.isArray(t)&&typeof t[0]=="number",iQ={linear:ca,easeIn:nQ,easeInOut:b2,easeOut:rQ,circIn:iE,circInOut:y2,circOut:g2,backIn:aE,backInOut:p2,backOut:h2,anticipate:m2},sQ=t=>typeof t=="string",MP=t=>{if(v2(t)){tE(t.length===4);const[e,n,r,a]=t;return hh(e,n,r,a)}else if(sQ(t))return iQ[t];return t},hm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],LP={value:null};function oQ(t,e){let n=new Set,r=new Set,a=!1,i=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},c=0;function f(m){o.has(m)&&(h.schedule(m),t()),c++,m(u)}const h={schedule:(m,g=!1,b=!1)=>{const w=b&&a?n:r;return g&&o.add(m),w.has(m)||w.add(m),m},cancel:m=>{r.delete(m),o.delete(m)},process:m=>{if(u=m,a){i=!0;return}a=!0,[n,r]=[r,n],n.forEach(f),e&&LP.value&&LP.value.frameloop[e].push(c),c=0,n.clear(),a=!1,i&&(i=!1,h.process(m))}};return h}const lQ=40;function _2(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=hm.reduce((E,O)=>(E[O]=oQ(i,e?O:void 0),E),{}),{setup:u,read:c,resolveKeyframes:f,preUpdate:h,update:m,preRender:g,render:b,postRender:v}=o,w=()=>{const E=ts.useManualTiming?a.timestamp:performance.now();n=!1,ts.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(E-a.timestamp,lQ),1)),a.timestamp=E,a.isProcessing=!0,u.process(a),c.process(a),f.process(a),h.process(a),m.process(a),g.process(a),b.process(a),v.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(w))},S=()=>{n=!0,r=!0,a.isProcessing||t(w)};return{schedule:hm.reduce((E,O)=>{const A=o[O];return E[O]=(N,D=!1,P=!1)=>(n||S(),A.schedule(N,D,P)),E},{}),cancel:E=>{for(let O=0;O<hm.length;O++)o[hm[O]].cancel(E)},state:a,steps:o}}const{schedule:sn,cancel:Xs,state:qn,steps:T_}=_2(typeof requestAnimationFrame<"u"?requestAnimationFrame:ca,!0);let Pm;function uQ(){Pm=void 0}const Cr={now:()=>(Pm===void 0&&Cr.set(qn.isProcessing||ts.useManualTiming?qn.timestamp:performance.now()),Pm),set:t=>{Pm=t,queueMicrotask(uQ)}},w2=t=>e=>typeof e=="string"&&e.startsWith(t),sE=w2("--"),cQ=w2("var(--"),oE=t=>cQ(t)?dQ.test(t.split("/*")[0].trim()):!1,dQ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Pf={...nc,transform:t=>es(0,1,t)},pm={...nc,default:1},Kd=t=>Math.round(t*1e5)/1e5,lE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fQ(t){return t==null}const hQ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,uE=(t,e)=>n=>!!(typeof n=="string"&&hQ.test(n)&&n.startsWith(t)||e&&!fQ(n)&&Object.prototype.hasOwnProperty.call(n,e)),S2=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,i,o,u]=r.match(lE);return{[t]:parseFloat(a),[e]:parseFloat(i),[n]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},pQ=t=>es(0,255,t),C_={...nc,transform:t=>Math.round(pQ(t))},Do={test:uE("rgb","red"),parse:S2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+C_.transform(t)+", "+C_.transform(e)+", "+C_.transform(n)+", "+Kd(Pf.transform(r))+")"};function mQ(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Bw={test:uE("#"),parse:mQ,transform:Do.transform},ph=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Is=ph("deg"),ui=ph("%"),De=ph("px"),gQ=ph("vh"),yQ=ph("vw"),DP={...ui,parse:t=>ui.parse(t)/100,transform:t=>ui.transform(t*100)},fu={test:uE("hsl","hue"),parse:S2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ui.transform(Kd(e))+", "+ui.transform(Kd(n))+", "+Kd(Pf.transform(r))+")"},nr={test:t=>Do.test(t)||Bw.test(t)||fu.test(t),parse:t=>Do.test(t)?Do.parse(t):fu.test(t)?fu.parse(t):Bw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Do.transform(t):fu.transform(t)},bQ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vQ(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(lE))==null?void 0:e.length)||0)+(((n=t.match(bQ))==null?void 0:n.length)||0)>0}const x2="number",E2="color",_Q="var",wQ="var(",BP="${}",SQ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $f(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let i=0;const u=e.replace(SQ,c=>(nr.test(c)?(r.color.push(i),a.push(E2),n.push(nr.parse(c))):c.startsWith(wQ)?(r.var.push(i),a.push(_Q),n.push(c)):(r.number.push(i),a.push(x2),n.push(parseFloat(c))),++i,BP)).split(BP);return{values:n,split:u,indexes:r,types:a}}function T2(t){return $f(t).values}function C2(t){const{split:e,types:n}=$f(t),r=e.length;return a=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],a[o]!==void 0){const u=n[o];u===x2?i+=Kd(a[o]):u===E2?i+=nr.transform(a[o]):i+=a[o]}return i}}const xQ=t=>typeof t=="number"?0:t;function EQ(t){const e=T2(t);return C2(t)(e.map(xQ))}const Js={test:vQ,parse:T2,createTransformer:C2,getAnimatableNone:EQ};function R_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function TQ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,i=0,o=0;if(!e)a=i=o=n;else{const u=n<.5?n*(1+e):n+e-n*e,c=2*n-u;a=R_(c,u,t+1/3),i=R_(c,u,t),o=R_(c,u,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function pg(t,e){return n=>n>0?e:t}const rn=(t,e,n)=>t+(e-t)*n,A_=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},CQ=[Bw,Do,fu],RQ=t=>CQ.find(e=>e.test(t));function UP(t){const e=RQ(t);if(!e)return!1;let n=e.parse(t);return e===fu&&(n=TQ(n)),n}const zP=(t,e)=>{const n=UP(t),r=UP(e);if(!n||!r)return pg(t,e);const a={...n};return i=>(a.red=A_(n.red,r.red,i),a.green=A_(n.green,r.green,i),a.blue=A_(n.blue,r.blue,i),a.alpha=rn(n.alpha,r.alpha,i),Do.transform(a))},Uw=new Set(["none","hidden"]);function AQ(t,e){return Uw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function OQ(t,e){return n=>rn(t,e,n)}function cE(t){return typeof t=="number"?OQ:typeof t=="string"?oE(t)?pg:nr.test(t)?zP:$Q:Array.isArray(t)?R2:typeof t=="object"?nr.test(t)?zP:kQ:pg}function R2(t,e){const n=[...t],r=n.length,a=t.map((i,o)=>cE(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}}function kQ(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=cE(t[a])(t[a],e[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}}function PQ(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const i=e.types[a],o=t.indexes[i][r[i]],u=t.values[o]??0;n[a]=u,r[i]++}return n}const $Q=(t,e)=>{const n=Js.createTransformer(e),r=$f(t),a=$f(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Uw.has(t)&&!a.values.length||Uw.has(e)&&!r.values.length?AQ(t,e):fh(R2(PQ(r,a),a.values),n):pg(t,e)};function A2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?rn(t,e,n):cE(t)(t,e)}const IQ=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>sn.update(e,n),stop:()=>Xs(e),now:()=>qn.isProcessing?qn.timestamp:Cr.now()}},O2=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let i=0;i<a;i++)r+=t(i/(a-1))+", ";return`linear(${r.substring(0,r.length-2)})`},mg=2e4;function dE(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<mg;)e+=n,r=t.next(e);return e>=mg?1/0:e}function jQ(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(dE(r),mg);return{type:"keyframes",ease:i=>r.next(a*i).value/e,duration:li(a)}}const NQ=5;function k2(t,e,n){const r=Math.max(e-NQ,0);return u2(n-t(r),e-r)}const hn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},FP=.001;function MQ({duration:t=hn.duration,bounce:e=hn.bounce,velocity:n=hn.velocity,mass:r=hn.mass}){let a,i,o=1-e;o=es(hn.minDamping,hn.maxDamping,o),t=es(hn.minDuration,hn.maxDuration,li(t)),o<1?(a=f=>{const h=f*o,m=h*t,g=h-n,b=zw(f,o),v=Math.exp(-m);return FP-g/b*v},i=f=>{const m=f*o*t,g=m*n+n,b=Math.pow(o,2)*Math.pow(f,2)*t,v=Math.exp(-m),w=zw(Math.pow(f,2),o);return(-a(f)+FP>0?-1:1)*((g-b)*v)/w}):(a=f=>{const h=Math.exp(-f*t),m=(f-n)*t+1;return-.001+h*m},i=f=>{const h=Math.exp(-f*t),m=(n-f)*(t*t);return h*m});const u=5/t,c=DQ(a,i,u);if(t=oi(t),isNaN(c))return{stiffness:hn.stiffness,damping:hn.damping,duration:t};{const f=Math.pow(c,2)*r;return{stiffness:f,damping:o*2*Math.sqrt(r*f),duration:t}}}const LQ=12;function DQ(t,e,n){let r=n;for(let a=1;a<LQ;a++)r=r-t(r)/e(r);return r}function zw(t,e){return t*Math.sqrt(1-e*e)}const BQ=["duration","bounce"],UQ=["stiffness","damping","mass"];function VP(t,e){return e.some(n=>t[n]!==void 0)}function zQ(t){let e={velocity:hn.velocity,stiffness:hn.stiffness,damping:hn.damping,mass:hn.mass,isResolvedFromDuration:!1,...t};if(!VP(t,UQ)&&VP(t,BQ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,i=2*es(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:hn.mass,stiffness:a,damping:i}}else{const n=MQ(t);e={...e,...n,mass:hn.mass},e.isResolvedFromDuration=!0}return e}function gg(t=hn.visualDuration,e=hn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],u={done:!1,value:i},{stiffness:c,damping:f,mass:h,duration:m,velocity:g,isResolvedFromDuration:b}=zQ({...n,velocity:-li(n.velocity||0)}),v=g||0,w=f/(2*Math.sqrt(c*h)),S=o-i,x=li(Math.sqrt(c/h)),C=Math.abs(S)<5;r||(r=C?hn.restSpeed.granular:hn.restSpeed.default),a||(a=C?hn.restDelta.granular:hn.restDelta.default);let E;if(w<1){const A=zw(x,w);E=N=>{const D=Math.exp(-w*x*N);return o-D*((v+w*x*S)/A*Math.sin(A*N)+S*Math.cos(A*N))}}else if(w===1)E=A=>o-Math.exp(-x*A)*(S+(v+x*S)*A);else{const A=x*Math.sqrt(w*w-1);E=N=>{const D=Math.exp(-w*x*N),P=Math.min(A*N,300);return o-D*((v+w*x*S)*Math.sinh(P)+A*S*Math.cosh(P))/A}}const O={calculatedDuration:b&&m||null,next:A=>{const N=E(A);if(b)u.done=A>=m;else{let D=A===0?v:0;w<1&&(D=A===0?oi(v):k2(E,A,N));const P=Math.abs(D)<=r,L=Math.abs(o-N)<=a;u.done=P&&L}return u.value=u.done?o:N,u},toString:()=>{const A=Math.min(dE(O),mg),N=O2(D=>O.next(A*D).value,A,30);return A+"ms "+N},toTransition:()=>{}};return O}gg.applyToOptions=t=>{const e=jQ(t,100,gg);return t.ease=e.ease,t.duration=oi(e.duration),t.type="keyframes",t};function Fw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:u,max:c,restDelta:f=.5,restSpeed:h}){const m=t[0],g={done:!1,value:m},b=P=>u!==void 0&&P<u||c!==void 0&&P>c,v=P=>u===void 0?c:c===void 0||Math.abs(u-P)<Math.abs(c-P)?u:c;let w=n*e;const S=m+w,x=o===void 0?S:o(S);x!==S&&(w=x-m);const C=P=>-w*Math.exp(-P/r),E=P=>x+C(P),O=P=>{const L=C(P),T=E(P);g.done=Math.abs(L)<=f,g.value=g.done?x:T};let A,N;const D=P=>{b(g.value)&&(A=P,N=gg({keyframes:[g.value,v(g.value)],velocity:k2(E,P,g.value),damping:a,stiffness:i,restDelta:f,restSpeed:h}))};return D(0),{calculatedDuration:null,next:P=>{let L=!1;return!N&&A===void 0&&(L=!0,O(P),D(P)),A!==void 0&&P>=A?N.next(P-A):(!L&&O(P),g)}}}function FQ(t,e,n){const r=[],a=n||ts.mix||A2,i=t.length-1;for(let o=0;o<i;o++){let u=a(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||ca:e;u=fh(c,u)}r.push(u)}return r}function VQ(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const i=t.length;if(tE(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=FQ(e,r,a),c=u.length,f=h=>{if(o&&h<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(h<t[m+1]);m++);const g=kf(t[m],t[m+1],h);return u[m](g)};return n?h=>f(es(t[0],t[i-1],h)):f}function HQ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=kf(0,e,r);t.push(rn(n,1,a))}}function qQ(t){const e=[0];return HQ(e,t.length-1),e}function GQ(t,e){return t.map(n=>n*e)}function WQ(t,e){return t.map(()=>e||b2).splice(0,t.length-1)}function Yd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=aQ(r)?r.map(MP):MP(r),i={done:!1,value:e[0]},o=GQ(n&&n.length===e.length?n:qQ(e),t),u=VQ(o,e,{ease:Array.isArray(a)?a:WQ(e,a)});return{calculatedDuration:t,next:c=>(i.value=u(c),i.done=c>=t,i)}}const ZQ=t=>t!==null;function fE(t,{repeat:e,repeatType:n="loop"},r,a=1){const i=t.filter(ZQ),u=a<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!u||r===void 0?i[u]:r}const KQ={decay:Fw,inertia:Fw,tween:Yd,keyframes:Yd,spring:gg};function P2(t){typeof t.type=="string"&&(t.type=KQ[t.type])}class hE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const YQ=t=>t/100;class pE extends hE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var r,a;if(n){const{motionValue:i}=this.options;i&&i.updatedAt!==Cr.now()&&this.tick(Cr.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;P2(e);const{type:n=Yd,repeat:r=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=e;let{keyframes:u}=e;const c=n||Yd;c!==Yd&&typeof u[0]!="number"&&(this.mixKeyframes=fh(YQ,A2(u[0],u[1])),u=[0,100]);const f=c({...e,keyframes:u});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...u].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=dE(f));const{calculatedDuration:h}=f;this.calculatedDuration=h,this.resolvedDuration=h+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:h,repeat:m,repeatType:g,repeatDelay:b,type:v,onUpdate:w,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const x=this.currentTime-f*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?x<0:x>a;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let E=this.currentTime,O=r;if(m){const P=Math.min(this.currentTime,a)/u;let L=Math.floor(P),T=P%1;!T&&P>=1&&(T=1),T===1&&L--,L=Math.min(L,m+1),!!(L%2)&&(g==="reverse"?(T=1-T,b&&(T-=b/u)):g==="mirror"&&(O=o)),E=es(0,1,T)*u}const A=C?{done:!1,value:h[0]}:O.next(E);i&&(A.value=i(A.value));let{done:N}=A;!C&&c!==null&&(N=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return D&&v!==Fw&&(A.value=fE(h,this.options,S,this.speed)),w&&w(A.value),D&&this.finish(),A}then(e,n){return this.finished.then(e,n)}get duration(){return li(this.calculatedDuration)}get time(){return li(this.currentTime)}set time(e){var n;e=oi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Cr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=li(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:e=IQ,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function XQ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Bo=t=>t*180/Math.PI,Vw=t=>{const e=Bo(Math.atan2(t[1],t[0]));return Hw(e)},JQ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Vw,rotateZ:Vw,skewX:t=>Bo(Math.atan(t[1])),skewY:t=>Bo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Hw=t=>(t=t%360,t<0&&(t+=360),t),HP=Vw,qP=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),GP=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),QQ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:qP,scaleY:GP,scale:t=>(qP(t)+GP(t))/2,rotateX:t=>Hw(Bo(Math.atan2(t[6],t[5]))),rotateY:t=>Hw(Bo(Math.atan2(-t[2],t[0]))),rotateZ:HP,rotate:HP,skewX:t=>Bo(Math.atan(t[4])),skewY:t=>Bo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function qw(t){return t.includes("scale")?1:0}function Gw(t,e){if(!t||t==="none")return qw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=QQ,a=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=JQ,a=u}if(!a)return qw(e);const i=r[e],o=a[1].split(",").map(tee);return typeof i=="function"?i(o):o[i]}const eee=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Gw(n,e)};function tee(t){return parseFloat(t.trim())}const rc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ac=new Set(rc),WP=t=>t===nc||t===De,nee=new Set(["x","y","z"]),ree=rc.filter(t=>!nee.has(t));function aee(t){const e=[];return ree.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Fo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Gw(e,"x"),y:(t,{transform:e})=>Gw(e,"y")};Fo.translateX=Fo.x;Fo.translateY=Fo.y;const Vo=new Set;let Ww=!1,Zw=!1,Kw=!1;function $2(){if(Zw){const t=Array.from(Vo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=aee(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([i,o])=>{var u;(u=r.getValue(i))==null||u.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Zw=!1,Ww=!1,Vo.forEach(t=>t.complete(Kw)),Vo.clear()}function I2(){Vo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Zw=!0)})}function iee(){Kw=!0,I2(),$2(),Kw=!1}class mE{constructor(e,n,r,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Vo.add(this),Ww||(Ww=!0,sn.read(I2),sn.resolveKeyframes($2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const i=a==null?void 0:a.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const u=r.readValue(n,o);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=o),a&&i===void 0&&a.set(e[0])}XQ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Vo.delete(this)}cancel(){this.state==="scheduled"&&(Vo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const see=t=>t.startsWith("--");function oee(t,e,n){see(e)?t.style.setProperty(e,n):t.style[e]=n}const lee=nE(()=>window.ScrollTimeline!==void 0),uee={};function cee(t,e){const n=nE(t);return()=>uee[e]??n()}const j2=cee(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ZP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jd([0,.65,.55,1]),circOut:jd([.55,0,1,.45]),backIn:jd([.31,.01,.66,-.59]),backOut:jd([.33,1.53,.69,.99])};function N2(t,e){if(t)return typeof t=="function"?j2()?O2(t,e):"ease-out":v2(t)?jd(t):Array.isArray(t)?t.map(n=>N2(n,e)||ZP.easeOut):ZP[t]}function dee(t,e,n,{delay:r=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:u="easeOut",times:c}={},f=void 0){const h={[e]:n};c&&(h.offset=c);const m=N2(u,a);Array.isArray(m)&&(h.easing=m);const g={delay:r,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return f&&(g.pseudoElement=f),t.animate(h,g)}function M2(t){return typeof t=="function"&&"applyToOptions"in t}function fee({type:t,...e}){return M2(t)&&j2()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class hee extends hE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:u,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,tE(typeof e.type!="string");const f=fee(e);this.animation=dee(n,r,a,f,i),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=fE(a,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(h):oee(n,r,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return li(Number(e))}get time(){return li(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=oi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&lee()?(this.animation.timeline=e,ca):n(this)}}const L2={anticipate:m2,backInOut:p2,circInOut:y2};function pee(t){return t in L2}function mee(t){typeof t.ease=="string"&&pee(t.ease)&&(t.ease=L2[t.ease])}const KP=10;class gee extends hee{constructor(e){mee(e),P2(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new pE({...o,autoplay:!1}),c=oi(this.finishedTime??this.time);n.setWithVelocity(u.sample(c-KP).value,u.sample(c).value,KP),u.stop()}}const YP=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Js.test(t)||t==="0")&&!t.startsWith("url("));function yee(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function bee(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=YP(a,e),u=YP(i,e);return!o||!u?!1:yee(t)||(n==="spring"||M2(n))&&r}function D2(t){return o2(t)&&"offsetHeight"in t}const vee=new Set(["opacity","clipPath","filter","transform"]),_ee=nE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function wee(t){var f;const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:i,type:o}=t;if(!D2((f=e==null?void 0:e.owner)==null?void 0:f.current))return!1;const{onUpdate:u,transformTemplate:c}=e.owner.getProps();return _ee()&&n&&vee.has(n)&&(n!=="transform"||!c)&&!u&&!r&&a!=="mirror"&&i!==0&&o!=="inertia"}const See=40;class xee extends hE{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:u,name:c,motionValue:f,element:h,...m}){var v;super(),this.stop=()=>{var w,S;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Cr.now();const g={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:f,element:h,...m},b=(h==null?void 0:h.KeyframeResolver)||mE;this.keyframeResolver=new b(u,(w,S,x)=>this.onKeyframesResolved(w,S,g,!x),c,f,h),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:u,delay:c,isHandoff:f,onUpdate:h}=r;this.resolvedAt=Cr.now(),bee(e,i,o,u)||((ts.instantAnimations||!c)&&(h==null||h(fE(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const g={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>See?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},b=!f&&wee(g)?new gee({...g,element:g.motionValue.owner.current}):new pE(g);b.finished.then(()=>this.notifyFinished()).catch(ca),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),iee()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Eee=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Tee(t){const e=Eee.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function B2(t,e,n=1){const[r,a]=Tee(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return s2(o)?parseFloat(o):o}return oE(a)?B2(a,e,n+1):a}function gE(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const U2=new Set(["width","height","top","left","right","bottom",...rc]),Cee={test:t=>t==="auto",parse:t=>t},z2=t=>e=>e.test(t),F2=[nc,De,ui,Is,yQ,gQ,Cee],XP=t=>F2.find(z2(t));function Ree(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||l2(t):!0}const Aee=new Set(["brightness","contrast","saturate","opacity"]);function Oee(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(lE)||[];if(!r)return t;const a=n.replace(r,"");let i=Aee.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+a+")"}const kee=/\b([a-z-]*)\(.*?\)/gu,Yw={...Js,getAnimatableNone:t=>{const e=t.match(kee);return e?e.map(Oee).join(" "):t}},JP={...nc,transform:Math.round},Pee={rotate:Is,rotateX:Is,rotateY:Is,rotateZ:Is,scale:pm,scaleX:pm,scaleY:pm,scaleZ:pm,skew:Is,skewX:Is,skewY:Is,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:Pf,originX:DP,originY:DP,originZ:De},yE={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,backgroundPositionX:De,backgroundPositionY:De,...Pee,zIndex:JP,fillOpacity:Pf,strokeOpacity:Pf,numOctaves:JP},$ee={...yE,color:nr,backgroundColor:nr,outlineColor:nr,fill:nr,stroke:nr,borderColor:nr,borderTopColor:nr,borderRightColor:nr,borderBottomColor:nr,borderLeftColor:nr,filter:Yw,WebkitFilter:Yw},V2=t=>$ee[t];function H2(t,e){let n=V2(t);return n!==Yw&&(n=Js),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Iee=new Set(["auto","none","0"]);function jee(t,e,n){let r=0,a;for(;r<t.length&&!a;){const i=t[r];typeof i=="string"&&!Iee.has(i)&&$f(i).values.length&&(a=t[r]),r++}if(a&&n)for(const i of e)t[i]=H2(n,a)}class Nee extends mE{constructor(e,n,r,a,i){super(e,n,r,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let f=e[c];if(typeof f=="string"&&(f=f.trim(),oE(f))){const h=B2(f,n.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!U2.has(r)||e.length!==2)return;const[a,i]=e,o=XP(a),u=XP(i);if(o!==u)if(WP(o)&&WP(u))for(let c=0;c<e.length;c++){const f=e[c];typeof f=="string"&&(e[c]=parseFloat(f))}else Fo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||Ree(e[a]))&&r.push(a);r.length&&jee(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Fo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([c,f])=>{e.getValue(c).set(f)}),this.resolveNoneKeyframes()}}function Mee(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=(n==null?void 0:n[t])??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const QP=30,Lee=t=>!isNaN(parseFloat(t));class Dee{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{var o,u;const i=Cr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();a&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Cr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Lee(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new rE);const r=this.events[e].add(n);return e==="change"?()=>{r(),sn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Cr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>QP)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,QP);return u2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lu(t,e){return new Dee(t,e)}const q2=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:bE}=_2(queueMicrotask,!1),Ea={x:!1,y:!1};function G2(){return Ea.x||Ea.y}function Bee(t){return t==="x"||t==="y"?Ea[t]?null:(Ea[t]=!0,()=>{Ea[t]=!1}):Ea.x||Ea.y?null:(Ea.x=Ea.y=!0,()=>{Ea.x=Ea.y=!1})}function W2(t,e){const n=Mee(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function e$(t){return!(t.pointerType==="touch"||G2())}function Uee(t,e,n={}){const[r,a,i]=W2(t,n),o=u=>{if(!e$(u))return;const{target:c}=u,f=e(c,u);if(typeof f!="function"||!c)return;const h=m=>{e$(m)&&(f(m),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,a)};return r.forEach(u=>{u.addEventListener("pointerenter",o,a)}),i}const Z2=(t,e)=>e?t===e?!0:Z2(t,e.parentElement):!1,vE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,zee=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Fee(t){return zee.has(t.tagName)||t.tabIndex!==-1}const $m=new WeakSet;function t$(t){return e=>{e.key==="Enter"&&t(e)}}function O_(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Vee=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=t$(()=>{if($m.has(n))return;O_(n,"down");const a=t$(()=>{O_(n,"up")}),i=()=>O_(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function n$(t){return vE(t)&&!G2()}function Hee(t,e,n={}){const[r,a,i]=W2(t,n),o=u=>{const c=u.currentTarget;if(!n$(u))return;$m.add(c);const f=e(c,u),h=(b,v)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),$m.has(c)&&$m.delete(c),n$(b)&&typeof f=="function"&&f(b,{success:v})},m=b=>{h(b,c===window||c===document||n.useGlobalTarget||Z2(c,b.target))},g=b=>{h(b,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",g,a)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",o,a),D2(u)&&(u.addEventListener("focus",f=>Vee(f,a)),!Fee(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),i}function K2(t){return o2(t)&&"ownerSVGElement"in t}function qee(t){return K2(t)&&t.tagName==="svg"}const ar=t=>!!(t&&t.getVelocity),Gee=[...F2,nr,Js],Wee=t=>Gee.find(z2(t)),Y2=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Zee(t=!0){const e=R.useContext(Jx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,i=R.useId();R.useEffect(()=>{if(t)return a(i)},[t]);const o=R.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const X2=R.createContext({strict:!1}),r$={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Du={};for(const t in r$)Du[t]={isEnabled:e=>r$[t].some(n=>!!e[n])};function Kee(t){for(const e in t)Du[e]={...Du[e],...t[e]}}const Yee=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Yee.has(t)}let J2=t=>!yg(t);function Xee(t){t&&(J2=e=>e.startsWith("on")?!yg(e):t(e))}try{Xee(require("@emotion/is-prop-valid").default)}catch{}function Jee(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(J2(a)||n===!0&&yg(a)||!e&&!yg(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}function Qee(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const py=R.createContext({});function my(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function If(t){return typeof t=="string"||Array.isArray(t)}const _E=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wE=["initial",..._E];function gy(t){return my(t.animate)||wE.some(e=>If(t[e]))}function Q2(t){return!!(gy(t)||t.variants)}function ete(t,e){if(gy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||If(n)?n:void 0,animate:If(r)?r:void 0}}return t.inherit!==!1?e:{}}function tte(t){const{initial:e,animate:n}=ete(t,R.useContext(py));return R.useMemo(()=>({initial:e,animate:n}),[a$(e),a$(n)])}function a$(t){return Array.isArray(t)?t.join(" "):t}const nte=Symbol.for("motionComponentSymbol");function hu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function rte(t,e,n){return R.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):hu(n)&&(n.current=r))},[e])}const SE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ate="framerAppearId",eL="data-"+SE(ate),tL=R.createContext({});function ite(t,e,n,r,a){var w,S;const{visualElement:i}=R.useContext(py),o=R.useContext(X2),u=R.useContext(Jx),c=R.useContext(Y2).reducedMotion,f=R.useRef(null);r=r||o.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:i,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const h=f.current,m=R.useContext(tL);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&ste(f.current,n,a,m);const g=R.useRef(!1);R.useInsertionEffect(()=>{h&&g.current&&h.update(n,u)});const b=n[eL],v=R.useRef(!!b&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,b))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,b)));return XJ(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),bE.render(h.render),v.current&&h.animationState&&h.animationState.animateChanges())}),R.useEffect(()=>{h&&(!v.current&&h.animationState&&h.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,b)}),v.current=!1))}),h}function ste(t,e,n,r){const{layoutId:a,layout:i,drag:o,dragConstraints:u,layoutScroll:c,layoutRoot:f,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:nL(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||u&&hu(u),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:c,layoutRoot:f})}function nL(t){if(t)return t.options.allowProjection!==!1?t.projection:nL(t.parent)}function ote({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:a}){t&&Kee(t);function i(u,c){let f;const h={...R.useContext(Y2),...u,layoutId:lte(u)},{isStatic:m}=h,g=tte(u),b=r(u,m);if(!m&&Xx){ute();const v=cte(h);f=v.MeasureLayout,g.visualElement=ite(a,b,h,e,v.ProjectionNode)}return I.jsxs(py.Provider,{value:g,children:[f&&g.visualElement?I.jsx(f,{visualElement:g.visualElement,...h}):null,n(a,u,rte(b,g.visualElement,c),b,m,g.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const o=R.forwardRef(i);return o[nte]=a,o}function lte({layoutId:t}){const e=R.useContext(i2).id;return e&&t!==void 0?e+"-"+t:t}function ute(t,e){R.useContext(X2).strict}function cte(t){const{drag:e,layout:n}=Du;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const jf={};function dte(t){for(const e in t)jf[e]=t[e],sE(e)&&(jf[e].isCSSVariable=!0)}function rL(t,{layout:e,layoutId:n}){return ac.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!jf[t]||t==="opacity")}const fte={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hte=rc.length;function pte(t,e,n){let r="",a=!0;for(let i=0;i<hte;i++){const o=rc[i],u=t[o];if(u===void 0)continue;let c=!0;if(typeof u=="number"?c=u===(o.startsWith("scale")?1:0):c=parseFloat(u)===0,!c||n){const f=q2(u,yE[o]);if(!c){a=!1;const h=fte[o]||o;r+=`${h}(${f}) `}n&&(e[o]=f)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function xE(t,e,n){const{style:r,vars:a,transformOrigin:i}=t;let o=!1,u=!1;for(const c in e){const f=e[c];if(ac.has(c)){o=!0;continue}else if(sE(c)){a[c]=f;continue}else{const h=q2(f,yE[c]);c.startsWith("origin")?(u=!0,i[c]=h):r[c]=h}}if(e.transform||(o||n?r.transform=pte(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:c="50%",originY:f="50%",originZ:h=0}=i;r.transformOrigin=`${c} ${f} ${h}`}}const EE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function aL(t,e,n){for(const r in e)!ar(e[r])&&!rL(r,n)&&(t[r]=e[r])}function mte({transformTemplate:t},e){return R.useMemo(()=>{const n=EE();return xE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function gte(t,e){const n=t.style||{},r={};return aL(r,n,t),Object.assign(r,mte(t,e)),r}function yte(t,e){const n={},r=gte(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const bte={offset:"stroke-dashoffset",array:"stroke-dasharray"},vte={offset:"strokeDashoffset",array:"strokeDasharray"};function _te(t,e,n=1,r=0,a=!0){t.pathLength=1;const i=a?bte:vte;t[i.offset]=De.transform(-r);const o=De.transform(e),u=De.transform(n);t[i.array]=`${o} ${u}`}function iL(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...u},c,f,h){if(xE(t,u,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g}=t;m.transform&&(g.transform=m.transform,delete m.transform),(g.transform||m.transformOrigin)&&(g.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),g.transform&&(g.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),a!==void 0&&_te(m,a,i,o,!1)}const sL=()=>({...EE(),attrs:{}}),oL=t=>typeof t=="string"&&t.toLowerCase()==="svg";function wte(t,e,n,r){const a=R.useMemo(()=>{const i=sL();return iL(i,e,oL(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};aL(i,t.style,t),a.style={...i,...a.style}}return a}const Ste=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function TE(t){return typeof t!="string"||t.includes("-")?!1:!!(Ste.indexOf(t)>-1||/[A-Z]/u.test(t))}function xte(t=!1){return(n,r,a,{latestValues:i},o)=>{const c=(TE(n)?wte:yte)(r,i,o,n),f=Jee(r,typeof n=="string",t),h=n!==R.Fragment?{...f,...c,ref:a}:{},{children:m}=r,g=R.useMemo(()=>ar(m)?m.get():m,[m]);return R.createElement(n,{...h,children:g})}}function i$(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function CE(t,e,n,r){if(typeof e=="function"){const[a,i]=i$(r);e=e(n!==void 0?n:t.custom,a,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,i]=i$(r);e=e(n!==void 0?n:t.custom,a,i)}return e}function Im(t){return ar(t)?t.get():t}function Ete({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:Tte(n,r,a,t),renderState:e()}}const lL=t=>(e,n)=>{const r=R.useContext(py),a=R.useContext(Jx),i=()=>Ete(t,e,r,a);return n?i():YJ(i)};function Tte(t,e,n,r){const a={},i=r(t,{});for(const g in i)a[g]=Im(i[g]);let{initial:o,animate:u}=t;const c=gy(t),f=Q2(t);e&&f&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),u===void 0&&(u=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const m=h?u:o;if(m&&typeof m!="boolean"&&!my(m)){const g=Array.isArray(m)?m:[m];for(let b=0;b<g.length;b++){const v=CE(t,g[b]);if(v){const{transitionEnd:w,transition:S,...x}=v;for(const C in x){let E=x[C];if(Array.isArray(E)){const O=h?E.length-1:0;E=E[O]}E!==null&&(a[C]=E)}for(const C in w)a[C]=w[C]}}}return a}function RE(t,e,n){var i;const{style:r}=t,a={};for(const o in r)(ar(r[o])||e.style&&ar(e.style[o])||rL(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=r[o]);return a}const Cte={useVisualState:lL({scrapeMotionValuesFromProps:RE,createRenderState:EE})};function uL(t,e,n){const r=RE(t,e,n);for(const a in t)if(ar(t[a])||ar(e[a])){const i=rc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[i]=t[a]}return r}const Rte={useVisualState:lL({scrapeMotionValuesFromProps:uL,createRenderState:sL})};function Ate(t,e){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...TE(r)?Rte:Cte,preloadedFeatures:t,useRender:xte(a),createVisualElement:e,Component:r};return ote(o)}}function Nf(t,e,n){const r=t.getProps();return CE(r,e,n!==void 0?n:r.custom,t)}const Xw=t=>Array.isArray(t);function Ote(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Lu(n))}function kte(t){return Xw(t)?t[t.length-1]||0:t}function Pte(t,e){const n=Nf(t,e);let{transitionEnd:r={},transition:a={},...i}=n||{};i={...i,...r};for(const o in i){const u=kte(i[o]);Ote(t,o,u)}}function $te(t){return!!(ar(t)&&t.add)}function Jw(t,e){const n=t.getValue("willChange");if($te(n))return n.add(e);if(!n&&ts.WillChange){const r=new ts.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function cL(t){return t.props[eL]}const Ite=t=>t!==null;function jte(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(Ite),i=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[i]}const Nte={type:"spring",stiffness:500,damping:25,restSpeed:10},Mte=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Lte={type:"keyframes",duration:.8},Dte={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Bte=(t,{keyframes:e})=>e.length>2?Lte:ac.has(t)?t.startsWith("scale")?Mte(e[1]):Nte:Dte;function Ute({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:u,from:c,elapsed:f,...h}){return!!Object.keys(h).length}const AE=(t,e,n,r={},a,i)=>o=>{const u=gE(r,t)||{},c=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-oi(c);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:g=>{e.set(g),u.onUpdate&&u.onUpdate(g)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:i?void 0:a};Ute(u)||Object.assign(h,Bte(t,h)),h.duration&&(h.duration=oi(h.duration)),h.repeatDelay&&(h.repeatDelay=oi(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(m=!0)),(ts.instantAnimations||ts.skipAnimations)&&(m=!0,h.duration=0,h.delay=0),h.allowFlatten=!u.type&&!u.ease,m&&!i&&e.get()!==void 0){const g=jte(h.keyframes,u);if(g!==void 0){sn.update(()=>{h.onUpdate(g),h.onComplete()});return}}return u.isSync?new pE(h):new xee(h)};function zte({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function dL(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...u}=e;r&&(i=r);const c=[],f=a&&t.animationState&&t.animationState.getState()[a];for(const h in u){const m=t.getValue(h,t.latestValues[h]??null),g=u[h];if(g===void 0||f&&zte(f,h))continue;const b={delay:n,...gE(i||{},h)},v=m.get();if(v!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===v&&!b.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const x=cL(t);if(x){const C=window.MotionHandoffAnimation(x,h,sn);C!==null&&(b.startTime=C,w=!0)}}Jw(t,h),m.start(AE(h,m,g,t.shouldReduceMotion&&U2.has(h)?{type:!1}:b,t,w));const S=m.animation;S&&c.push(S)}return o&&Promise.all(c).then(()=>{sn.update(()=>{o&&Pte(t,o)})}),c}function Qw(t,e,n={}){var c;const r=Nf(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(dL(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:g}=a;return Fte(t,e,h+f,m,g,n)}:()=>Promise.resolve(),{when:u}=a;if(u){const[f,h]=u==="beforeChildren"?[i,o]:[o,i];return f().then(()=>h())}else return Promise.all([i(),o(n.delay)])}function Fte(t,e,n=0,r=0,a=1,i){const o=[],u=(t.variantChildren.size-1)*r,c=a===1?(f=0)=>f*r:(f=0)=>u-f*r;return Array.from(t.variantChildren).sort(Vte).forEach((f,h)=>{f.notify("AnimationStart",e),o.push(Qw(f,e,{...i,delay:n+c(h)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(o)}function Vte(t,e){return t.sortNodePosition(e)}function Hte(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(i=>Qw(t,i,n));r=Promise.all(a)}else if(typeof e=="string")r=Qw(t,e,n);else{const a=typeof e=="function"?Nf(t,e,n.custom):e;r=Promise.all(dL(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function fL(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const qte=wE.length;function hL(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?hL(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<qte;n++){const r=wE[n],a=t.props[r];(If(a)||a===!1)&&(e[r]=a)}return e}const Gte=[..._E].reverse(),Wte=_E.length;function Zte(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Hte(t,n,r)))}function Kte(t){let e=Zte(t),n=s$(),r=!0;const a=c=>(f,h)=>{var g;const m=Nf(t,h,c==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(m){const{transition:b,transitionEnd:v,...w}=m;f={...f,...w,...v}}return f};function i(c){e=c(t)}function o(c){const{props:f}=t,h=hL(t.parent)||{},m=[],g=new Set;let b={},v=1/0;for(let S=0;S<Wte;S++){const x=Gte[S],C=n[x],E=f[x]!==void 0?f[x]:h[x],O=If(E),A=x===c?C.isActive:null;A===!1&&(v=S);let N=E===h[x]&&E!==f[x]&&O;if(N&&r&&t.manuallyAnimateOnMount&&(N=!1),C.protectedKeys={...b},!C.isActive&&A===null||!E&&!C.prevProp||my(E)||typeof E=="boolean")continue;const D=Yte(C.prevProp,E);let P=D||x===c&&C.isActive&&!N&&O||S>v&&O,L=!1;const T=Array.isArray(E)?E:[E];let B=T.reduce(a(x),{});A===!1&&(B={});const{prevResolvedValues:Z={}}=C,ne={...Z,...B},q=z=>{P=!0,g.has(z)&&(L=!0,g.delete(z)),C.needsAnimating[z]=!0;const K=t.getValue(z);K&&(K.liveStyle=!1)};for(const z in ne){const K=B[z],V=Z[z];if(b.hasOwnProperty(z))continue;let j=!1;Xw(K)&&Xw(V)?j=!fL(K,V):j=K!==V,j?K!=null?q(z):g.add(z):K!==void 0&&g.has(z)?q(z):C.protectedKeys[z]=!0}C.prevProp=E,C.prevResolvedValues=B,C.isActive&&(b={...b,...B}),r&&t.blockInitialAnimation&&(P=!1),P&&(!(N&&D)||L)&&m.push(...T.map(z=>({animation:z,options:{type:x}})))}if(g.size){const S={};if(typeof f.initial!="boolean"){const x=Nf(t,Array.isArray(f.initial)?f.initial[0]:f.initial);x&&x.transition&&(S.transition=x.transition)}g.forEach(x=>{const C=t.getBaseTarget(x),E=t.getValue(x);E&&(E.liveStyle=!0),S[x]=C??null}),m.push({animation:S})}let w=!!m.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(m):Promise.resolve()}function u(c,f){var m;if(n[c].isActive===f)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(g=>{var b;return(b=g.animationState)==null?void 0:b.setActive(c,f)}),n[c].isActive=f;const h=o(c);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:o,setActive:u,setAnimateFunction:i,getState:()=>n,reset:()=>{n=s$(),r=!0}}}function Yte(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!fL(e,t):!1}function Ao(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function s$(){return{animate:Ao(!0),whileInView:Ao(),whileHover:Ao(),whileTap:Ao(),whileDrag:Ao(),whileFocus:Ao(),exit:Ao()}}class ro{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Xte extends ro{constructor(e){super(e),e.animationState||(e.animationState=Kte(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();my(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Jte=0;class Qte extends ro{constructor(){super(...arguments),this.id=Jte++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ene={animation:{Feature:Xte},exit:{Feature:Qte}};function Mf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function mh(t){return{point:{x:t.pageX,y:t.pageY}}}const tne=t=>e=>vE(e)&&t(e,mh(e));function Xd(t,e,n,r){return Mf(t,e,tne(n),r)}function pL({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function nne({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function rne(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const mL=1e-4,ane=1-mL,ine=1+mL,gL=.01,sne=0-gL,one=0+gL;function hr(t){return t.max-t.min}function lne(t,e,n){return Math.abs(t-e)<=n}function o$(t,e,n,r=.5){t.origin=r,t.originPoint=rn(e.min,e.max,t.origin),t.scale=hr(n)/hr(e),t.translate=rn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=ane&&t.scale<=ine||isNaN(t.scale))&&(t.scale=1),(t.translate>=sne&&t.translate<=one||isNaN(t.translate))&&(t.translate=0)}function Jd(t,e,n,r){o$(t.x,e.x,n.x,r?r.originX:void 0),o$(t.y,e.y,n.y,r?r.originY:void 0)}function l$(t,e,n){t.min=n.min+e.min,t.max=t.min+hr(e)}function une(t,e,n){l$(t.x,e.x,n.x),l$(t.y,e.y,n.y)}function u$(t,e,n){t.min=e.min-n.min,t.max=t.min+hr(e)}function Qd(t,e,n){u$(t.x,e.x,n.x),u$(t.y,e.y,n.y)}const c$=()=>({translate:0,scale:1,origin:0,originPoint:0}),pu=()=>({x:c$(),y:c$()}),d$=()=>({min:0,max:0}),yn=()=>({x:d$(),y:d$()});function oa(t){return[t("x"),t("y")]}function k_(t){return t===void 0||t===1}function eS({scale:t,scaleX:e,scaleY:n}){return!k_(t)||!k_(e)||!k_(n)}function $o(t){return eS(t)||yL(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function yL(t){return f$(t.x)||f$(t.y)}function f$(t){return t&&t!=="0%"}function bg(t,e,n){const r=t-n,a=e*r;return n+a}function h$(t,e,n,r,a){return a!==void 0&&(t=bg(t,a,r)),bg(t,n,r)+e}function tS(t,e=0,n=1,r,a){t.min=h$(t.min,e,n,r,a),t.max=h$(t.max,e,n,r,a)}function bL(t,{x:e,y:n}){tS(t.x,e.translate,e.scale,e.originPoint),tS(t.y,n.translate,n.scale,n.originPoint)}const p$=.999999999999,m$=1.0000000000001;function cne(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let i,o;for(let u=0;u<a;u++){i=n[u],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&gu(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,bL(t,o)),r&&$o(i.latestValues)&&gu(t,i.latestValues))}e.x<m$&&e.x>p$&&(e.x=1),e.y<m$&&e.y>p$&&(e.y=1)}function mu(t,e){t.min=t.min+e,t.max=t.max+e}function g$(t,e,n,r,a=.5){const i=rn(t.min,t.max,a);tS(t,e,n,i,r)}function gu(t,e){g$(t.x,e.x,e.scaleX,e.scale,e.originX),g$(t.y,e.y,e.scaleY,e.scale,e.originY)}function vL(t,e){return pL(rne(t.getBoundingClientRect(),e))}function dne(t,e,n){const r=vL(t,n),{scroll:a}=e;return a&&(mu(r.x,a.offset.x),mu(r.y,a.offset.y)),r}const _L=({current:t})=>t?t.ownerDocument.defaultView:null,y$=(t,e)=>Math.abs(t-e);function fne(t,e){const n=y$(t.x,e.x),r=y$(t.y,e.y);return Math.sqrt(n**2+r**2)}class wL{constructor(e,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=$_(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,b=fne(m.offset,{x:0,y:0})>=3;if(!g&&!b)return;const{point:v}=m,{timestamp:w}=qn;this.history.push({...v,timestamp:w});const{onStart:S,onMove:x}=this.handlers;g||(S&&S(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=P_(g,this.transformPagePoint),sn.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{this.end();const{onEnd:b,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=$_(m.type==="pointercancel"?this.lastMoveEventInfo:P_(g,this.transformPagePoint),this.history);this.startEvent&&b&&b(m,S),v&&v(m,S)},!vE(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const o=mh(e),u=P_(o,this.transformPagePoint),{point:c}=u,{timestamp:f}=qn;this.history=[{...c,timestamp:f}];const{onSessionStart:h}=n;h&&h(e,$_(u,this.history)),this.removeListeners=fh(Xd(this.contextWindow,"pointermove",this.handlePointerMove),Xd(this.contextWindow,"pointerup",this.handlePointerUp),Xd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Xs(this.updatePoint)}}function P_(t,e){return e?{point:e(t.point)}:t}function b$(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $_({point:t},e){return{point:t,delta:b$(t,SL(e)),offset:b$(t,hne(e)),velocity:pne(e,.1)}}function hne(t){return t[0]}function SL(t){return t[t.length-1]}function pne(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=SL(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>oi(e)));)n--;if(!r)return{x:0,y:0};const i=li(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function mne(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?rn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?rn(n,t,r.max):Math.min(t,n)),t}function v$(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function gne(t,{top:e,left:n,bottom:r,right:a}){return{x:v$(t.x,n,a),y:v$(t.y,e,r)}}function _$(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function yne(t,e){return{x:_$(t.x,e.x),y:_$(t.y,e.y)}}function bne(t,e){let n=.5;const r=hr(t),a=hr(e);return a>r?n=kf(e.min,e.max-r,t.min):r>a&&(n=kf(t.min,t.max-a,e.min)),es(0,1,n)}function vne(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const nS=.35;function _ne(t=nS){return t===!1?t=0:t===!0&&(t=nS),{x:w$(t,"left","right"),y:w$(t,"top","bottom")}}function w$(t,e,n){return{min:S$(t,e),max:S$(t,n)}}function S$(t,e){return typeof t=="number"?t:t[e]||0}const wne=new WeakMap;class Sne{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(mh(h).point)},i=(h,m)=>{const{drag:g,dragPropagation:b,onDragStart:v}=this.getProps();if(g&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Bee(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),oa(S=>{let x=this.getAxisMotionValue(S).get()||0;if(ui.test(x)){const{projection:C}=this.visualElement;if(C&&C.layout){const E=C.layout.layoutBox[S];E&&(x=hr(E)*(parseFloat(x)/100))}}this.originPoint[S]=x}),v&&sn.postRender(()=>v(h,m)),Jw(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(h,m)=>{const{dragPropagation:g,dragDirectionLock:b,onDirectionLock:v,onDrag:w}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:S}=m;if(b&&this.currentDirection===null){this.currentDirection=xne(S),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",m.point,S),this.updateAxis("y",m.point,S),this.visualElement.render(),w&&w(h,m)},u=(h,m)=>this.stop(h,m),c=()=>oa(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new wL(e,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:u,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:_L(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&sn.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!mm(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=mne(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;e&&hu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=gne(r.layoutBox,e):this.constraints=!1,this.elastic=_ne(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&oa(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=vne(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!hu(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=dne(r,a.root,this.visualElement.getTransformPagePoint());let o=yne(a.layout.layoutBox,i);if(n){const u=n(nne(o));this.hasMutatedConstraints=!!u,u&&(o=pL(u))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},f=oa(h=>{if(!mm(h,n,this.currentDirection))return;let m=c&&c[h]||{};o&&(m={min:0,max:0});const g=a?200:1e6,b=a?40:1e7,v={type:"inertia",velocity:r?e[h]:0,bounceStiffness:g,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(h,v)});return Promise.all(f).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Jw(this.visualElement,e),r.start(AE(e,r,0,n,this.visualElement,!1))}stopAnimation(){oa(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){oa(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){oa(n=>{const{drag:r}=this.getProps();if(!mm(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:u}=a.layout.layoutBox[n];i.set(e[n]-rn(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!hu(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};oa(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const c=u.get();a[o]=bne({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),oa(o=>{if(!mm(o,e,null))return;const u=this.getAxisMotionValue(o),{min:c,max:f}=this.constraints[o];u.set(rn(c,f,a[o]))})}addListeners(){if(!this.visualElement.current)return;wne.set(this.visualElement,this);const e=this.visualElement.current,n=Xd(e,"pointerdown",c=>{const{drag:f,dragListener:h=!0}=this.getProps();f&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();hu(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),sn.read(r);const o=Mf(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f})=>{this.isDragging&&f&&(oa(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=c[h].translate,m.set(m.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=nS,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:u}}}function mm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function xne(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Ene extends ro{constructor(e){super(e),this.removeGroupControls=ca,this.removeListeners=ca,this.controls=new Sne(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ca}unmount(){this.removeGroupControls(),this.removeListeners()}}const x$=t=>(e,n)=>{t&&sn.postRender(()=>t(e,n))};class Tne extends ro{constructor(){super(...arguments),this.removePointerDownListener=ca}onPointerDown(e){this.session=new wL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_L(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:x$(e),onStart:x$(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&sn.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Xd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const jm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function E$(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const bd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=E$(t,e.target.x),r=E$(t,e.target.y);return`${n}% ${r}%`}},Cne={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=Js.parse(t);if(a.length>5)return r;const i=Js.createTransformer(t),o=typeof a[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;a[0+o]/=u,a[1+o]/=c;const f=rn(u,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=f),typeof a[3+o]=="number"&&(a[3+o]/=f),i(a)}};class Rne extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=e;dte(Ane),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),jm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,a||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||sn.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),bE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function xL(t){const[e,n]=Zee(),r=R.useContext(i2);return I.jsx(Rne,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(tL),isPresent:e,safeToRemove:n})}const Ane={borderRadius:{...bd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bd,borderTopRightRadius:bd,borderBottomLeftRadius:bd,borderBottomRightRadius:bd,boxShadow:Cne};function One(t,e,n){const r=ar(t)?t:Lu(t);return r.start(AE("",r,e,n)),r.animation}const kne=(t,e)=>t.depth-e.depth;class Pne{constructor(){this.children=[],this.isDirty=!1}add(e){Qx(this.children,e),this.isDirty=!0}remove(e){eE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kne),this.isDirty=!1,this.children.forEach(e)}}function $ne(t,e){const n=Cr.now(),r=({timestamp:a})=>{const i=a-n;i>=e&&(Xs(r),t(i-e))};return sn.setup(r,!0),()=>Xs(r)}const EL=["TopLeft","TopRight","BottomLeft","BottomRight"],Ine=EL.length,T$=t=>typeof t=="string"?parseFloat(t):t,C$=t=>typeof t=="number"||De.test(t);function jne(t,e,n,r,a,i){a?(t.opacity=rn(0,n.opacity??1,Nne(r)),t.opacityExit=rn(e.opacity??1,0,Mne(r))):i&&(t.opacity=rn(e.opacity??1,n.opacity??1,r));for(let o=0;o<Ine;o++){const u=`border${EL[o]}Radius`;let c=R$(e,u),f=R$(n,u);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||C$(c)===C$(f)?(t[u]=Math.max(rn(T$(c),T$(f),r),0),(ui.test(f)||ui.test(c))&&(t[u]+="%")):t[u]=f}(e.rotate||n.rotate)&&(t.rotate=rn(e.rotate||0,n.rotate||0,r))}function R$(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Nne=TL(0,.5,g2),Mne=TL(.5,.95,ca);function TL(t,e,n){return r=>r<t?0:r>e?1:n(kf(t,e,r))}function A$(t,e){t.min=e.min,t.max=e.max}function ia(t,e){A$(t.x,e.x),A$(t.y,e.y)}function O$(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function k$(t,e,n,r,a){return t-=e,t=bg(t,1/n,r),a!==void 0&&(t=bg(t,1/a,r)),t}function Lne(t,e=0,n=1,r=.5,a,i=t,o=t){if(ui.test(e)&&(e=parseFloat(e),e=rn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let u=rn(i.min,i.max,r);t===i&&(u-=e),t.min=k$(t.min,e,n,u,a),t.max=k$(t.max,e,n,u,a)}function P$(t,e,[n,r,a],i,o){Lne(t,e[n],e[r],e[a],e.scale,i,o)}const Dne=["x","scaleX","originX"],Bne=["y","scaleY","originY"];function $$(t,e,n,r){P$(t.x,e,Dne,n?n.x:void 0,r?r.x:void 0),P$(t.y,e,Bne,n?n.y:void 0,r?r.y:void 0)}function I$(t){return t.translate===0&&t.scale===1}function CL(t){return I$(t.x)&&I$(t.y)}function j$(t,e){return t.min===e.min&&t.max===e.max}function Une(t,e){return j$(t.x,e.x)&&j$(t.y,e.y)}function N$(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function RL(t,e){return N$(t.x,e.x)&&N$(t.y,e.y)}function M$(t){return hr(t.x)/hr(t.y)}function L$(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class zne{constructor(){this.members=[]}add(e){Qx(this.members,e),e.scheduleRender()}remove(e){if(eE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Fne(t,e,n){let r="";const a=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((a||i||o)&&(r=`translate3d(${a}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:h,rotateX:m,rotateY:g,skewX:b,skewY:v}=n;f&&(r=`perspective(${f}px) ${r}`),h&&(r+=`rotate(${h}deg) `),m&&(r+=`rotateX(${m}deg) `),g&&(r+=`rotateY(${g}deg) `),b&&(r+=`skewX(${b}deg) `),v&&(r+=`skewY(${v}deg) `)}const u=t.x.scale*e.x,c=t.y.scale*e.y;return(u!==1||c!==1)&&(r+=`scale(${u}, ${c})`),r||"none"}const I_=["","X","Y","Z"],Vne={visibility:"hidden"},Hne=1e3;let qne=0;function j_(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function AL(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=cL(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",sn,!(a||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&AL(r)}function OL({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(o={},u=e==null?void 0:e()){this.id=qne++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Zne),this.nodes.forEach(Qne),this.nodes.forEach(ere),this.nodes.forEach(Kne)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Pne)}addEventListener(o,u){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new rE),this.eventHandlers.get(o).add(u)}notifyListeners(o,...u){const c=this.eventHandlers.get(o);c&&c.notify(...u)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=K2(o)&&!qee(o),this.instance=o;const{layoutId:u,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||u)&&(this.isLayoutDirty=!0),t){let h;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=$ne(m,250),jm.hasAnimatedSinceResize&&(jm.hasAnimatedSinceResize=!1,this.nodes.forEach(B$))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||f.getDefaultTransition()||ire,{onLayoutAnimationStart:w,onLayoutAnimationComplete:S}=f.getProps(),x=!this.targetLayout||!RL(this.targetLayout,b),C=!m&&g;if(this.options.layoutRoot||this.resumeFrom||C||m&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,C);const E={...gE(v,"layout"),onPlay:w,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else m||B$(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tre),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&AL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:u,layout:c}=this.options;if(u===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(D$);return}this.isUpdating||this.nodes.forEach(Xne),this.isUpdating=!1,this.nodes.forEach(Jne),this.nodes.forEach(Gne),this.nodes.forEach(Wne),this.clearAllSnapshots();const u=Cr.now();qn.delta=es(0,1e3/60,u-qn.timestamp),qn.timestamp=u,qn.isProcessing=!0,T_.update.process(qn),T_.preRender.process(qn),T_.render.process(qn),qn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Yne),this.sharedNodes.forEach(nre)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,sn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){sn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hr(this.snapshot.measuredBox.x)&&!hr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(u=!1),u&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!CL(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;o&&this.instance&&(u||$o(this.latestValues)||h)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const u=this.measurePageBox();let c=this.removeElementScroll(u);return o&&(c=this.removeTransform(c)),sre(c),{animationId:this.root.animationId,measuredBox:u,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:o}=this.options;if(!o)return yn();const u=o.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(ore))){const{scroll:h}=this.root;h&&(mu(u.x,h.offset.x),mu(u.y,h.offset.y))}return u}removeElementScroll(o){var c;const u=yn();if(ia(u,o),(c=this.scroll)!=null&&c.wasRoot)return u;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:m,options:g}=h;h!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&ia(u,o),mu(u.x,m.offset.x),mu(u.y,m.offset.y))}return u}applyTransform(o,u=!1){const c=yn();ia(c,o);for(let f=0;f<this.path.length;f++){const h=this.path[f];!u&&h.options.layoutScroll&&h.scroll&&h!==h.root&&gu(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),$o(h.latestValues)&&gu(c,h.latestValues)}return $o(this.latestValues)&&gu(c,this.latestValues),c}removeTransform(o){const u=yn();ia(u,o);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!$o(f.latestValues))continue;eS(f.latestValues)&&f.updateSnapshot();const h=yn(),m=f.measurePageBox();ia(h,m),$$(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return $o(this.latestValues)&&$$(u,this.latestValues),u}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=qn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),Qd(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),ia(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=yn(),this.targetWithTransforms=yn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),une(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ia(this.target,this.layout.layoutBox),bL(this.target,this.targetDelta)):ia(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),Qd(this.relativeTargetOrigin,this.target,b.target),ia(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||eS(this.parent.latestValues)||yL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),u=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===qn.timestamp&&(c=!1),c)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;ia(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;cne(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=yn());const{target:b}=o;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(O$(this.prevProjectionDelta.x,this.projectionDelta.x),O$(this.prevProjectionDelta.y,this.projectionDelta.y)),Jd(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!L$(this.projectionDelta.x,this.prevProjectionDelta.x)||!L$(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pu(),this.projectionDelta=pu(),this.projectionDeltaWithTransform=pu()}setAnimationOrigin(o,u=!1){const c=this.snapshot,f=c?c.latestValues:{},h={...this.latestValues},m=pu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const g=yn(),b=c?c.source:void 0,v=this.layout?this.layout.source:void 0,w=b!==v,S=this.getStack(),x=!S||S.members.length<=1,C=!!(w&&!x&&this.options.crossfade===!0&&!this.path.some(are));this.animationProgress=0;let E;this.mixTargetDelta=O=>{const A=O/1e3;U$(m.x,o.x,A),U$(m.y,o.y,A),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qd(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rre(this.relativeTarget,this.relativeTargetOrigin,g,A),E&&Une(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=yn()),ia(E,this.relativeTarget)),w&&(this.animationValues=h,jne(h,f,this.latestValues,A,C,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var u,c,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(!1),(f=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||f.stop(!1),this.pendingAnimation&&(Xs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sn.update(()=>{jm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Lu(0)),this.currentAnimation=One(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Hne),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:u,target:c,layout:f,latestValues:h}=o;if(!(!u||!c||!f)){if(this!==o&&this.layout&&f&&kL(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||yn();const m=hr(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const g=hr(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}ia(u,c),gu(u,h),Jd(this.projectionDeltaWithTransform,this.layoutCorrected,u,h)}}registerSharedNode(o,u){this.sharedNodes.has(o)||this.sharedNodes.set(o,new zne),this.sharedNodes.get(o).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var u;const{layoutId:o}=this.options;return o?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:o}=this.options;return o?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:u,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let u=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(u=!0),!u)return;const f={};c.z&&j_("z",o,f,this.animationValues);for(let h=0;h<I_.length;h++)j_(`rotate${I_[h]}`,o,f,this.animationValues),j_(`skew${I_[h]}`,o,f,this.animationValues);o.render();for(const h in f)o.setStaticValue(h,f[h]),this.animationValues&&(this.animationValues[h]=f[h]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Vne;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Im(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Im(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!$o(this.latestValues)&&(b.transform=c?c({},""):"none",this.hasProjected=!1),b}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Fne(this.projectionDeltaWithTransform,this.treeScale,h),c&&(u.transform=c(h,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const b in jf){if(h[b]===void 0)continue;const{correct:v,applyTo:w,isCSSVariable:S}=jf[b],x=u.transform==="none"?h[b]:v(h[b],f);if(w){const C=w.length;for(let E=0;E<C;E++)u[w[E]]=x}else S?this.options.visualElement.renderState.vars[b]=x:u[b]=x}return this.options.layoutId&&(u.pointerEvents=f===this?Im(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var u;return(u=o.currentAnimation)==null?void 0:u.stop(!1)}),this.root.nodes.forEach(D$),this.root.sharedNodes.clear()}}}function Gne(t){t.updateLayout()}function Wne(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?oa(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],b=hr(g);g.min=r[m].min,g.max=g.min+b}):kL(i,e.layoutBox,r)&&oa(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],b=hr(r[m]);g.max=g.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+b)});const u=pu();Jd(u,r,e.layoutBox);const c=pu();o?Jd(c,t.applyTransform(a,!0),e.measuredBox):Jd(c,r,e.layoutBox);const f=!CL(u);let h=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:b}=m;if(g&&b){const v=yn();Qd(v,e.layoutBox,g.layoutBox);const w=yn();Qd(w,r,b.layoutBox),RL(v,w)||(h=!0),m.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=v,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Zne(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Kne(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Yne(t){t.clearSnapshot()}function D$(t){t.clearMeasurements()}function Xne(t){t.isLayoutDirty=!1}function Jne(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function B$(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Qne(t){t.resolveTargetDelta()}function ere(t){t.calcProjection()}function tre(t){t.resetSkewAndRotation()}function nre(t){t.removeLeadSnapshot()}function U$(t,e,n){t.translate=rn(e.translate,0,n),t.scale=rn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function z$(t,e,n,r){t.min=rn(e.min,n.min,r),t.max=rn(e.max,n.max,r)}function rre(t,e,n,r){z$(t.x,e.x,n.x,r),z$(t.y,e.y,n.y,r)}function are(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ire={duration:.45,ease:[.4,0,.1,1]},F$=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),V$=F$("applewebkit/")&&!F$("chrome/")?Math.round:ca;function H$(t){t.min=V$(t.min),t.max=V$(t.max)}function sre(t){H$(t.x),H$(t.y)}function kL(t,e,n){return t==="position"||t==="preserve-aspect"&&!lne(M$(e),M$(n),.2)}function ore(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const lre=OL({attachResizeListener:(t,e)=>Mf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),N_={current:void 0},PL=OL({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!N_.current){const t=new lre({});t.mount(window),t.setOptions({layoutScroll:!0}),N_.current=t}return N_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ure={pan:{Feature:Tne},drag:{Feature:Ene,ProjectionNode:PL,MeasureLayout:xL}};function q$(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,i=r[a];i&&sn.postRender(()=>i(e,mh(e)))}class cre extends ro{mount(){const{current:e}=this.node;e&&(this.unmount=Uee(e,(n,r)=>(q$(this.node,r,"Start"),a=>q$(this.node,a,"End"))))}unmount(){}}class dre extends ro{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fh(Mf(this.node.current,"focus",()=>this.onFocus()),Mf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function G$(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),i=r[a];i&&sn.postRender(()=>i(e,mh(e)))}class fre extends ro{mount(){const{current:e}=this.node;e&&(this.unmount=Hee(e,(n,r)=>(G$(this.node,r,"Start"),(a,{success:i})=>G$(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const rS=new WeakMap,M_=new WeakMap,hre=t=>{const e=rS.get(t.target);e&&e(t)},pre=t=>{t.forEach(hre)};function mre({root:t,...e}){const n=t||document;M_.has(n)||M_.set(n,{});const r=M_.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(pre,{root:t,...e})),r[a]}function gre(t,e,n){const r=mre(e);return rS.set(t,n),r.observe(t),()=>{rS.delete(t),r.unobserve(t)}}const yre={some:0,all:1};class bre extends ro{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:yre[a]},u=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,i&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),g=f?h:m;g&&g(c)};return gre(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(vre(e,n))&&this.startObserver()}unmount(){}}function vre({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const _re={inView:{Feature:bre},tap:{Feature:fre},focus:{Feature:dre},hover:{Feature:cre}},wre={layout:{ProjectionNode:PL,MeasureLayout:xL}},aS={current:null},$L={current:!1};function Sre(){if($L.current=!0,!!Xx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>aS.current=t.matches;t.addListener(e),e()}else aS.current=!1}const xre=new WeakMap;function Ere(t,e,n){for(const r in e){const a=e[r],i=n[r];if(ar(a))t.addValue(r,a);else if(ar(i))t.addValue(r,Lu(a,{owner:t}));else if(i!==a)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=t.getStaticValue(r);t.addValue(r,Lu(o!==void 0?o:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const W$=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Tre{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Cr.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,sn.render(this.render,!1,!0))};const{latestValues:c,renderState:f}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!i,this.isControllingVariants=gy(n),this.isVariantNode=Q2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in m){const b=m[g];c[g]!==void 0&&ar(b)&&b.set(c[g],!1)}}mount(e){this.current=e,xre.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),$L.current||Sre(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:aS.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Xs(this.notifyUpdate),Xs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ac.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&sn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Du){const n=Du[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<W$.length;r++){const a=W$[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=e[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=Ere(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Lu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(s2(r)||l2(r))?r=parseFloat(r):!Wee(r)&&Js.test(n)&&(r=H2(e,n)),this.setBaseTarget(e,ar(r)?r.get():r)),ar(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=CE(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!ar(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new rE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class IL extends Tre{constructor(){super(...arguments),this.KeyframeResolver=Nee}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ar(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function jL(t,{style:e,vars:n},r,a){Object.assign(t.style,e,a&&a.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}function Cre(t){return window.getComputedStyle(t)}class Rre extends IL{constructor(){super(...arguments),this.type="html",this.renderInstance=jL}readValueFromInstance(e,n){var r;if(ac.has(n))return(r=this.projection)!=null&&r.isProjecting?qw(n):eee(e,n);{const a=Cre(e),i=(sE(n)?a.getPropertyValue(n):a[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return vL(e,n)}build(e,n,r){xE(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return RE(e,n,r)}}const NL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Are(t,e,n,r){jL(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(NL.has(a)?a:SE(a),e.attrs[a])}class Ore extends IL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ac.has(n)){const r=V2(n);return r&&r.default||0}return n=NL.has(n)?n:SE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return uL(e,n,r)}build(e,n,r){iL(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){Are(e,n,r,a)}mount(e){this.isSVGTag=oL(e.tagName),super.mount(e)}}const kre=(t,e)=>TE(t)?new Ore(e):new Rre(e,{allowProjection:t!==R.Fragment}),Pre=Ate({...ene,..._re,...ure,...wre},kre),Z$=Qee(Pre),$re=()=>{const t=Bf(),{cartItems:e,completeOrder:n,orderAssistant:r,setChatMessages:a,chatMessages:i}=dh(),[o,u]=R.useState(!1),c=e.reduce((g,b)=>g+b.price*b.quantity,0),f=async g=>{g.preventDefault(),u(!0);const b=await n();u(!1),b&&t("/complete")},h={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},m={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return R.useEffect(()=>{r&&a([...i,{role:"assistant",content:`지금까지 선택하신 메뉴는 오른쪽 화면에 있습니다. 내용을 확인하신 후, 카드를 넣고 결제를 진행해 주세요.

주문하신 메뉴의 총 금액은 ${e.reduce((g,b)=>g+b.price*b.quantity,0).toLocaleString()}원 입니다.`}])},[]),I.jsx(DS,{maxWidth:"xl",children:I.jsxs(US,{container:!0,spacing:3,children:[I.jsx(ht,{sx:{width:"65%"},children:I.jsxs(Xi,{elevation:2,sx:{p:3},children:[I.jsx($t,{variant:"h6",gutterBottom:!0,children:"주문 내역"}),I.jsx(Ji,{sx:{my:2}}),I.jsx(FS,{disablePadding:!0,component:Z$.div,variants:h,initial:"hidden",animate:"visible",children:e.map((g,b)=>I.jsxs(yj,{disablePadding:!0,sx:{py:1},component:Z$.div,variants:m,children:[I.jsx(bj,{primary:I.jsxs($t,{variant:"body1",children:[g.name," × ",g.quantity]}),secondary:g.options.length>0?I.jsx(ht,{component:"span",sx:{display:"block",mt:.5},children:g.options.map((v,w)=>I.jsxs($t,{variant:"body2",color:"text.secondary",children:["+ ",v.name]},w))}):null}),I.jsxs($t,{variant:"body1",sx:{fontWeight:"bold"},children:[(g.price*g.quantity).toLocaleString(),"원"]})]},b))}),I.jsx(Ji,{sx:{my:2}}),I.jsxs(ht,{sx:{display:"flex",justifyContent:"space-between"},children:[I.jsx($t,{variant:"h6",children:"총 금액"}),I.jsxs($t,{variant:"h6",color:"primary",sx:{fontWeight:"bold"},children:[I.jsx(KJ,{end:c,duration:1.5,separator:","}),"원"]})]})]})}),I.jsx(ht,{sx:{width:"25%"},children:I.jsxs(Xi,{elevation:2,sx:{p:3},children:[I.jsx(ht,{sx:{mb:2},children:I.jsx(Hi,{variant:"text",sx:{border:"1px solid red",color:"red"},fullWidth:!0,size:"large",onClick:()=>t("/order"),children:"뒤로가기"})}),I.jsx(ht,{component:"form",onSubmit:f,children:I.jsx(Hi,{type:"submit",variant:"contained",fullWidth:!0,size:"large",disabled:o||e.length===0,children:o?"처리 중...":"결제하기"})})]})})]})})},Ire=ha(I.jsx("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"})),jre=Yo`
  0% {
    transform: translateY(-100px) scale(0.8);
    opacity: 0;
  }
  60% {
    transform: translateY(20px) scale(1.1);
  }
  100% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
`,Nre=()=>{const t=Bf(),{orderNumber:e,orderAssistant:n,chatMessages:r,setChatMessages:a}=dh();return R.useEffect(()=>{n&&a([...r,{role:"assistant",content:`주문번호는 ${e}번 입니다. 

"제품받는 곳" 모니터에 주문번호가 표시되면 영수증을 제시하시고 제품을 받아가세요. 

감사합니다!`}])},[]),I.jsx(DS,{maxWidth:"sm",sx:{py:6},children:I.jsxs(Xi,{elevation:3,sx:{p:4,textAlign:"center",borderRadius:2,animation:`${jre} 0.8s ease-out forwards`,opacity:0},children:[I.jsx(Ire,{sx:{fontSize:80,color:"success.main",mb:2}}),I.jsx($t,{variant:"body1",color:"text.secondary",children:"주문번호 / Order No."}),I.jsx($t,{variant:"h4",gutterBottom:!0,sx:{fontWeight:"bold",fontSize:"100px"},children:e}),I.jsxs($t,{variant:"body1",color:"text.secondary",sx:{mb:8},children:["맥도날드를 이용해 주셔서 감사합니다.",I.jsx("br",{}),"맛있는 음식이 곧 준비될 예정입니다."]}),I.jsx(Hi,{variant:"contained",size:"large",onClick:()=>t("/"),sx:{px:4},children:"홈 화면 가기"})]})})},Mre=ha(I.jsx("path",{d:"M18.06 22.99h1.66c.84 0 1.53-.64 1.63-1.46L23 5.05h-5V1h-1.97v4.05h-4.97l.3 2.34c1.71.47 3.31 1.32 4.27 2.26 1.44 1.42 2.43 2.89 2.43 5.29zM1 21.99V21h15.03v.99c0 .55-.45 1-1.01 1H2.01c-.56 0-1.01-.45-1.01-1m15.03-7c0-8-15.03-8-15.03 0zM1.02 17h15v2h-15z"})),Lre=ha(I.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),Dre=({message:t})=>{if(t==null)return null;const e=t.role==="user";return I.jsxs(ht,{sx:{display:"flex",justifyContent:e?"flex-end":"flex-start",mb:2},children:[!e&&I.jsx(xA,{sx:{bgcolor:"primary.main",mr:1,width:32,height:32},children:I.jsx(Mre,{fontSize:"small"})}),I.jsx(Xi,{elevation:1,sx:{p:2,maxWidth:"70%",bgcolor:e?"primary.light":"grey.100",color:e?"white":"text.primary",borderRadius:e?"20px 5px 20px 20px":"5px 20px 20px 20px"},children:I.jsx($t,{variant:"body1",sx:{whiteSpace:"pre-wrap"},children:t.content})}),e&&I.jsx(xA,{sx:{bgcolor:"grey.400",ml:1,width:32,height:32},children:I.jsx(Lre,{fontSize:"small"})})]})},Bre=ha(I.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"})),Ure=({onSendMessage:t,isLoading:e})=>{const[n,r]=R.useState(""),a=R.useRef(null),i=async o=>{var u;o.preventDefault(),n.trim()&&!e&&(await t(n),r(""),(u=a.current)==null||u.focus())};return I.jsxs(ht,{component:"form",onSubmit:i,sx:{display:"flex",alignItems:"center",mt:2},children:[I.jsx(zH,{inputRef:a,fullWidth:!0,value:n,onChange:o=>r(o.target.value),onKeyDown:o=>{o.key==="Enter"&&i(o)},placeholder:"메시지를 입력하세요...",variant:"outlined",disabled:e,size:"small",multiline:!0,sx:{mr:1}}),I.jsx(dj,{type:"submit",color:"primary",disabled:!n.trim()||e,sx:{bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark"},"&.Mui-disabled":{bgcolor:"grey.300",color:"grey.500"}},children:e?I.jsx(Yf,{size:24,color:"inherit"}):I.jsx(Bre,{})})]})},zre=({messages:t,isLoading:e,onSendMessage:n})=>{const r=R.useRef(null);return R.useEffect(()=>{var a;(a=r.current)==null||a.scrollIntoView({behavior:"smooth"})},[t]),I.jsxs(Xi,{elevation:3,sx:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[I.jsx(ht,{sx:{p:2,bgcolor:"#FFC72C",color:"black",textAlign:"center"},children:I.jsx($t,{variant:"h6",children:"AI 주문 도우미"})}),I.jsx(Ji,{}),I.jsxs(ht,{sx:{flex:1,overflow:"auto",p:2,display:"flex",flexDirection:"column"},children:[t.map((a,i)=>I.jsx(Dre,{message:a},i)),e&&I.jsx(ht,{sx:{display:"flex",justifyContent:"center",p:2},children:I.jsx(Yf,{size:24})}),I.jsx("div",{ref:r})]}),I.jsx(Ji,{}),I.jsx(ht,{sx:{p:2},children:I.jsx(Ure,{onSendMessage:n,isLoading:e})})]})},Fre=()=>{const t=Bf(),{initializeSession:e}=dh();return R.useEffect(()=>{e()},[e]),I.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[I.jsx("img",{src:"/mcdonald-order-app/home.jpg",alt:"맥도날드 홈화면",style:{maxHeight:"40%",height:"auto",objectFit:"contain"}}),I.jsx("img",{src:"/mcdonald-order-app/home2.jpg",alt:"맥도날드 홈화면",style:{maxHeight:"40%",height:"auto",objectFit:"contain"}}),I.jsx(Hi,{sx:{marginTop:"20px",marginBottom:"50px",width:"400px",backgroundColor:"#FFC72C",color:"#DA291C",fontWeight:"bold",fontSize:"1.2rem",padding:"10px 30px","&:hover":{backgroundColor:"#FFD54F"}},onClick:()=>t("/order"),children:"주문하기"})]})},K$=jg({palette:{primary:{main:"#FF0000",dark:"#C00000",light:"#FF4D4D"},secondary:{main:"#FFC72C"}},typography:{fontFamily:'"Noto Sans KR", "Roboto", "Helvetica", "Arial", sans-serif'}});function Vre(){const{chatMessages:t,isLoading:e,sendMessage:n}=dh(),r=Qs(),a=R.useMemo(()=>r.pathname==="/",[r]);return console.log(a),I.jsxs(hF,{theme:K$,children:[I.jsx(_F,{}),I.jsxs(ht,{sx:{maxWidth:"90%",margin:"0 auto",px:2,height:"100vh",display:"flex",flexDirection:"column"},children:[I.jsx(ht,{sx:{mt:3,textAlign:"center"},children:I.jsx($t,{variant:"h4",component:"h1",sx:{fontWeight:"bold",color:K$.palette.primary.main},children:"맥도날드"})}),I.jsxs(ht,{sx:{flex:1,display:"flex",flexDirection:"row",mt:2},children:[!a&&I.jsx(ht,{sx:{width:"25%",display:"flex",flexDirection:"column",height:"calc(100vh - 150px)"},children:I.jsx(zre,{messages:t,isLoading:e,onSendMessage:n})}),I.jsx(ht,{sx:{width:a?"100%":"75%",height:"calc(100vh - 150px)",display:"flex",flexDirection:"column"},children:I.jsxs(Z4,{children:[I.jsx(vd,{path:"/",element:I.jsx(Fre,{})}),I.jsx(vd,{path:"/order",element:I.jsx(HJ,{})}),I.jsx(vd,{path:"/checkout",element:I.jsx($re,{})}),I.jsx(vd,{path:"/complete",element:I.jsx(Nre,{})})]})})]})]})]})}const Hre=r4.createRoot(document.getElementById("root"));Hre.render(I.jsx(Vr.StrictMode,{children:I.jsx(bU,{children:I.jsx(Vre,{})})}));export{hi as g};
